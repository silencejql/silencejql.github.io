<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Silencejql</title>
  
  
  <link href="https://silencejql.github.io/atom.xml" rel="self"/>
  
  <link href="https://silencejql.github.io/"/>
  <updated>2025-08-11T05:19:58.323Z</updated>
  <id>https://silencejql.github.io/</id>
  
  <author>
    <name>Justin</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Basler相机网卡驱动配置更改</title>
    <link href="https://silencejql.github.io/Basler%E7%9B%B8%E6%9C%BA%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9.html"/>
    <id>https://silencejql.github.io/Basler%E7%9B%B8%E6%9C%BA%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9.html</id>
    <published>2025-08-11T05:06:25.000Z</published>
    <updated>2025-08-11T05:19:58.323Z</updated>
    
    <content type="html"><![CDATA[<p>解决程序拍照时软件<strong>网络占比高</strong>或相机拍照时偶发<strong>丢帧</strong>问题<br><span id="more"></span></p><h2 id="问题确认"><a href="#问题确认" class="headerlink" title="问题确认"></a>问题确认</h2><p>打开网卡配置检查相机对应网卡是否为<code>Basler GigE Vision Adapter</code>驱动, 若不是则需要更改.<br>如下图中<code>PLC</code>网卡下方显示为<code>Intel</code>驱动, <code>WBH_LF</code>网卡为<code>Basler</code>驱动</p><p><img src="Basler相机网卡驱动配置更改/捕获1.png" alt="捕获1"></p><h2 id="更改驱动"><a href="#更改驱动" class="headerlink" title="更改驱动"></a>更改驱动</h2><p>选择对应网卡进入属性编辑界面: 属性-&gt;配置</p><p><img src="Basler相机网卡驱动配置更改/捕获2.png" alt="捕获2"></p><p>属性-&gt;配置-&gt;驱动程序-&gt;更新驱动程序-&gt;<strong>浏览我的电脑以查找驱动程序</strong></p><p><img src="Basler相机网卡驱动配置更改/捕获3.png" alt="捕获3"></p><p>点击: <strong>让我从计算机上的可用驱动程序列表中选取</strong></p><p><img src="Basler相机网卡驱动配置更改/捕获4.png" alt="捕获4"></p><p>选择: <code>Basler GigE Vision Adapter</code> 后点击下一步即可</p><p><img src="Basler相机网卡驱动配置更改/捕获5.png" alt="捕获5"></p><p>将所有相机网卡改完后验证问题是否解决</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;解决程序拍照时软件&lt;strong&gt;网络占比高&lt;/strong&gt;或相机拍照时偶发&lt;strong&gt;丢帧&lt;/strong&gt;问题&lt;br&gt;</summary>
    
    
    
    <category term="BBK" scheme="https://silencejql.github.io/categories/BBK/"/>
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
  </entry>
  
  <entry>
    <title>Motorola解析赋值</title>
    <link href="https://silencejql.github.io/Motorola%E8%A7%A3%E6%9E%90%E8%B5%8B%E5%80%BC.html"/>
    <id>https://silencejql.github.io/Motorola%E8%A7%A3%E6%9E%90%E8%B5%8B%E5%80%BC.html</id>
    <published>2025-08-06T08:33:59.000Z</published>
    <updated>2025-08-20T06:10:56.043Z</updated>
    
    <content type="html"><![CDATA[<p>Motorola数据解析及赋值<br><span id="more"></span></p><h2 id="Motorola格式转换"><a href="#Motorola格式转换" class="headerlink" title="Motorola格式转换"></a>Motorola格式转换</h2><p>字节顺序: <code>Byte0, Byte1, … Byte7</code><br>bit位顺序: <code>bit7, bit6, … bit0</code></p><h3 id="Motorola-LSB"><a href="#Motorola-LSB" class="headerlink" title="Motorola LSB"></a><strong><code>Motorola LSB</code></strong></h3><p><img src="Motorola解析赋值/LSB.png" alt="`LSB`"></p><h3 id="Motorola-MSB"><a href="#Motorola-MSB" class="headerlink" title="Motorola MSB"></a><strong><code>Motorola MSB</code></strong></h3><p><img src="Motorola解析赋值/MSB.png" alt="`MSB`"></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">ulong</span> <span class="title">Motorola_Get</span>(<span class="params"><span class="built_in">byte</span>[] data, <span class="built_in">int</span> startbit, <span class="built_in">int</span> bitlength, <span class="built_in">bool</span> msb = <span class="literal">true</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//处理格式转换</span></span><br><span class="line">    <span class="built_in">ulong</span> longData = <span class="number">0</span>;</span><br><span class="line">    data.ToList().ForEach(b =&gt; longData = (longData &lt;&lt; <span class="number">8</span>) + b);</span><br><span class="line">    <span class="comment">//计算移位</span></span><br><span class="line">    <span class="built_in">int</span> move = msb ? data.Length * <span class="number">8</span> - (<span class="number">8</span> - startbit % <span class="number">8</span> - <span class="number">1</span> + (startbit / <span class="number">8</span>) * <span class="number">8</span>) - bitlength : (data.Length - <span class="number">1</span> - (startbit / <span class="number">8</span>)) * <span class="number">8</span> + startbit % <span class="number">8</span>;</span><br><span class="line">    <span class="comment">//计算屏蔽码</span></span><br><span class="line">    <span class="built_in">ulong</span> mask = (<span class="built_in">ulong</span>)Math.Pow(<span class="number">2</span>, bitlength) - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    longData &gt;&gt;= move;</span><br><span class="line">    longData &amp;= mask;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> longData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Motorola_Set</span>(<span class="params"><span class="built_in">byte</span>[] data, <span class="built_in">double</span> values, <span class="built_in">int</span> startbit, <span class="built_in">int</span> bitlength, <span class="built_in">double</span> factor, <span class="built_in">double</span> offset, <span class="built_in">bool</span> msb = <span class="literal">true</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//处理格式转换</span></span><br><span class="line">    <span class="built_in">ulong</span> dataSet = Convert.ToUInt64((values - offset) / factor);</span><br><span class="line">    <span class="built_in">ulong</span> longData = <span class="number">0</span>;</span><br><span class="line">    data.ToList().ForEach(b =&gt; longData = (longData &lt;&lt; <span class="number">8</span>) + b);</span><br><span class="line">    <span class="comment">//计算移位</span></span><br><span class="line">    <span class="built_in">int</span> move = msb ? data.Length * <span class="number">8</span> - (<span class="number">8</span> - startbit % <span class="number">8</span> - <span class="number">1</span> + (startbit / <span class="number">8</span>) * <span class="number">8</span>) - bitlength : (data.Length - <span class="number">1</span> - (startbit / <span class="number">8</span>)) * <span class="number">8</span> + startbit % <span class="number">8</span>;</span><br><span class="line">    <span class="comment">//计算屏蔽码</span></span><br><span class="line">    <span class="built_in">ulong</span> mask = (<span class="built_in">ulong</span>)Math.Pow(<span class="number">2</span>, bitlength) - <span class="number">1</span>;</span><br><span class="line">    longData = longData &amp; ~(mask &lt;&lt; move) | ((dataSet &amp; mask) &lt;&lt; move);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; data.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        data[<span class="number">7</span> - i] = (<span class="built_in">byte</span>)(longData &gt;&gt; i * <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Motorola数据解析及赋值&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
  </entry>
  
  <entry>
    <title>BBK根据CAN通讯矩阵读取数据示例</title>
    <link href="https://silencejql.github.io/BBK%E6%A0%B9%E6%8D%AECAN%E9%80%9A%E8%AE%AF%E7%9F%A9%E9%98%B5%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E7%A4%BA%E4%BE%8B.html"/>
    <id>https://silencejql.github.io/BBK%E6%A0%B9%E6%8D%AECAN%E9%80%9A%E8%AE%AF%E7%9F%A9%E9%98%B5%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E7%A4%BA%E4%BE%8B.html</id>
    <published>2025-08-06T08:17:43.000Z</published>
    <updated>2025-08-20T06:08:23.760Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="Oh, these decrypted content cannot be verified, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="76f522e509ae465e5f5fc92cb18adab9b2f01df3f95812387f1b58b0bdbf80ae">2a136ff4e8d63812c42116b4c696cbbdf927869011249cbbe185b2d66c546651f08eaaf347bcaf07150041926a287a2c48c046518f78dc331f960d25583c354dc1dbacbf7901a343ed178e1bc78592096b1cfcc8184b7b7a1111d3dc733f1dc252bdb58189396f736d169d178e2e7fbb12166bc02869b67e965823078b2574704dd288da537371c59da8ef295ab4475d0bfb0576fe20334534c7363bf5bf2c31299336d182c995672c4ef4e8e8299acfc2841f7198dfc56daddd6958a2fecd5076f6cbe7a3a87ae5dab6b04457dfaced422e0e2b755caf708cad56cb76be95b3cef4f1eddd58eda00afb1832a64da6fe9de51e14e38b837c54b4b6cd820c7f4b3fa89e2f3f4a4a931c203eaaadc452ce781a96b7722693d9b58e69a0ae79ec7407483af58c3a10222162f366e86707804518985cfb636d66cd1b210b6207399537ca3b15e7419cefaa11e1c286243b2c75d735ae7024b38c97a5d3ea9d7e44f3b2e6797227f07d63a43c74467adf945dc0b75263e22f7fb80772126b7889098ff275e1f4fb84925a06513129612a1377f993526dcb41758096788d64d0deb11f178babd1ddc46a44fa319ce40473f84d541f7b6973241ca467899a0ebb8eb6448bc42c3f3d75acdbe55f79480652becf3ae7f88258c72e3234e564d928cb1aae954c0da87d5859984690aa2f5fa2401b0bdb531a05099d2edbbc4376afb6d87ef88e5621eef357689324cb6a351a4f96b873e011343f4c22fce222d631d6f3fc4190680e3c89b8571bf5600ada387d5d0573b8bda7e1c16395730c3d36b2de4d6a9d7b217d1c60ee169778c15cf61308a4fd37f5d13be604509ee8971a497ffc3cad95536f230f5d2390605c61dbba001ec6560bb9f563df4aedf6738f82d175871fd4998e060a5beb8ddc847d2a32edf4e969fbeda5204e3281113f15d6d37c5b585253c66a0717967b03665f411b094e70c90e98b1df973dde01aa0f77d0b9895d5226c5a59d9bba11d61c58c99b0a2184f2e08074d328282b0f04b658efd7543b4416a419eed5b571d8d78d9b5fe33134115a55ae7ebc45be368bc75320eff32505f4033a8ab31c4475bfdce3fc066a8834e5d9fc2e9cde130d17040e88d32b9a3d019f9459f207ac7d4222e665250f2683ba079e13691809995f18c6ca95cd236c8588b78c27c56ec4dd1809a71ba0073c374aa0acb2eded6bd66e7c6305d711f88d311863195ee62f62d333ab673bf80f47a8385cec5d2c1ac9bff15a72dfea20c730a9b78ab6613a269c6782fbad580b100ed562edd0968e8803a44dae173291c380626d6e8490ae3ca0c09498eba274d0cb0cf13c780f4c0c7e8820addbc5f3b4e7aacd701877127938ad7c2e40dddda0d4edea303a0926fe71024d0a5324ee407627d573ccd278b55e6bdd3c985bfb7e40deefc803e1caef59d6fb098fec7addeb6a42ff258cba5b9d7ce928e8f2494cd0bad7b254cf94c8797a56f4ef1a1420a00edc9aca917a3649e8ba6ce94a4cd742212358857ad7f396bb88cede5fcfb45b5eea5c7cde6949421fd208a1693146084c4352a70abbc695d5c180a23f9d27075b9fbfbafedc2d7580e454b9a62cf181dba3fedb7fb223b5154df89f71b99f927e35f2b59eb15b736f3225747a4aada7c50a109d6e368e34f31739b4e56f080255517d2faebd443132f7fc6224b0112e4518b36e55d714e08d933465d65a437ab7b21fe3bb7b6017b98064dda070f89847a0aea7c2ce6c0cbe76bdcdb163467219e55704f1a43ba3e3d00e1f3d6abf65f28af9c339b3a60b314966b8fdb3afced1ac8019710facabf193f43e6a8cca5583a19f2072a93c30acd6c83e580377f01060d84006cf751795a1d0c01c814667031f32c9e1b884d75ee23a549ce79c4a309fc35ead1d08f0ea0fcc142bf70f89ae4aed7ce881be6788cf6b39dd16cd723336301ae6ad08dd78dea0af1ad9a2fa4698ff72daabd4d05f700c36e9393ee0d32da442869cd8b476050e33d0bc1428d209bf95848286dbfe1d2bde557ef13eddb4fd50bdaa572ee088095d64aeb49f3a0efaa923d38cb9085e05f79f234dcb55fc42ede7d5c93111d86e5269b4c05f796f7d22582f178ed3628374d60a21e1b59ebb5dc2c5227be43a16073e225ba4a33851c0d8cff14d43c4101a12410b6ccea7c1415e70f80f1926cbd98045efe54b5e2e78b870f09be100caa10b41c52a3c3110e743a94924fd8f10cd2bd13e29037033900c118184e463727403b76c6b30921afe576c1967f7d0d0cd470f02687b1d5b48f3d9f7bc5a20813d89e1813b46820c9c123a27b016f483acccd9492b6636bf0164e2ba0109c1f702be7c263e5fbf9e080597919378e83c71fa246748bbfb070b1e147cdc81dc7dc9064a7d3783d5098a3f675612003f79e22bcd7655c9de3cb6e1da0325c6fa41fbb44cfd16024f7b1969eab287c46c64afd6648f5d2cd0a1d4f5abfa082fc02741f2b69d3848adc6b33319621bb01a27ec15a8674735e986912f77915890c7bfb2936f61728c087295634161ad2c42282a09b0e18d3adb427d4c7a1b5d7ee7319e3559de902c80dbdfe6bd91a0eb878cd961f1a21428d0c8195f4e8333cfc46f7fab2bb579ce533ccb9fdb34cddd41f74f3607c53c6ff1b7e317b5ed8a60a6834b5ffa188eabcc33f057fd0ac8e6df3f9017116a17d307a7eed138b002355fc4b303d1da9ea633dcdb4d32c5abe43a3c63c41e6a0f144604edde21f908bd0988bae1538c6faef7140631be080bff46e6a7f1cd8da73cc0071608b1eeb33780347079ae83ae5e9ef4aefe7ef0948eff1e5241890c7b7427c9e6c85450c0e538b37862e1af97815c138c6e77d831ec71308468697749ebc538c2ba33cd3c0ba17cbb9565b3b0933bc00a7498d7d8ace87961d4547012dc617bd9a4b0085bfa9a3796d89d449acb07661448dfa113898f1ac8cae97568186fb461184fc7397b31e4206582d01701a5933af2585f47fa2172196c0cb50e9bd442aa55666b3ba376fd08a7adf9ea8505b1f917a623b489120b98e1f0b3b1efdac87356f10e26f8bcd7719e9f1314d1a71ea03bcca4ce6764923ccb1db310b276f4fe1e9a5220650010ff805ce8ee5897ad7b4d83241f1995b74764cf216af5d61653d17152138ae13e3fce0177a1b727ca22d4706d029d29642db9db8908f151873d148c9e917c814df039e2ecc40b554d608262f258ca1764d3be21b4e978811c986d82049b1511e22a01e0e1c1083258445937d7d46afaa6dfc567cb562ad653d83b82b94b89970d23d940b13372bc0644a254b126eea444fe74586c497a064048a116ce7971ac4baf3893e4bc5a26de5fb0f164e0404b61c1040eede7b5297d89289036165a5de17b87c00068e5111bf0cc1d11021c13c047124d5e7fdbcb5f7e6eb436ed22397346cde8c8e7694bef375fe76908eaa78b800de00144949cc878b3c2ccb22771b53e70d097ccdc0788bdb510b0b0f4cfc33256dcbeab29ec74cca772e701179ac6121dcc4076a55ba8d792bcc09b30e9176663f7a8fa68986490d5b2c8737781ef02039f9ffe584eefd4acb0d94740f51cd29f6890cb3f191014bfcfc858af4c5492e55e708fcbc36ac5463312e71933faa1ae3aa8284791a9939e702774ba30bb14aa7108feabeacc3e19cb5ad1c2fbf00bd35435be22d37c79c6385bfc154f362e9a98b19cf81d2c684a433e640398c0bc65053d4de89023e876928cb55c5acb3bdf84b01f6aebd3c7c6064a30500caf4433dc9a80209c284c3049eccecb2e05860ff33d0ddd3a76201dd8a2aa36d1ef7a221e062618675f4ba37ac2e148dba1fcae7ba48c10fe2f729ca3342d61a749f401459c7c37e40a8ea1323d52e2804b005ee89790bdf3eefd39c1b1c24e1382c6a1f375ef7d768b4a3c0bc7de84eeae7e9d5ac18cdfff2b80002a8b7a4cf8afb53467eac5b4c21bb7d9189ebee48ce1475dc6c4a9f32a27a6361372b2ce15f66c0c3bd0a181c3e2340b437dff6dbf40dd0be8f540ddf2856b4ca9e4b581ea37418381e1ccfd5bad1f991b5c2490da43b2c0765fb14d1b3f112284cc827be10677e931f2fb78538adb1dda30418484aabfc11de4a70f771a7e94c768ba45f52b3ef32c2b699a95039c9aa56e4b0cb7d749e7010383a46b8a988eb7d61a9a922f75f9ba2f5487fc070261647c9e104b606269f9c4dea46ddb24cd34ff6479996e40aca78b7ecf64bce23891a2d8c18d42752be455b936bb6e903f60a15390b52c5f4ef7df0d63abf7a19d0030d72de5eaa365b7dc1aedd5df16d22732948f20635335df361f624fae391fc060b73b75bd407411bdc1363a10808551f194ed44c823a40e615040533df2f8deac2617e85edf757c9bd1fe0a277456a31f926a4ae4d19a469d988f2aafe7994087d24566786d1e2e963212aa21c742c48b825ac4d6f1c1a5511da21ae05a8f159e2804f80db79b0ec47ed0c9ddf1a087e186d35f10c8c96a4d956efc565928b481369eef936c0949d8663200a0fd15897567c463c2748544c458ecf8dd3ba64f4de3823ffe5de113b450bd165889451320213517adbd772fa1567ff7765583f8c568c3523b2a0bf8cdc8a02383101e1c89f39134733236ff9913f6e378396e2dcb79fd16d53208b1c1026060ec26abbe149b25a2f1eef521405e6ccb807da80358563ce8c098b280c1e9d5d3bc95eb82c401146cff9f0f860d894a3552820ae71e4d0cf789515bad8fd91bb804a61f30ce10d9fc31a9de72c376183f6fa44094c5624fffc8da1172a8bab29933dc2808555e8b2f3ab402032fa7a993eb5ee55047c1f210c93359ef3172c3d39188bead1d3aec601c383f98b9cd8f1e8eeb108fa220edcdf9274ddc333a876c33c58456b2c882e3969b47dce746198d85ddb7cabfb676304190d7b28f730c56380e02af20333e38eb9ffd04e9262247be71e814b381cf97e11d38bd233e0f12910323e8b32b4a7fec50e65743b9815233f8cc7748a499a2583bf405d596b219190af25662f7c8fb2c9a11b9ee12dea8bfd5a24489e3605e137d51e6fcfc2341165e37688260588d52fca7084b83654d259d06483c91fe557e84c07032ca5291e9c772722d1e1831b3c6f5c4b811336a9385dbbcefea8a9a671b085563b336a3ed156feaeafa16dc2fd3a9845262575514b3d7dbf0e6713e7f17b22194a76582027c999d17d53fba9005df2be86612b59c6d0b58e7e010685ae8dbe3b66a1ddb94fc96b330324d8d486713df795bd67b2a407fdce5a21775ef538e8ced8ae53a650b864506dac4ab85113a9ecd6d891c93510ee73263de26d3a6ccb229184a322f7017f59d2c5d051291834b671d68f28750a952e5ca87007f9f63dc115942f6f78ffe18afdcd2cd846f85a85f3cad714e215010c02b30992a614b75ce6107c327833016d08c8bb6f48fc0135169df838d40753fc78ed1207bffdd7392408281155aa60b3aa7dc5d6a2f273464690a12cb0e71f53e57e2cad585ebe6b5164fa2998b6865e8830a49852f3403845fa3917439aca72bf72612ee86d801b1ec52d2d2797b5bffab9b23e7dbef64495be4ef3a4773c6a1a04a17fdaf22ce99a5fcb0e5d32f1c875dd5c9c56e6bccd8290de94fa1905360213f79766fd793edad90178cac6a6d6feb56bf97d7b601c6cac98f58463e0fe3f8942412e574837a178e4695638a7dbac60936cbc72a0b7f1e485fa35da10e79ade63da037d393b53b893c9e88bd63fb4e4f16d496068872a4211c8c02a01254659f836f6fdb94d3aab26a4902fb30e40dc0e1dcb8043576d7a496a1efd6d04b990bbbc79a5c43d5cf03a963d5000559ea051a471e72234b38a35a82fa106b95bc2e9f41172324fba80833c3bb07c4bafc3176b2e6c237bfece4b52ea20d6f6b38a7681a4a7200a6f4a93bcceedfd65883a054eba0800b724133832a309ed84d019d2d9064eb0b30083447690183bddb3da56e29ab16c734d89af729b5658f95da6b12b9575a9140b1f781f09081e0eeaa3fba966f53cec3c1c61e2d9a8c40fa50ba98a0abac79d4803ca4facb28ef5e76cc0a02326b626f864e7d141c1a3838fc72d5880fa9a2a5d360156036fa5f789d3ac0f458c0bfc51d5e19ca992aa7d2bfb2b43fae2a593db04347db81433c20d0783858f179affe0e7f538f25c44d667d262a7d8341650299fc5c7815745c504c5377a422ba7500ea24966a89c73f76572e1bf9aeea0ff7270717123ead8b7422e7f80cd1f401d741fb1dc93bb6e24e83f200c62ccfba7ab8dca775bd892d7e6664a92c699b0d0ecf812b0d4e12187cf7f63543df04cf1a91ffee55861582c69105fa4ee74208f762b6abffd08726db1afe329ef08627441f5cfb2d917b8ba5cbe7c780359c635e0ee8bda2ac7e1f9590be35ab0e64151fa5c6b3d7bd30e8338238b8935ea9be73f6284c448ca29c4cdf864533dbe8876f44d17323c6bc9f46f791ddfc00275933f34c9d6ac6fd1a921e0aef25e4554a62cbe97ee276e53a1367def098c6e1cca813fd0cdec0955b104ecc5443d9a153eb3a9b69b0a0ddd841e71f2c02f512ef536ffb5dabb17a4c707538e489ca78781537ab0015faa7adadd1433b3cfca3cb007191fce0bc3a47495a9e7d8e33c3a8de4f1e1205aa9ab27d127a888d0e441d8a00f8dc11a3e81c7e0f1e9f1680a45d73b1e008b34d1e3039d5cf53087392ca2dd149e9a481c51b46a8392cdd6314c17a3f109b9984c796fb1910141a17114ae0433df48a3bd1ec8a300e9b715d9da7be41d036b1b51dedbe6b10b22d7bc83c03e5920e43258f3252142e46cb21b7a0c79c42b4ac29f4e7f15ad5a0b70c8ecf35a54d7bc672e82175ff1279ab878e8ce790ee7de39ca53c81abdf7fceadf4c0f45c6b22cfb654e9bd26c2e3b3ff7566559ef604ee1a3355a9b168f9492b197d4b93e1962ce5829449576a302b992677f6fe60fa6f77617d067cf2bb3ff473b9824e77632eb04e02c852f48182b0dd5560d63fd1481de8ca6a0a74a05f57cce72f1277eb2d795b50e3d97d2a942ea828d28c2dcc625e24bf01b9b93ff05205308cc13a7f0c71ec1f6130a45e232cb1f501a603eecbbdefc2b51cd6b3eb58679ae4f234343a9c68b8888133c8e78581e75cf62ca05597b3162aaebdc1241e4cfacd1d070cf6a4f78cad3ff2fd099b64708812993b8650bed635c79ef8569e4f0969d94c03a5b7b133a60aa4b80f47da095177f889175d30323d24ee57184f76658637d033222e28e6410ceb4e042851da83d95e22f590560a45136aeafa5599c0aa53d41ba0232d8b1024492dfd3a31546ce879adf37b3ae9c4b84e9742c5c3a6f5f8b1be8d8b7922f8da49966a1e03702124b11ea9131c6d766a27414df32023285fcfc11a9ea3cb673828885336d79052fa89220af2fc95fc0cedb05b4c6f7270727b862183816c8a5ad0e621ae4f21c35ad9ae2b4c1aa25010dd7e80a9c6363ae3415acd38d54f0d1f0624d6113205c9fadf3f268f2f4c307f3dfa1a9ee791d337bc045026b911343a6a6100af99c48f8b4645d287f1cb08988c53256bb6bcca5e955fd1bfc351a24eb98e77ad127136f386630db149aca171a5b403950567278f3cfd1c18c484b2b32e4b134c7e4b005fcb228ed827b179a857ded39e642f110a64afc5d8c410360076989852621fd4ead88c541af718b1faf686f935a8aae6aefbbebf1edc3068eda3cd8323cb7b3988bbe20abcc6de062b8451f64d3cddaafea3c7a087622a766ce3f0acbc5b64a09b1cdf991bbc9dafd291d2f57a7d07ac66f5e97124a5896ce165534f201854ea83dc946b7acaea9b719c4f1a5fbb247a612a0fd70891b54c4063e5db48d808ebb632fe6997bbe7cfaa67331c0812b15dbbe2966265bab36ee8eb50b14e02685a269ef0954beb06605aa699c8ae9149475e3908c43e1f3e7da7c3088434fabcda4b84ea42305cadc9c56b6e74765d5fecd0f73ec40e0c65f2de32ed911b03749d7e21a73824c2483a7cf5d0711c139786848e7c6b92ffd416ebb5cc8be9916e827e457788f41debf3d594f10429e1362934bb636fd9d64d3a5fad773fe99fcf0d4167fbe5bf10c2d36377ded3376ed73d3adb48e8eea2ba3a99d15418133bfc8b7416433e52ebc147ba02475f5bccecc78fec5a646c2247ffd579dc3886e74f5a03b9b27009fd23806fe04c4d9104fa4d66d3d706773e58c3d9c67101812d363d0b604e86ae26fe2915d6f6dfecb29326476f1cedceff9e1651960d49b19a9b634728b791f16acf70753cfb885f82ba79d033a0783b075032cfc8405f9700df2ebb8ce5edb424a917e6534bd918d1b28bf7c491dcc015c24ea9705c285d11c2a0eedc39413137323ba828bf3809cc956a4faceef3b4af5d1f845c457cf76949f8ec5bc6ebca0b51fea5dd2defe34ece3323d064c389f2aa325cbaefdda4da8f1b49c4f6b35ab2ca120ce60de151708f9ea21786e431bfb3c2d65f784b6dae70f26f09f75b618f47c42d56f407f9c7303e0b137f262c39ed08f7849a13f636762e9bd00082b468cb589ce656b7c4bf3715fc16ed2c636d5dfe3d9c07520f2b41effa68ed110bf41f1faeb6ef90c6830e00ce847cab00939d05d7f23b5f8b137fbd5bfaff223647ded2ee2c7e2cae7e282bcdff8f5d943355a41882e7ac2fa4b1993d2e73ad5f01d4f8675057a49c285d71e5803f28dcab7f800846091c868064d7b0238258eab98abd38ca91f880f243bf86edbfba437c8d3f6750dd06d8342df22a994a7b5f7a31e1d4cb047c1f6101cce812ff225dac8d3b5926b05abdd8d693287e7c76f6184922b3a0e5ee22d41f043b29eefc2eb9a41c0ec518eb72251c824c92fcc3472990c23cdc217ec9d02efa2199b1fa0c11535f53e2b20552e2049ae50624f7e719d5f1a67bcc7b7682067df2ac043778fc7f0ba7166633fb5d20fa4354b5b245bb968875a20cca7ab788f74cfb0c286c6cfe199978b4888267f8d1f50488fc45e22e948488862b5af6f214b6db0e984f76f56b1ac0e92e6b5c82fb0deaadbaab89887d716aa848dfa6155a22d733ad31274c8f016720a3fef1d8115b05e61ef0bdf609620f8771f4f3ffbc548c987f2a112d932e325e532a5c206d91b2d96a6365559b21b3ab7f0e18037e0429809205f6b9df649b58610191fda2bd032d3adc382817d2fcdecf9affcc6b113e25f215f4c889c32f7b7d4caa1cc086d3b1a9ef4cba4f9493c9a810b28fe74b71f62908bb60e20869767f69aad64d29934265fdc88cf9f363b91bc501d19f45d8555c527f48ce5dbf9be4a7b941bb5887702b79177c4e98330ebd636ac9bdd844b56cf6a22d77a90aaa7365a4b395ece85d8674b801dd1e6d86497bc67da1b168784d0500ac577e688e967733e8285f36d3419edd110111136f3a0fe9afad653357dcb0c97739cd5bba4500c8a1d7963370581d788ab4152190eb50e855d968c1eb75002c2e1391796e31fbe31edf655a26a83371a80b30fc9987e1cd4ae63f060456e25aee3e31735f9a81e08146212558647b977e6758ee8e20d6793e1c57191c7c5a3662855ef8d6241d33971803b61ab17e435bbf9887b8a7eca6de24ed188aa62a410a5b3ba8dfcda92cefd5d19b25772750059c88e8aa5b03d827eb1031f288161d047f5a03d2e740e18d6cc78bb0957362f987db0181de85a9a2bbfda68f5256579cc189994acb42fb053710e697342246dd0a95b2049840de09c9730b15e35ae1bc816a15c1363c0289518bcd484de1235f4687a65914641ac92b88dc2b36b885601ab8ad42f9188624bee212505e9abde8e2d583ef54fc743ff175e32fbe96ae0c10a3605c5025f9996c7213e9b9e1f7661328defc6ddf9ba62886f2d2e3c4ea504c94b13f1a3bf84bd022a094ee258f93c706e9fb3c86af970a4dbe6a5662f0ddb1b7467997cec9e6b4eefc4257ea00102214973beb1f917081e662ca78870d2179396b8914d400a1b160701c3b8f49b35a314f5a19dfec19a07a83320280c0aa965363dac385cfd93345b01389962df5b7ea9fca474f04ae227827c2725ee37c5af5426718dca1960ddb210bf1eb5bcc20882b2a41e38f81316e6e1188156543d484e6a024ba6630e714c1b436dfe5e2c506f9df3f858915b19e2f16a5986136d2412b4aa75c757eb5ec9a7aef72616724cc1dbf1dfe4c97d5d4a5315c2a84ceab97e2f3ca9a8d346ff0ace6828a9f608ab674d1231ae7f35eeb0f65d441d3bc1422382ddaf1110b264e32cd007827757f97f8728a554b0de6789628b1d682dcb10c98dacaf772cbdb58414b1216f0aaa42bbb1aba028a288dfa4f13f41dc0e14fe0efdc7b0d0eeb62056b68e78956567b2e9a2442c207bd89f0dab5872a717cca975e44c3754a6c1c0f37599b3014dfeb2ea7c34c46bbb9515923f2b91197c679f42859890959b56a136c0355c3542711db3c3a178731aa986e2d412a5fae9448799a5a0eec0018bcbe9f7252a0e1b021fd2fbd3d508e9838dfeee7096a06e8e3ca2f8b7a7a10c9119feb18a0730b42ebbded33b621dcbaddc2cff13e2442f763c40726fab9c585939bc2c131c4c0718fa0ee640a490e9746788b8d73090d8c538ea541a7d249f1f284336b282d60bc3a0aa4744a5f7db7f4ff595ae136c80cbd7569d832e76b45e255e08ca61176cff9407de454e32a8246cc5daf77accb4e8e33b7a37c979ec00a3f3eaf39a0d06acf41415c5aae74b9e5c0fdc9aeae9181a50c511ac85fce4d3428597ff7c33a221af5ffc61a4fe6d0523ac9ea20f5767704a3a716ea9d1d2279b72723f00864ba9fae602e20d31f4b0b2e25aab0f6088fa847934cda18275ab409466beb48c16827fd834ac1aeb424bde13ada671723324c0312bbf0df6c5340dc59fc271858badf16a451ce437d7be858a3e93a7ac7199232bf4bf07efa039dc8d30e84ea9214d83b14e3ddd8204b6195319511718e6aec4a7d9f467e49814358778e41528057b3929e409fe10aeed6e210e4daaa6f0415379c997f75fdf099d061a431e490984fcbd8be26f4fcd9d66eba9061300f116fc30233e2ccb41b67296003186a06f86467e540e76dbe6d3330c17300a6e63f542156a4f4e75c7392d35796887e1877c95a95278c4aff78ae6354ca6e76e2f3d514dd440147962fa5f42208d0b81d2b86400222f3ac49eebffa82e9244cfc7993442aed73925c6cbf85f900ffdb73a61317a9ea96fee99b98ef42bf92a26e9ffa188b6b2384299e735af4e93cd299e8b160741ab2cf905aacfa27a2076f0723743704661de8f4c10a6bb97bdc2b91951edee0747fffac9eef85aaa51bc0c3d14406259c2087350aec0c2f0b12aae1b205f188c1f3dca18e6249228f96dba7796746d484b88d0c2a24ef9dd836d41f8396c32d6b9279d5d06dde13eb2ef199f18390de42f225461dc42c3c0aa4c97e6606e55e3d3bb1e8bf9086ba656d4954cafd3d9d2b75bc280d16aa948e1ef9e8a1c87e1e85c9bf83ca047e956a54febb9d2237cccf89fa9f63d2be6151bf1c32c98c36b76278cf5ddb0395c9ef37f51dddd58a9e12f056286a369907ae09a1aa9e91b46b6f8d1093768bbec4986be85b064815f9ee4eb154346abdcd859bcd3fa901aac87cc3db05bfb1b5b6c298ecc4a835e2898e350cc4cd7c8b4178e6ad9a668364d83902941d6507ac49337655e7db853d9f5e164635f2632c350fd1ed39b088a16a648a1bc2d89e9c979caa66a1297adf7bc2ca06dc6c78baef846d7c093272a7a5c575e52bb16aa1ee5c65b929fc2069b199a7253d023abc4d3d70d8db93e1e4f751b8559fd4d6c8c461806d25f90fb8d5c239681161e81b168972cc5052deca1e31bc30e9b6facdcd121f69bdbb22fb5a9e27f554c810c5d465ac8999b3de3ad198bad253e20f1ea596d9860111d6001d65be5c6fd8bef2e0aca36a16059535ab11570a61367eac417e895fe56e1fd1ad55bf03404db20ad75473ccbf04e68b74e150b3d3efe6b0bbd365c213f4799c2b615ca018c894a5e04613b450cf96e0f2726fa3dbc38746e8b8d03e96c915f379ac3f4f5c8c2ee66002cc45fe91b9ffbc21f2548bcc8dcfac124b388368c8290aaa0e881a88ff24b0edb15f63521688aef14e37c5ca4154142af95eb6d093fac660b22c5dec305fd914a3e7689d6d98f889ccb188600d88a465a33d7a4a6ebf71b5389d6b9fde6c8a7a95753219661a9922f133d9587f60d031757e5b9fd24ae379d2557eb803583df395fe5a1846ca2a12901c7a720690030684ffc9a6c715f3023e12cdab2464e365d2de143e428cff17fe463c52d7728b5a73026cb6448192972b81cf22bc8aa9c86ecc6c2ddb7740e0a6b82659e697433cdc2a0b0390395950039653155d94ae9a947d02e1c1bc5face99918425b5ea36cca6754c6216a22595b22da6213658a0b2f675ff90ef64224a2b6015c8b1a29e3024185b518d7f77bb9387a5fa9969b1608928c6d3e31ec675fca70f495225bf331fde7832e5ece89fc6785355d4e45c1266008e91c3d7906d269d594fc91c85c822f2a12c3dfd7acae029b1a9a4afe6c5e0aae74a6a8a00b4fe6b5fb58456f05042641896bcbc25500b21ba194b52eecdc716ffb77f971a17c3cce4676615943d2443ca70d221a9d5e85a02a9b1fbe0d613955533b6ac459e837e623c076ac00331bcf6c04df1a32e28dca53654518f9109694e82187d5201b3d127e8d4181c3572efa7f05c3739b6be83a7d0c97267be5e7184de9b18c870e3d196ff778b058c27031df29b8bf1b0fcc8abb47264c0afddae2f0e1322ba812c2959c85d6632b0265e5f0ddd6b503860951be13f56d8e6a7f08a125a6b1a549336555ec8f22954a205787f2cf1e1921273c4dbb343bd2cbaab578b46bfba8a6f6ffbc3070e1ebcd6dd6c6cc68d734f5db63c7bd7226045fd3e249c4369887371ab16e39ffbc33861ba7094219fb8ec1527d495db0e1a71ca8d4897471a16782d85d31eafdd4b372451fece1cb5b1b707ebec5472bac0bfbf53baf8e399b04a0006cd75e433fc921ddcb308d2eee5a0ecc305567734d47cbd98328872619d5052626441e285d4fc19e047d080791de6ab3f3a24e1df4a066df3a8051643144e7db4c6629d795527b8eb99a2dfe34fd1ea26a1f869b99a370201faf9738d580ef2bd89824716b125055118e2a8839c54a7ccdf1d754408a0b78fcf92213bbc90ebec70d57d1be68a32cddb2fdaf08a5c9087356771b11eca8e082c193b93bf5762d86a27da8939e52774308fd98eec7d06dab77895722eecedd7a59ff470e81777a6bcb5b72aa4db3d59bc49c3f58090375a2f46725a94b57d7e83d4351d739b03a576c19d1c94a3c341f72d69289604b9e1da22d3ee0439f830f5d4ab0e49311046959d929278a1ddd27fea0fd116e21bcbdaaedf12cdbba03853661692ed352a61f688b9adbc76184c1acb170ace7e0caf6f80fafe79b74cba50f000a7165f6f5ee89ff70b0cb01289ae5faebd4b61bc13744d9898f259e62e1d16ff1b6f99980d2148a2bf0f5bd8bcb4f44f5aa55eac9a58054af3c1c87ea2cf680ce214ed7014d267d525292987796b9c85413027ba2ae4ffe5f9b9d9c4343df45d3d031972b7cb93b0ce77eb936b4589381d42d0bc3ab4fce4fa11b0a3bd1727f9f51e06d4327eaee05d34763714ce2c8ce8894ab6bc0be5b2d4fdccd2f966481dc6a9e318c055dafb798103bb50979daa1b1b696121623cd9f8f20107e95e35fa273d8ff1b836d6a48e2430d34636e1b2da2612c511c0cd5de69900072a2804769a320720ec9c85aa4a2b135c13a865f041b1a4d452b673550e5fe2b1bb232feb387e1439d1da2cf65b51f8b9d134d1ea2243acb78a72a0f3c121a1ff14fede4330860e3edbe48cca6f0e10cd15bb78d3674442d35d80162d447d84219f141fd0211f418da75a15a6c9cad8bebdd522cd0e62e2ed5fc76ebb4b73068cdcf24662c80754f09ed72e923fa8f395d8dec110a9c94dd3c607b60fb1fd0ba5574e81f557b6121a490f6e60c41ac030243cd98b71c084d64b7abd2a6e379ab4ecededd089e81bf8ec967c9ace81ac559692a8d1a26150e49c1f2c1f940bb126baf061cf37b514b56a61c672c3282ffc7b0ec1a64aded324fc7339bc9a00163800a609022f67255cd9e5e8478292d96c240c7b993c7acfd4b7ada1fa86d7d2f419b98936f9886ee46861dbe0469485da3d93c56a7e6b51b6fca2fc2296cf3f970d812f5dd669d2fd02e73e14eaf283b10ecdebeeb655a51116841dedb1332b6af794b2081c9744ea6d990cef9706895f53426043c96517a4bb016c123999d738d150d2d617de2645e1d62405ad479e8d13aae238cb2fc49dcc6fe8c64e523ed2e4011a52ee4437f1e4ce2d355dc5db65781f069804c9d4ee6c64c9d81362eddf474688842d14137c2a0df302fd6f8bd08b41a6f20365840591ff888bbbcd7ee051f0e70fbe4ca1461b52d240c18d588a8eac79946878f5b500af297216ca2c89a0ad77d85ca5d2c70a40e51ca3a82eb9630f27ae24626194753c65711bdfb5a7b269df855f606ddf5da74ad6d4c74f0a387b7397a197a0b08e158717cab7ba41674ac12ffc79d112b7e6da142e4dca36b24f9536bcb38d4e5e39e2b0c7cb5c317afa0dce43c6874182f4e9e93e85649774f59477425b76795314d2cb06cc8d39928151716407af95b48393a89d5f848bcb274f2bca25bd74dfd680acf3d9997279b004b392959afb214f9513f4ba20d14249f5a98086796caae2d47af7d34e6e1bce23e37cee80b73a2ccd3e65911868f2b23e12dff25958f2b8c9ca9ab4d743a86e3a6e70215c6250e77b876786fe03caea36ad773898637dc870056de8f17cfe0405930046c5bc3707ae34ead499a91d078506bff2e6826a99bcd789155918b40dda66a2037e0295550644daf707d6c007534afc46b3285b0c3e19b843203222a29b9d43eca0922d7f1953ab64f905bb882cdabb7369f5a86aab6adb477be8f1c75fc360aa10ec289763113b07919b5b29cf2af3d1b67492d48d6294dde2f6c9581bf64d590ae71ccbfe5a282a168db19c354c23e9278d764456c074d4fd7468a5d8562fda046472ecc9ffbfb2cfb7e736f094adc32ff5eb293c790dda6d5adf2343963e5387567ae48abb0f8414e8e0c457c0df37a158dc123baddcdc8a144a2480472d1b0d888b73a803bbc170733a27bdd86bff588a8ba18f1156e3e570c73bcafb6ba4656d0ef86cb07bfe17d66fdfb94ceb3fcb80577ab69b2d2f121b7142609bab21a45314ab76bd486eaf110932d9bfa0b64a796c1c4ab71cc12e65ee1029a46f0dca06dfe691b39ee339a2859798de616099d5149081ddd55a29dd33d25ef3d2dd64f52782dd0daf1502e40eea45908e22ec9a018e88b597b0070e122df6dd1a303816dc1d8d6ff9a247c72ab81b9285e56a0ab28bbdf2b0cb57a3bbb888f48635d6242063d1bf137faa081e575f3c1063429a315626cc7c8e5fdf5b477dd88117283f096257e05519305984f30ef31844e7fc9fd5f34fe0140195f702909159e8ade0793ac6d68909ec852e3040a1bcb54e5d39c171e244a78b79dcb25a63230da972b19615bd8fb56a4f90146ef69f8a2377f6e4ee97e331a2980250718170cfa304f668f2eb3de96bae92deea1c5cfa64ea5cc236c66443929bc2b6129c2faee6524d089bec99bbec98af2018f323b2f24332402b7dcb1d3c450e86b503151cef1c705ff09599d1ae0d2a97257d1e603a2ed4c7eec553fed810f036e06e71437c3bb4777ea073f9f7610db70190188be6baa5b82917b3ac28d71f8ccad51af7cc896921914596a1594d7f95927c553d97033c636862e0dc3c969d16efd3cba55fd09fd15b41b98126021b7c4dcfdbe3355cfb22a5f589ee552c1822bd0d3cdf23e29099de7ad0652107df45d8f93e870cf37e0f0908224f4b29c71d637fb5d10ea74ab117b141d586920945ce7f7c5160a2ab6403fa238d58693375cbccf98da0905bf888e3cab832200ca8b71cb684f138ea857a08bef3ddd69e4ef70a570769d4788e4ee1a1f72fdc4fde0f590804590eb63e918e8612eb5959b2ead9b45422dd5f2a966374d513aeb5565a1cc19fb5e12bfb86f8cf897c81822060ac8d67024ce653c140eafd2d1c61beb5502fec00ea0f7f42d2a32cc3b32aa8d28ee8e613a2b0d68d21b809a0f0563d1e4f93e34b153a5d798e7edd9d1be01457705757978a220deecc2e2303a2773c2a21df741cd2dfd96f3e53c74d3bd836fd685d13da6bd90a16d9e6e35f96d8930dc0741aee67aa33118627b9f367b5e7fdae0c023b6602479ed8656b1c12728be9bc08590f671f86c72954de88bd7495e396089e69f3a433f2c8a8fff601c34d6853788869b55c59e50fa96484a0735db2875e92d47ea7f19c4eb3ed0e22dddac934c575eb98f0398ef1c556fe212f860284e8574c3993373dde14f4e31e37aeffbc01f2c7b9b85f6b221ce49894e5b7a572610054ca5fec822ce14f940b311d629933c27b2ab94c8a82ec06d28639d061d7a27946db034275bba4beda7f34dfdc84bdb43a3e018e80ca727558697f26dffdac0a1fe54db83997b1215ae8b5e0694df1562ebfc005f374135046eaf36cc7f0fe6c31d64072470a9c11768a8c30cbdce70b7000bef946cbce749d45d12efe5c03b20d7a868de1a5814aa443d3dffc594ee1cc2f0fead4e254e86c877ad5387b5892a219002c1e15ff9ad2b7465275ad0a747d3a8f32d4e97d3ec899abdb7670e60df45fdff71d43ff3e0f02fd511a82262edefe950fffa55674812f6ceec3ecda8c2a437f8600544af0b0b50b0e50c908b5fe9a7a325c2f8801171425d1ad91cb346f77eed90ac7b82a9d9eda7a3185c1b001403404a4bbaab5eff2f2ef48780e34e018ab9f22a1c1139bb1f5caf9658995f15027af7af6175fb3feb3f6ca7fe806de532ae6878b6bc71938cc86ab0b6f28b29a0b3dadc09ed683a2afec080da8b5f8872130011b0cde44d7e2f03a4c932e297263474f6a492eb64151bf9cfddcd33bca652418941284ff213b4aee49c96d7b41784265e70f1b9e4a0f76a43e79a82e0551bb6b87555dd63ebba77b58eb8641b8e993ebfc856fd824b4ec28c4c9249eec3bb9f11df3fe5576048a1d3c42328cad0b876e742d2840c07aa95261714ac47a4fcfc18d790c12c80bcb442a3f066d6dab3e4745c0c964a0a2308533bf314c5c6276ba9e42dd07fc8f8f61a1113459feb4c889792262e488f4f08e48823d56fc64509ea5e56c613fcc44a7bd94b45f514a363b3292f2236f8705ffbfe70c007776f653de0001fbc91d20330d170030090295388d4cc8d7a55157465e19b09a358c4c60de10f3bb6b45c0734c1f0dc267cc7dd6be93aab37ab85debbf2d377f2f823975524d8f6db50783f99f184cf7e9b332e4eefb3f3c188557cd72327e4136417acd088867332fbcc877590a0ce4de42197c922590c5ffa5dc7adb5801b386f1fb301983fb39396a07ad1c2aa38b137cd9b7df10ca6b75f3dd6ecccc06f6059a0e582a2cc3ad44b07c40886e0294697632ac84cd9daf29078e34e783a8084d7a0a369f7d97c3bce297c1498c8cb74c320e2890fda37f0f9f20b8a97d393b327ba8fe5b4634b17cb9ff7172a47ec32a011eba988b4d755579a21007167dd12b3dfcc6fbb6eb8b7391d3931dc53b5bfb3dcbb8575d32b53d273dec4061f6307eec1b4c986ff923dd5ffbb6bc64d47251ae14547e88c7737279fde0ebe31cbb93aa7768024f32a0c75a0347096e92e468e00d28bd7a77d4a52f2768d4a477c5e8a7ed55d73eafb853fcc972f9535ffa5f8848962b1dd1618ae93e490cd14a2e7fb01ab34a86f639a15f0237bc967794d64c1698c0d545f15ad78e62f2b18a385c4f5e9597fccf76836be4e005e5cf025c9d549a403cf8844aa225f440494b1416a5878d46f978034b68cb4c74ccd5d8004a37955e439505d482f35040af20ce5e6201839786cb4865eee9d86d776c7086b3219a05a5715e4c86cea252c217616c902d37b33749171117292663c577963cac6f77379e4327f05b7577b09929f003562971533747c90285f3d5776d13a9c2d3e639f21e0bf12a0d097069aacdbd6608fcef38309c678f021386dd6cc28e84e17cf5c67e959fd3d1b29699331c87aeee5d91f9f0c7dc1589e3dc04113ab86c66e0e6a74d9b23c9e781bb746ff3106b985663a5e2325d0570abee1ac072ccde467c55eadab2e78608cad0ab1884e26ef68994e2ff430b827d29068f4c6e46fce7ad7f68bb23845115ea21e67bc7596b25a2f7126b245f330309f1c9c2082b19c44122fa36319f7feb898b77ad89a1e5ddebb7dae5a69cf77868ea166f4b23b3a1b780ff7b15c5205c4445f0269c16363fa9d2da161777c106c545abf9aedcc8c4cb7dc2f6cd3edba9ab9ab3d2a93f0ba0aaacca87dd446d92f924084987dbeb8fdb7c813926435a7dd410495e616ea5e157c8d35671df0b947bb96dabe52620ba468a438d7ee459266d07c2297e9c46db5060eb098976a615aa070e5a876670cd345a6bbfac5ffdff0146b1dde32edf3ed7075f6707e07e4a86ebc23c1b1d638436a20914a8c4856feb1dae6b3ca3c95fbaf43cb10e8526303edd45aaca704d12e8fafde23da8a86f2a1200355e06819176564c5ed0bfe8af902c0e6b1ad7b696f339fd7329419f623010b01f0b04416913800be3d0f3af5d6d8b3ffa7d62bb53e2892952ddd6143b1cabb155463563298f40052e46a75883971aeb90b46154bfde46b128169001bb13bf57db69a0a490939f38ac4e0614c361be6d5146846982fa3c83580f995ba63ef6bda88ff48c72d5d9c62a5d1f40e9c3f3015f8cb7b35e424b52e5cb9c31169fb4c7cd64e3b2e6754e05c5274e010bad7b184e00a524fb3dc5f66c26a11ab0d44688d89261482bf8927cc2afa0cd6a2467aa1238f861f33a2711b77be4131c693cc994190c80e9f3e175039befeb407deb83ded28c302f0b0b9a7d8ee9a31ad24c253637fbbbf2800cefcba001567a05a17136452ba66aa32b5ab1b2120054eb480c362e22476fc9cc73e9573fd31519f8631c6097c271e32d6c8e4186b144f89bc6f4d128351c014ab7f64325fd40a1e385d50cde58f0e490a6eb3ecb6889158a41f6f1dd51885ac7b9fdc633439793d6ab7645c075149c341678a4746b08f077d5f1d55e0ea9a5f75761f63dc221b46baf08cdd9fd7b3bab7ea5d58184837ab83a2c37e4f7e965c08f58618f99a9369d792e558d35e4961ddb68598c76bfd140234bb5dc9a2c21d40820d8890fc44522d5062adedee166d6a3e7d1ee2ba47865e30b43072ed8d9e21125f1df7938cd91c2ac1f2cb2d5722033ac76b0b17d401939ce4b3975fce43dbf806785ada1867547d55c81a57c575c401a503d0f03cb18b0a1ee9db40908236fe4e9060ff758758cb2344a4423e855df6fd0685c9d5d78ff90c59a0a22093ae56032acb6bb594348ec726d73419a1d1ea778411d0e634ac84609564e49134d38b347d71299b8cd5567b8ed4bec4b40c7d983187d4daec99269e76a18dace1c2149245386a494a00fc25e645889ac25057a91194b6c9cb411fa10dab982212804b87d46429cd4b2d91fe0886b53685be17831a09e5c80a81c61a5fc2b02488adaa05c4aa7c20cd9c8bf640c8d5db40cb7a9104bd9c8ed88f15c9c2ba31b5e2e958b88674641dd1c98e027dfcdce86387dd903a4881e0b32c07ae27ec07e81c5ba40cea4426bc61654960fcc4986fdec5fb36a36347d4147e26cc9a4fb9d42a2d906271cf6c95e21375c858681fff4d9971387563fcb7c857bf0cdc0fed049bc9bcd365176b14dd37519400f9bab2fc758f86edc9c61008fba270813260c5413975251d8b06121a291453e3d531ab1204a10b054f7bca0f44c2f1bb47f810ad551c841a16423fef528b234d20694475f67991050849d34de674f1cd1bcf65cc2bfbf2006b79d0548d98dbb16da5d9eebff9f6bf1e48c884f7357a4ea24487762545146e4b8a020c1f99b8f3374e31dea5801d91dc4efcc02ac185410cf054690913274fe560143e7c15dad87e1b09168ea64e9f493e0e5b67034a736693c7b9f9c731e3d413f884ab5d795c3cada13ef4a83ba1f52db32e0b330cd6b2d3770cdfe05e68c659b01e2233a5c89b5c91cde9f8e5c3e0f385c50966cfb9b3dcd30f3a023b93517469f94953c382836f97da0b5d137244b6966a1d006319e3060491e3bf3320c15b72b45d75740fc6fd1916fec1bb5a85ed2d33812d9e6fd74ce4ae1641f17f8098be09dedc76c20ad277f3a74c604e0cde965b23b2a04ed71e20d68a32c6044cdc21777699fe18c2026631572624d4bc7e5f2237c3305949b41b78cf45c573fc4aa662de755fbb16fca8829e2fddda6680f316237985fe69937af29efcfbaf33b69bf0c94c473261cecec8a76cf5165ac111d2a79a067343755f3d89b0b2b0164c69319911c7dc7cbbcc094d31555a14c805c5bf10720d31572c43d1246cad5571240598907d2e3a9b8938e729644f570d5c0ee5e7863b1978492a92da0a333ac536dcfb4465fa9f789450bcee0c43ed10806db69960243922ba30035e43ca3f398df64446b6734289776d2986e1b72474c2d0d98fc4e3e10a92d609bda2c2318b544206e7a6920d185e38b87f10d49f0f59930de2f2f6cef8dd9ec4d7e3fa2f1093896f6e888cc3cbce6fa25f1a4308ae9e40af8ddc4168534f33bd9dd1c059f16efdf0d24389bfec589c0a69258825f680c482c26917748311e2eac10ccdbf5a4565f8f0a50d8e736d1dcd4a0f70381291d5bd7ee0f2bad3d0ddcdac7598017fabc4cb861df07d01944afb57448e1b94a1c348bc1208beb3e3a05d70a4e0218afec10e71cffc595e04969439f1752a1f063de7e114373833a681bd60e6e79cbf90a5f82465825e03c93c31f32fad683ced096c2ec0ff00dec7a25ad398bd411ad88523dc7973b83eba3dfd8920e0bb752de65db8003e27bd6caacd05ef75a1ad5df0ef5e732ab7eb332366abb14ced851235640d72ccb575e53c1fd4ca3218dbfe6595618e37f68450756e25a6b528dd99fa7214e1f0748225afec9c5cddb080b19622d9be20a2ad01352f943a826c853a156e130e10cf01c659c922bb1c1bee1b8bd311dca6e8ee692619db690269e0eb7c58306fdc30da69ceb8d0d1926bf31c3de5ee1038202875ff7e5464967a0ecfb5b54694939da40a450c775ff1da3db6669b566d40e86652d19f9eb23933f7632964cd942305522c50101dff9d3b46f822e3515d6c8f758a8a592a0e490c6cac9ce60aa7b1f54a22742d85cb937c01979e823b4e13cc7a2f046b26928a51aa595240cd5161cc1ca5eb4249225ae4e15eeba17796c3d7b0ab26d616e56b5b585cdb94edf591e1e5caefb7266e3f738c65479ede9fd24f5cbb4b09007ed56dc2f631848c6d686954638adbad3bf0e413c1a069a8d18e2adbf7ab4ac7b91bd085eacc43a9219644e7f61a0d80cd4b4b5435ecf5cc833d751911b34bf8eaf4e53537292e3159c309462d6b1e7e2cf1d4bc41f5cb87bfbe6dad5a8765e3ea5c3fc4830a391635fc1d0219763f9ad3c087a90beec7a002c20d641688353571b40557b73e3230489f515a02c6bf6ab23b160cb1cced3ea44d09ff361cc0a1fd266d008440c2e739f9eaaade0584771f659c91f4ad61d036e8dd10a525813ad6f7b9fdc25fab0559ac0a70779962c390810a01b96dc31e5f94baa753ec1c91991924a763f1eedcfee3e22820699a9fefdc746a10a4eec244841c92eabfeae3b8a8a4bdd20334f7e25dea5b4607c49f460fb77ae5be78637490e149e6eaf8c15eaf6b08c267219423aa9b174b7771ea8e2e55ac0758e750a9efbaadbcf95498f4ee63c62b325a45175e14705d40fb8b54037e24252515ef3aeb8dadafc1a8d738015ecb0ca0aeb9e609f586479f30450987d2f6ed7217631c50fac7c9a9826aa0c0a84f1bc3986ab7a70a785faf80511f97da1a77764dbd719b07af2abf898ea1c6d60692c79c994a66f0d3cd413655eb42415db710383b2e62704959129afb27a2dbd3b84967fea95d56cfeefd22da925ca39455962a3decadaefb0844e6ea2527762586cbb7c7e026be2d512e47b52aae485fab0a43e75d3dac095b474693e61034e6b1bd3ce28519801ac3a27e1097e877c60b5fa7bdf2cd394f70ed8d243e7dcf41c3ebdea2259944ddef065f2ef9825b96425f4b7d5f2c5e1cabc16e7f0674264cea35ad964ecfe9de0f49cb1c97cbd4151f813ff310e17c1641a0fc939819b2c7512ba2c099d58210ae70642fd2441bd800a1a160c1f4cdd1a737c23cfda6687eb65d26c1e55fd140ae7a3cb1e8f690c2a985a7b9153724bf5344037d5e6749b84720244930d468be695ff474ed92066704425da6bee4e378af45aea0ec8752e724f665f5312b0640ed5ae772615339a186a7b2139a91595b6d4fcd4978c0de73863bb859b60ad95b1e7be8c0a281b6cd23fd61a460539c5dca2388652e5000ea05b54dababd23dcfcf7c7f6722fdef96e12bf37ef50eb2ee2fafb68dcb29adb83889dc8efd80175ed85b4f952bf3ca8f2da9e2b37a50851728d197d0a6591abc4cb34ffc13c4cb941a9dc9ae19434f464b1802f09a9b0e8b6dfe58d82ce8981ee368348d283a269d0645e42fec233cc95c5a9cc30c9899ee2de1bd79314ecf1e12d5bb214e64236b89118ebf6fd4edf48cb17025ecd29f2f51d68cd4d6bc0143a7273d262bd50ed5bf2ac5d3d35dfe0ed87b04e8e2a4a1717f4e200a76abc860a63a980300099e0aee22460ae4b5890e61b39212c40cb15e44a8d3450200a9eddc891ddbdf94a397f53e64629e84b83290830ff9244731789afc517a4cf43522825df0345e171ce601f989740c8384a83627a90f6edc916104580d02bbe960c73f2f42146531fe648773cb968c26177108baeeb4b14b29dd92e49cdc24a0f8996ee5d674e5e163a378deab4fd8015b87799fa99b415263e8a55fbf9f4d844f417d3dd9d8f705b54f192739c2d67a7031105883e5b3d7cf902fca30f011b0763fd0ee7663ca537f98b0e233c5ea7c5714931907b69c2547850b2820ce3e304fe621376e5ab572c9f5d39b10e30115508d7a2f8e4c362208aadd4c3e845c84210e3b3527c5117b609cb2ad8dff749e0247b60e547e161c4059879c38c609bb6fdf25bc158de45c336a1df24254f04ddcd234170f5f13e61a6090581c37ac764f9f377466b40db7319856638c8f04c3404a764ca46499fc39f0e6de0d93e9eee24f5e5c2d1bed6610680c29d292cae54eea5ec0436916a55bb2a6fd7562ab0fb02e2bf778ab63d92e8516875ad8bc35d56d7314431fd321cf4eec37eabf83128e7ee069d2cee135a395379bb5d817d2870db55a33c85f50da65e470de85bb04cd51955664a24deac4a2ee892d2695c6a1d2292b6e743bd5471b88327da863730cf62ad388db0daf7274cbabd1983013083f444740a57498e0eb16408b11aba012dc23f7dc01cc259c5cfeeb8f26539122b1f7eaadf5ffba9ceca5233b4326ec2e3087bd25d9f603ce15493c1aa519f9e965e9c48dddcc9de822aeeda403f52cc93a9df5eea087bcedcb81ef14c5e306774eb73b0c29adaa1b0dc516eaea38e6842168773730f57feaee310287f9a9d818431f3e8fa0402a199c894540e3e70b8b88096d006e445df35c1e46ee87e38db1e6766e799b5444c81842b8b5f3a87991e682f6270805bdac69048a64c9ce00cf96871443c849cc5e66c99aa5ada9b094a3af8791b237eb9e012e18059caf9d3aea361d160ed762365dec8aa73e2649f340af3c7b9940f7cb64f455620857dc6855a8c59cc5d547e17b58a64c5fe6acc5281862c0546dac07eb75c6cdf7e924063cda287eb5afb1d7ff29c39c96a70cacd03babab08d5d303652b7256b9c3ec2cae10e243c8b059d3002eb428f2324f2f943627475e8ac1a5d199f85d4d37af99e0a5370c5b28404a372ee74ff497a0a40b7192f80d43ab21facfd66ff093b0c2eeaa46fc3318199b123dd6aafb446431cc4da1a430382c74270f35666d950535dcccf1ca0f5ba8bd2309407497eb4a3d76745fe786732e1547a5ba8dbc0d1dd87dc3f5da7e1bc5634a34d494702e6365457f3c5d0fea7448dc59bd0580eaa0308b6fe5ec3436e6bc08f22085855ab45b122cb9293c3914f23ab9e9d9b4d960d0b9a26c276c41922171b6469bda3fda40fea685b47742de3759a073f9465ff1106da4a1e034ae8e435a48e32cd9b57dc879f880ecd66be2afb617f86df7b3c2d1c70e7858174676fa439dcfb02e8cec5e51ffe20dfe9268e532b871d8af5002b07b678ac1b83f1ac76ca3d1cf24839060703e49bf0af93c1957524c740e38130ca171c7d2950bae7233b0b4f5dc249afc75d10203c27d1407cf6d2fd0aeda28d6b6ccb9e3539a74553b0adc6cfb31b4512972348bf7a644625a51156e5e4aa06ef153fd6aaccd45ef60fafaaa4c1b28a0402b487dc6a57390324f828979014ada41af79da646648843ec8e1114b201c2f87a6bb4d60e9967562a5219f7c763422a679e9fc62972786f304271997629b31400170d59cdd9db812ac45ff43a47f5894539836a42f7b6acc47b3d114ef2fee15a9c223f3dac19c09b3d4c9117671dba6589152bc09d39663d3f585add4b05714192178ab09b2d94b182fb9c150efcc10528fe6320bf1375de40f627cbb6029a966695f1bb77cdec24e721288b055fe025c311af2a924e61409985a00e806ff869f04ba190cbbde567a2caa8546432e129a60d63c1a98e7bac4d42a2a049b14e3944a63416d2fc4201b15d9fe544f9905b5624316bc6d4cadfd11f47177d97fd3b5a62b9ea988edc1352f00f3f7c590aa1e1e2ca0c43a3d475d55d1f9ca140cde18b066823afe90309f18b426c673e426189f08682d7d1feadedf8685925b9f170f467b6c9e37fda7aa2afa2b93450ada1c710e93d344664b18fdd770c43a992e7d02c179af9a04221a7981315eca97a819ef19b0f9a08a4727edfe3a816d2fd386378e173c5709b41e57db426b0581f8dedabbf1deeff5bbd68b2aadc93a8c01248506b057909a170a188d78aa539e3e6accff5dbf658e41e39988fd4690a3dc37b74f6df5a7917c75705943be13a28ff46a5b2a5dab960e3d0b6124966087f8ef96907b9cda638a6ba81e0cb7cd7df5245da9593d5fd0e392b726d119e15992fb5e9499fd035efa7e74ebbc41c767349d4335213f8cfe6cdbf859540e36266e573257306dd85e172e138efd3df302eb86317a941fb3f7ea253bb29806d02525c38257bb0c1414e45a9b19e19ef0da4afb127b0b300e3c7dfed6dd6c5e22d023ed137cb6accc4501cc847004da41b4091283681215b8105dc392445d2649a6f4118c1adf5de91c5c08312a15b9cd21769bd5fa5363ccc5bca47cabb9f1e382ac50cd8e304bd07cfb50ddb27f9d0a8fe901ea5f429e71ce9f3ad63c0bb61e5bccd93a746241350dedca4ddb6f3bd57bdc64473b28033fb78ddc16f39ed2f307a6a655455035e64f9fa768d3cc0c57e3363796742c63cbc95262dbb73b26156ee71f6ed059552d1dab349ab3708f48d8c05b88e8a15ba352e20b25142f1731d22da026a3151b7dd81e800f372659560927853cfaaa61f28b2e92985f0da2abc2a3eeac27f87e57916660b946969dca15274c64d1708ec6a89e1f119b55e0bc60f940314ac6555b79e13631aef314fde6486b30cb62a0a68e3845512cfb8ec108a553b9c417cb7e2ef89724834ca826bec8a83099298b68e0f056f2b41736c5cfd29a80b802280f2f3cb6af306de7804f544ef3104cadbd51e1233d738d9b3f0195bf109b2036231f45bcb7b3c6ec84d9c81b7e75fb0a26c9f390bc0296b148a2604732d4c28790a0dc6981793546df10a143d88279413e3e5a2fc6ff5a75201248b1f61f8bb90302d668c29bd722a730cf4c2eede91004ef8e18e5c8d6094f87462f3031083793b6a06cb6e2c57c32d685b5ba062461bb7840f74f2b29f157f0c7e7852f066d56593069038b22359bba15c5191142a3f0615e9dfa98282615734abe838fc872266c0a0a78f647d65adf3424d50d382e37fe69a9d5e5baa451f0052fc44f089157675801382031ec15f3acfe829800566e9fe777c0cc9eea2e5b198bab78efd3ba3da3d9a780db4c3ecbd05d89c55231d58087e8cdc93bc84a5e38f143636d6569214c65e4ea129715ba0738fefd4af15a4d03c32ce468e47d409fa3b1ccc00c0e156149f4788f23c46ae32dcfc39763c86b54b7c71ef4f4a54c55294483fc473fd0c84cdc17dda14c21106a73eb6eceaea23e153df03b1851026d992d73a9755ca25d0491b1a4457c1c91ccdaa7eff90b76f063b85056f430a330f449c62ff5845b31923ee19258a1f91fbb0fb653b42a8d2d0134995d6cd71bca9fad8700150dc1c2e2bb306c5f02940f238da53a13ac7cdd5bdcf0e688b349298c394c64175506dd8d2c39b2dccfd91071e55524c95d5dc2c3db57e4b38688828325e6b89f4b80c284d05a6586e182ad6ac706509a8f6591a04099fefee2e9bf8a0318eccdcb050a9efc60534690d5477de34efc35c7f96131093f1b3a7a12be3b85611f6a9fd90005ddc772d103690c304baf784b4cb3d3915f2e85669774c7c511b33a051c9b6e1ab9a22cc98ab0609f3fb7a3a89dc83484b69e6c07027f3aa745433bd81eeb5a54e45335cf1454a27dde2acbeb8ff0</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="BBK" scheme="https://silencejql.github.io/categories/BBK/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/BBK/CSharp/"/>
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="CAN" scheme="https://silencejql.github.io/tags/CAN/"/>
    
  </entry>
  
  <entry>
    <title>WPF MVVM示例一</title>
    <link href="https://silencejql.github.io/WPF-MVVM%E7%A4%BA%E4%BE%8B%E4%B8%80.html"/>
    <id>https://silencejql.github.io/WPF-MVVM%E7%A4%BA%E4%BE%8B%E4%B8%80.html</id>
    <published>2025-07-26T12:22:34.000Z</published>
    <updated>2025-07-26T13:14:48.915Z</updated>
    
    <content type="html"><![CDATA[<p>深入浅出<code>WPF</code>示例, 理解Binding实现<br><span id="more"></span></p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>功能: 实现按钮计算更新<code>TextBox</code>数据</p><p><img src="WPF-MVVM示例一/20250726202642.png" alt="Cal"></p><h3 id="数据属性NotificationObject"><a href="#数据属性NotificationObject" class="headerlink" title="数据属性NotificationObject"></a>数据属性<code>NotificationObject</code></h3><p>当属性被赋值时调用<code>RaisePropertyChanged</code>触发<code>PropertyChanged</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NotificationObject</span> : <span class="title">INotifyPropertyChanged</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> PropertyChangedEventHandler PropertyChanged;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RaisePropertyChanged</span>(<span class="params"><span class="built_in">string</span> propertyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PropertyChanged?.Invoke(<span class="keyword">this</span>, <span class="keyword">new</span> PropertyChangedEventArgs(propertyName));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="命令属性DelegateCommand"><a href="#命令属性DelegateCommand" class="headerlink" title="命令属性DelegateCommand"></a>命令属性<code>DelegateCommand</code></h3><p><code>View</code>中按钮按下等触发命令后执行<code>Execute</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DelegateCommand</span> : <span class="title">ICommand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> EventHandler CanExecuteChanged;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">CanExecute</span>(<span class="params"><span class="built_in">object</span> parameter</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(CanExcuteFunc == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> CanExcuteFunc(parameter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params"><span class="built_in">object</span> parameter</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ExecuteAction == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        ExecuteAction(parameter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Action&lt;<span class="built_in">object</span>&gt; ExecuteAction &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Func&lt;<span class="built_in">object</span>, <span class="built_in">bool</span>&gt; CanExcuteFunc &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="MainWindowViewModel"><a href="#MainWindowViewModel" class="headerlink" title="MainWindowViewModel"></a><code>MainWindowViewModel</code></h3><p>示例中<code>Cal``Button</code>按下后触发执行<code>CanExecute</code>若返回<code>true</code>则执行<code>Execute</code>, 在构造中添加<code>ExecuteAction</code>执行方法</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MainWindowViewModel</span> : <span class="title">NotificationObject</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">double</span> num1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">double</span> Num1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">get</span> &#123; <span class="keyword">return</span> num1; &#125;</span><br><span class="line"><span class="keyword">set</span></span><br><span class="line">&#123;</span><br><span class="line">num1 = <span class="keyword">value</span>;</span><br><span class="line">RaisePropertyChanged(<span class="keyword">nameof</span>(Num1));</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">double</span> num2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Num2</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> num2++; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            num2 = <span class="keyword">value</span>;</span><br><span class="line">            RaisePropertyChanged(<span class="keyword">nameof</span>(Num2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">double</span> num3;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Num3</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> num3; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            num3 = <span class="keyword">value</span>;</span><br><span class="line">            RaisePropertyChanged(<span class="keyword">nameof</span>(Num3));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> DelegateCommand AddCommand &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Add</span>(<span class="params"><span class="built_in">object</span> param</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Num3 = Num1 + Num2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MainWindowViewModel</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        AddCommand = <span class="keyword">new</span> DelegateCommand</span><br><span class="line">        &#123;</span><br><span class="line">            ExecuteAction = Add</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数据层DataContext"><a href="#数据层DataContext" class="headerlink" title="数据层DataContext"></a>数据层<code>DataContext</code></h3><p><code>DataContext = new MainWindowViewModel();</code></p><p>指定<code>Banding</code>上下文即业务逻辑</p><p>如上述示例 <code>Banding</code>绑定的是<code>MainWindowViewModel</code>类里的属性名</p><h4 id="DataContext设置方法"><a href="#DataContext设置方法" class="headerlink" title="DataContext设置方法"></a><code>DataContext</code>设置方法</h4><h5 id="1-初始化时添加"><a href="#1-初始化时添加" class="headerlink" title="1. 初始化时添加"></a>1. 初始化时添加</h5><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MainWindow</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line">    <span class="keyword">this</span>.DataContext = <span class="keyword">new</span> MainWindowViewModel();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-xaml中d-DataContext指定"><a href="#2-xaml中d-DataContext指定" class="headerlink" title="2. xaml中d:DataContext指定"></a>2. <code>xaml</code>中<code>d:DataContext</code>指定</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xmlns:viewmodel=&quot;clr-namespace:LearnWpf.ViewModel&quot; </span><br><span class="line">d:DataContext=&quot;&#123;d:DesignInstance Type=viewmodel:MainWindowViewModel&#125;&quot;</span><br></pre></td></tr></table></figure><h5 id="3-xaml中添加"><a href="#3-xaml中添加" class="headerlink" title="3. xaml中添加"></a>3. <code>xaml</code>中添加</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Window.DataContext</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">viewmodel:MainWindowViewModel</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Window.DataContext</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Banding-DataContext说明"><a href="#Banding-DataContext说明" class="headerlink" title="Banding DataContext说明"></a><code>Banding DataContext</code>说明</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 注意此时我已经在初始化代码中设置DataContext 为 ClassA，DataContext = new ClassA --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Window</span> <span class="attr">x:Name</span>=<span class="string">&quot;MyWindow&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DataContext 没有被指定,所以继承自父类 的 DataContext,也就是 ClassA --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">StackPanel</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DataContext 继承自父类,也就是 ClassA, 所以这里会显示 ClassA.Name --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Content</span>=<span class="string">&quot;&#123;Binding Name&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DataContext 仍然是ClassA, 但是我们通过binding设置为ClassA.ClassB--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">StackPanel</span> <span class="attr">DataContext</span>=<span class="string">&quot;&#123;Binding ClassB&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DataContext 继承自父类，也就是ClassB，所以这里会显示 ClassB.Name --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Content</span>=<span class="string">&quot;&#123;Binding Name&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DataContext i仍然是 ClassB, 但是我们binding 到了Window&#x27;s DataContext.Name, 也就是 ClassA.Name --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Content</span>=<span class="string">&quot;&#123;Binding ElementName=MyWindow, Path=DataContext.Name&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">StackPanel</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- We&#x27;ve left the StackPanel with its DataContext bound to ClassB, so this Label&#x27;s DataContext is ClassA (inherited from parent StackPanel), and we are binding to ClassA.ClassB.Name --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Label</span> <span class="attr">Content</span>=<span class="string">&quot;&#123;Binding ClassB.Name&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">StackPanel</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Window</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;深入浅出&lt;code&gt;WPF&lt;/code&gt;示例, 理解Binding实现&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    <category term="WPF" scheme="https://silencejql.github.io/categories/CSharp/WPF/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="WPF" scheme="https://silencejql.github.io/tags/WPF/"/>
    
  </entry>
  
  <entry>
    <title>设计模式-MVVM</title>
    <link href="https://silencejql.github.io/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVVM.html"/>
    <id>https://silencejql.github.io/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-MVVM.html</id>
    <published>2025-07-26T09:01:18.000Z</published>
    <updated>2025-07-26T13:21:28.158Z</updated>
    
    <content type="html"><![CDATA[<p><code>MVVM-&gt;Model View ViewModel</code><br><span id="more"></span></p><h2 id="MVVM-Model-View-ViewModel"><a href="#MVVM-Model-View-ViewModel" class="headerlink" title="MVVM (Model-View-ViewModel)"></a><code>MVVM (Model-View-ViewModel)</code></h2><p><strong>概念解析：</strong></p><ul><li><p><code>MVVM</code>作为<code>MVC</code>模式的改良版，尤其受到现代前端开发青睐，常见于与<code>Vue</code>、<code>Angular</code>、<code>React</code>等框架的深度融合。</p></li><li><p><strong><code>Model</code></strong>：与<code>MVC</code>中一样，负责数据管理与业务逻辑处理。</p></li><li><strong><code>View</code></strong>：负责渲染用户界面，但不再直接与<code>Model</code>交流。</li><li><strong><code>ViewModel</code></strong>：作为新增角色，充当<code>View</code>与<code>Model</code>之间的枢纽，封装视图逻辑，并实现数据绑定，让<code>Model</code>与<code>View</code>的同步实现自动化。</li></ul><p><strong>运作机制详解：</strong></p><ul><li><strong>双向数据绑定</strong>：<code>ViewModel</code>与<code>Mode</code>l建立绑定关系，一旦<code>Model</code>数据发生变更，<code>ViewModel</code>会自动更新，并通过数据绑定技术将变化同步到<code>View</code>；反之，用户在<code>View</code>的操作也会通过双向绑定自动反应到<code>ViewModel</code>和<code>Model</code>中。</li><li><strong>观察者模式</strong>：<code>MVVM</code>通常采用观察者模式实现数据绑定，<code>ViewModel</code>监控<code>Model</code>变化并自动更新视图。</li></ul><p><strong>优缺点评估：</strong></p><ul><li><strong>优点</strong>：通过数据绑定技术大大减轻了手动维护视图状态的工作量，提升了开发效率，降低了代码耦合度。</li><li><strong>缺点</strong>：新手理解数据绑定机制可能存在一定的难度，另外，在大型或高性能应用中，若未经合理优化，可能会产生较多<code>DOM</code>操作，影响性能表现。</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;code&gt;MVVM-&amp;gt;Model View ViewModel&lt;/code&gt;&lt;br&gt;</summary>
    
    
    
    <category term="设计模式" scheme="https://silencejql.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="设计模式" scheme="https://silencejql.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>SICK RFID RFU630读写标签</title>
    <link href="https://silencejql.github.io/SICK-RFID-RFU630%E8%AF%BB%E5%86%99%E6%A0%87%E7%AD%BE.html"/>
    <id>https://silencejql.github.io/SICK-RFID-RFU630%E8%AF%BB%E5%86%99%E6%A0%87%E7%AD%BE.html</id>
    <published>2025-07-21T02:56:50.000Z</published>
    <updated>2025-07-21T04:59:20.911Z</updated>
    
    <content type="html"><![CDATA[<p><code>SICK RFID RFU630</code>通电后默认启动<code>192.168.0.1 2112</code> <code>tcp</code>服务, 客户端可直接发送读写命令正常使用, 若需配置功率等则要安装<code>SOPAS_Engineering_Tool</code> 工具进行配置<br><span id="more"></span></p><h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><h3 id="存储结构"><a href="#存储结构" class="headerlink" title="存储结构"></a>存储结构</h3><p><img src="SICK-RFID-RFU630读写标签/Memory.png" alt="Memory"></p><h3 id="读写命令"><a href="#读写命令" class="headerlink" title="读写命令"></a>读写命令</h3><p><img src="SICK-RFID-RFU630读写标签/Read.png" alt="Read"></p><p><img src="SICK-RFID-RFU630读写标签/Write.png" alt="Write"></p><h2 id="示例说明"><a href="#示例说明" class="headerlink" title="示例说明"></a>示例说明</h2><p>读写<code>Bank=0b11=3</code> 用户存储区域数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;STX&gt;sMN TAreadTagData 0 3 0 9 32&lt;ETX&gt;</span><br><span class="line">0: 从0位开始</span><br><span class="line">9: 读取9word, 9*2=18byte, 9*2*2=36位字符. 即9*2个xx-&gt;18字节-&gt;36个字符</span><br><span class="line"></span><br><span class="line">&lt;STX&gt;sMN TAwriteTagData 0 3 0 1 32 +4 0000&lt;ETX&gt;</span><br><span class="line">1:1word-&gt;2个字节xx xx-&gt;-&gt;4位字符-&gt;+4</span><br><span class="line">&lt;STX&gt;sMN TAwriteTagData 0 3 0 2 32 +8 0000&lt;ETX&gt;</span><br><span class="line">2:2word-&gt;4字节xx xx xx xx-&gt;8位-&gt;+8</span><br><span class="line"></span><br><span class="line">写入01234567891234567</span><br><span class="line">&lt;STX&gt;sMN TAwriteTagData 0 3 0 9 32 +36 303132333435363738393132333435363700&lt;ETX&gt;</span><br><span class="line">0: 从0位开始写入</span><br><span class="line">9: 写入9word-&gt;18byte-&gt;36位字符</span><br></pre></td></tr></table></figure><h2 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">RFID_SICK_RFU630</span> : <span class="title">xStringEx</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> xString Connected = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> xString Enable = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> xString SendString = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> xString RecvString = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TcpClient tcpClient = <span class="keyword">new</span> TcpClient();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> EnableLog = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> LogFile = <span class="string">&quot;RFID_SICK_RFU630&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> remoteIP = <span class="built_in">string</span>.Empty;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> remotePort = <span class="number">2112</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> recvTimeout = <span class="number">500</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RFID_SICK_RFU630</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Connected = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;Connected&quot;</span>);</span><br><span class="line">        Enable = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;Enable&quot;</span>);</span><br><span class="line">        SendString = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;SendString&quot;</span>);</span><br><span class="line">        RecvString = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;RecvString&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> xState <span class="title">Init</span>(<span class="params"><span class="built_in">string</span> sPara</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; PortCif = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                &#123; <span class="string">&quot;IPAddr&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;PortNo&quot;</span>, <span class="number">2112</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;RecvTimeout&quot;</span>, <span class="number">1000</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;EnableLog&quot;</span>, <span class="literal">true</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;LogFileName&quot;</span>, LogFile &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            XmlFO.Configs.Get(<span class="string">&quot;TCPClient&quot;</span>, sPara, PortCif);</span><br><span class="line"></span><br><span class="line">            remoteIP = Convert.ToString(PortCif[<span class="string">&quot;IPAddr&quot;</span>]);</span><br><span class="line">            remotePort = Convert.ToInt32(PortCif[<span class="string">&quot;PortNo&quot;</span>]);</span><br><span class="line">            recvTimeout = Convert.ToInt32(PortCif[<span class="string">&quot;RecvTimeout&quot;</span>]);</span><br><span class="line">            EnableLog = Convert.ToBoolean(PortCif[<span class="string">&quot;EnableLog&quot;</span>]);</span><br><span class="line">            LogFile = Convert.ToString(PortCif[<span class="string">&quot;LogFileName&quot;</span>]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> xState.xTrue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            xErrorOutException(e);</span><br><span class="line">            <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> xState <span class="title">RFIDRecv</span>(<span class="params"><span class="built_in">string</span> sPara</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsOnline())</span><br><span class="line">                Connect();</span><br><span class="line">            <span class="built_in">string</span> sendData = <span class="string">&quot;\u0002&quot;</span> + XmlFO.StringAnalysis(sPara) + <span class="string">&quot;\u0003&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> tcpRecvString = TCPSendRecv(sendData);</span><br><span class="line">            <span class="keyword">if</span> (tcpRecvString.Length &lt; <span class="number">40</span>)</span><br><span class="line">                <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">            tcpRecvString = tcpRecvString.Substring(<span class="number">24</span>, <span class="number">40</span>).Trim();</span><br><span class="line"></span><br><span class="line">            <span class="built_in">int</span> length = tcpRecvString.Length;</span><br><span class="line">            <span class="built_in">byte</span>[] bytes = <span class="keyword">new</span> <span class="built_in">byte</span>[length / <span class="number">2</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i += <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                bytes[i / <span class="number">2</span>] = Convert.ToByte(tcpRecvString.Substring(i, <span class="number">2</span>), <span class="number">16</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            tcpRecvString = Encoding.ASCII.GetString(bytes).Trim(<span class="string">&#x27;\0&#x27;</span>).Trim();</span><br><span class="line">            RecvString.xValue = tcpRecvString;</span><br><span class="line">            Logout(<span class="string">&quot;Recv -&gt; VIN: &quot;</span> + tcpRecvString);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> xState.xTrue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            Logout(ex.ToString());</span><br><span class="line">            <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> xState <span class="title">RFIDWriteVIN</span>(<span class="params"><span class="built_in">string</span> sPara</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsOnline())</span><br><span class="line">                Connect();</span><br><span class="line">            <span class="built_in">string</span> vin = XmlFO.StringAnalysis(sPara.Trim());</span><br><span class="line">            Logout(<span class="string">&quot;写入VIN: &quot;</span> + vin);</span><br><span class="line">            <span class="built_in">string</span> vinHexString = <span class="built_in">string</span>.Empty;</span><br><span class="line">            Encoding.ASCII.GetBytes(vin).ToList().ForEach(b =&gt; vinHexString += b.ToString(<span class="string">&quot;X2&quot;</span>));</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> sendString = <span class="string">&quot;\u0002&quot;</span> + <span class="string">&quot;sMN TAwriteTagData 0 3 0 9 32 +36 &quot;</span> + vinHexString.PadRight(<span class="number">36</span>, <span class="string">&#x27;0&#x27;</span>) + <span class="string">&quot;\u0003&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> tcpRecvString = TCPSendRecv(sendString);</span><br><span class="line">            RecvString.xValue = tcpRecvString;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> xState.xTrue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            Logout(ex.ToString());</span><br><span class="line">            <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">TCPSendRecv</span>(<span class="params"><span class="built_in">string</span> sendData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Logout(<span class="string">&quot;Send -&gt; &quot;</span> + sendData);</span><br><span class="line">        tcpClient.Client.Send(Encoding.ASCII.GetBytes(sendData));</span><br><span class="line"></span><br><span class="line">        <span class="built_in">byte</span>[] tcpRecvByts = <span class="keyword">new</span> <span class="built_in">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="built_in">int</span> recvLength = tcpClient.Client.Receive(tcpRecvByts);</span><br><span class="line">        <span class="keyword">if</span> (recvLength &lt; <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="built_in">byte</span>[] tmpRecvData = <span class="keyword">new</span> <span class="built_in">byte</span>[recvLength];</span><br><span class="line">        Array.Copy(tcpRecvByts, tmpRecvData, recvLength);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> tcpRecvString = Encoding.ASCII.GetString(tmpRecvData).Trim(<span class="string">&#x27;\0&#x27;</span>).Trim();</span><br><span class="line">        Logout(<span class="string">&quot;Recv -&gt; &quot;</span> + tcpRecvString);</span><br><span class="line">        <span class="keyword">return</span> tcpRecvString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Connect</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (tcpClient == <span class="literal">null</span>)</span><br><span class="line">            tcpClient = <span class="keyword">new</span> TcpClient();</span><br><span class="line">        <span class="keyword">if</span> (tcpClient.Connected)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        tcpClient.Close();</span><br><span class="line">        tcpClient = <span class="keyword">new</span> TcpClient();</span><br><span class="line">        tcpClient.Connect(IPAddress.Parse(remoteIP), remotePort);</span><br><span class="line">        tcpClient.Client.ReceiveTimeout = recvTimeout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsOnline</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (tcpClient == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">bool</span> onLine = !((tcpClient.Client.Poll(<span class="number">100</span>, SelectMode.SelectRead) &amp;&amp; (tcpClient.Client.Available == <span class="number">0</span>)) || !tcpClient.Client.Connected);</span><br><span class="line">        <span class="keyword">if</span> (!onLine)</span><br><span class="line">            tcpClient = <span class="literal">null</span>;</span><br><span class="line">        Connected.xValue = onLine.ToString();</span><br><span class="line">        <span class="keyword">return</span> onLine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Logout</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(EnableLog)</span><br><span class="line">            OnlyOneStartUp.Log(LogFile, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;code&gt;SICK RFID RFU630&lt;/code&gt;通电后默认启动&lt;code&gt;192.168.0.1 2112&lt;/code&gt; &lt;code&gt;tcp&lt;/code&gt;服务, 客户端可直接发送读写命令正常使用, 若需配置功率等则要安装&lt;code&gt;SOPAS_Engineering_Tool&lt;/code&gt; 工具进行配置&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    <category term="BBK" scheme="https://silencejql.github.io/categories/CSharp/BBK/"/>
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="RFID" scheme="https://silencejql.github.io/tags/RFID/"/>
    
  </entry>
  
  <entry>
    <title>CSharp调用C++ dll</title>
    <link href="https://silencejql.github.io/CSharp%E8%B0%83%E7%94%A8C-dll.html"/>
    <id>https://silencejql.github.io/CSharp%E8%B0%83%E7%94%A8C-dll.html</id>
    <published>2025-07-02T02:20:46.000Z</published>
    <updated>2025-07-02T02:24:33.475Z</updated>
    
    <content type="html"><![CDATA[<p>C#中动态加载C++ DLL文件<br><span id="more"></span></p><p>在C#中动态加载C++ DLL（动态链接库）可以通过几种方式实现。下面我将介绍最常用的方法：</p><h2 id="1-使用DllImport特性（静态加载）"><a href="#1-使用DllImport特性（静态加载）" class="headerlink" title="1. 使用DllImport特性（静态加载）"></a>1. 使用DllImport特性（静态加载）</h2><p>这是最常见的方式，虽然不是完全动态的，但值得了解：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 声明DLL中的函数</span></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;YourCppDll.dll&quot;</span>, CallingConvention = CallingConvention.Cdecl)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">int</span> <span class="title">YourCppFunction</span>(<span class="params"><span class="built_in">int</span> param1, <span class="built_in">string</span> param2</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 调用DLL中的函数</span></span><br><span class="line">        <span class="built_in">int</span> result = YourCppFunction(<span class="number">123</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Result: <span class="subst">&#123;result&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-使用LoadLibrary和GetProcAddress（真正动态加载）"><a href="#2-使用LoadLibrary和GetProcAddress（真正动态加载）" class="headerlink" title="2. 使用LoadLibrary和GetProcAddress（真正动态加载）"></a>2. 使用LoadLibrary和GetProcAddress（真正动态加载）</h2><p>如果你想在运行时决定加载哪个DLL，可以使用Windows API：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 导入Windows API函数</span></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;kernel32.dll&quot;</span>, SetLastError = true)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <span class="title">LoadLibrary</span>(<span class="params"><span class="built_in">string</span> dllToLoad</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;kernel32.dll&quot;</span>, SetLastError = true)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <span class="title">GetProcAddress</span>(<span class="params">IntPtr hModule, <span class="built_in">string</span> procedureName</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;kernel32.dll&quot;</span>, SetLastError = true)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">bool</span> <span class="title">FreeLibrary</span>(<span class="params">IntPtr hModule</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义委托类型匹配C++函数签名</span></span><br><span class="line">    [<span class="meta">UnmanagedFunctionPointer(CallingConvention.Cdecl)</span>]</span><br><span class="line">    <span class="function"><span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">YourCppFunctionDelegate</span>(<span class="params"><span class="built_in">int</span> param1, <span class="built_in">string</span> param2</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        IntPtr pDll = LoadLibrary(<span class="string">@&quot;YourCppDll.dll&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (pDll == IntPtr.Zero)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Failed to load DLL&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        IntPtr pAddressOfFunctionToCall = GetProcAddress(pDll, <span class="string">&quot;YourCppFunction&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (pAddressOfFunctionToCall == IntPtr.Zero)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Failed to find function&quot;</span>);</span><br><span class="line">            FreeLibrary(pDll);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将函数指针转换为委托</span></span><br><span class="line">        YourCppFunctionDelegate yourFunction = Marshal.GetDelegateForFunctionPointer&lt;YourCppFunctionDelegate&gt;(pAddressOfFunctionToCall);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用函数</span></span><br><span class="line">        <span class="built_in">int</span> result = yourFunction(<span class="number">123</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Result: <span class="subst">&#123;result&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 释放DLL</span></span><br><span class="line">        FreeLibrary(pDll);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-使用COM-Interop（如果DLL是COM组件）"><a href="#3-使用COM-Interop（如果DLL是COM组件）" class="headerlink" title="3. 使用COM Interop（如果DLL是COM组件）"></a>3. 使用COM Interop（如果DLL是COM组件）</h2><p>如果C++ DLL是COM组件，可以使用COM互操作：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Type comType = Type.GetTypeFromProgID(<span class="string">&quot;YourCOMComponent.YourClass&quot;</span>);</span><br><span class="line"><span class="built_in">dynamic</span> comObject = Activator.CreateInstance(comType);</span><br><span class="line">comObject.YourMethod(<span class="number">123</span>, <span class="string">&quot;test&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol><li><p><strong>调用约定</strong>：确保C#端和C++端的调用约定一致（通常C++使用<code>__cdecl</code>或<code>__stdcall</code>）。</p></li><li><p><strong>数据类型映射</strong>：注意C++和C#之间的数据类型转换，特别是字符串和指针类型。</p></li><li><p><strong>32/64位兼容性</strong>：确保DLL和应用程序的平台架构一致（同为x86或x64）。</p></li><li><p><strong>DLL位置</strong>：DLL文件需要放在应用程序可找到的路径（如exe所在目录或系统PATH中）。</p></li><li><p><strong>内存管理</strong>：如果DLL分配内存，确保有相应的释放机制，避免内存泄漏。</p></li><li><p><strong>异常处理</strong>：C++异常不能直接传递到C#，需要在C++端捕获并转换为错误码。</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;C#中动态加载C++ DLL文件&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    <category term="C++" scheme="https://silencejql.github.io/categories/CSharp/C/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="C" scheme="https://silencejql.github.io/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>AlgorithmLearning-汉诺塔(分治递归)</title>
    <link href="https://silencejql.github.io/AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html"/>
    <id>https://silencejql.github.io/AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html</id>
    <published>2025-06-19T05:10:17.000Z</published>
    <updated>2025-07-21T05:25:36.039Z</updated>
    
    <content type="html"><![CDATA[<p>利用分治处理汉诺塔问题<br><span id="more"></span></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>给定三根柱子，记为 A、B 和 C 。起始状态下，柱子A 上套着 𝑛 个圆盘，它们从上到下按照从小到大的顺序排列。我们的任务是要把这 𝑛 个圆盘移到柱子C 上，并保持它们的原有顺序不变</p><ol><li>圆盘只能从一根柱子顶部拿出，从另一根柱子顶部放入。  </li><li>每次只能移动一个圆盘。  </li><li>小圆盘必须时刻位于大圆盘之上。<br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133250.png" alt="AC"></li></ol><h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><h4 id="对于问题-𝑓-1"><a href="#对于问题-𝑓-1" class="headerlink" title="对于问题 𝑓(1)"></a>对于问题 𝑓(1)</h4><p>即当只有一个圆盘时，我们将它直接从 A 移动至 C 即可<br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133711.png" alt="AC"></p><h4 id="对于问题-𝑓-2"><a href="#对于问题-𝑓-2" class="headerlink" title="对于问题 𝑓(2)"></a>对于问题 𝑓(2)</h4><p>即当有两个圆盘时， 由于要时刻满足小圆盘在大圆盘之上，因此需要借助<br>B 来完成移动。</p><ol><li>先将上面的小圆盘从 A 移至 B 。  </li><li>再将大圆盘从 A 移至 C 。  </li><li>最后将小圆盘从 B 移至 C 。<br>解决问题 𝑓(2) 的过程可总结为： 将两个圆盘借助 B 从 A 移至 C 。其中，C 称为目标柱、B 称为缓冲柱。<br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133805.png" alt="AC1"><br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133825.png" alt="AC2"><br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133831.png" alt="AC3"><br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133835.png" alt="AC4"></li></ol><h4 id="对于问题-𝑓-3"><a href="#对于问题-𝑓-3" class="headerlink" title="对于问题 𝑓(3)"></a>对于问题 𝑓(3)</h4><p>即当有三个圆盘时，情况变得稍微复杂了一些。<br>因为已知 𝑓(1) 和 𝑓(2) 的解，所以我们可从分治角度思考， 将 A 顶部的两个圆盘看作一个整体, 这样三个圆盘就被顺利地从 A 移至 C 了。</p><ol><li>令 B 为目标柱、 C 为缓冲柱，将两个圆盘从 A 移至 B 。  </li><li>将 A 中剩余的一个圆盘从 A 直接移动至 C 。  </li><li>令 C 为目标柱、 A 为缓冲柱，将两个圆盘从 B 移至 C 。<br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133859.png" alt="AC"><br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133903.png" alt="AC"><br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133907.png" alt="AC"><br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133919.png" alt="AC"></li></ol><p>从本质上看， 我们将问题 𝑓(3) 划分为两个子问题 𝑓(2) 和一个子问题 𝑓(1) 。按顺序解决这三个子问题之后，<br>原问题随之得到解决。这说明子问题是独立的，而且解可以合并。<br>至此，我们可总结出下图所示的解决汉诺塔问题的分治策略：将原问题 𝑓(𝑛) 划分为两个子问题 𝑓(𝑛-1)<br>和一个子问题 𝑓(1) ，并按照以下顺序解决这三个子问题。  </p><ol><li>将 𝑛 - 1 个圆盘借助 C 从 A 移至 B 。  </li><li>将剩余 1 个圆盘从 A 直接移至 C 。  </li><li>将 𝑛 - 1 个圆盘借助 A 从 B 移至 C 。<br>对于这两个子问题 𝑓(𝑛 - 1) ， 可以通过相同的方式进行递归划分，直至达到最小子问题 𝑓(1) 。而 𝑓(1) 的<br>解是已知的，只需一次移动操作即可。<br><img src="AlgorithmLearning-汉诺塔-分治递归/20250619133615.png" alt="AC"></li></ol><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 移动一个圆盘 */</span>  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Move</span>(<span class="params">List&lt;<span class="built_in">int</span>&gt; src, List&lt;<span class="built_in">int</span>&gt; target</span>)</span> </span><br><span class="line">&#123;  </span><br><span class="line"> <span class="comment">// 从 src 顶部拿出一个圆盘  </span></span><br><span class="line"> <span class="built_in">int</span> pan = src[^<span class="number">1</span>];  </span><br><span class="line"> src.RemoveAt(src.Count - <span class="number">1</span>);  </span><br><span class="line"> <span class="comment">// 将圆盘放入 target 顶部  </span></span><br><span class="line"> target.Add(pan);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 求解汉诺塔问题 f(i) */</span>  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span>(<span class="params"><span class="built_in">int</span> i, List&lt;<span class="built_in">int</span>&gt; src, List&lt;<span class="built_in">int</span>&gt; buffer, List&lt;<span class="built_in">int</span>&gt; target</span>)</span> &#123;  </span><br><span class="line"> <span class="comment">// 若 src 只剩下一个圆盘，则直接将其移到 target  </span></span><br><span class="line"> <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;  </span><br><span class="line">  Move(src, target);  </span><br><span class="line">  <span class="keyword">return</span>;  </span><br><span class="line"> &#125;  </span><br><span class="line"> <span class="comment">// 子问题 f(i-1) ：将 src 顶部 i-1 个圆盘借助 target 移到 buffer  </span></span><br><span class="line"> DFS(i - <span class="number">1</span>, src, target, buffer);  </span><br><span class="line"> <span class="comment">// 子问题 f(1) ：将 src 剩余一个圆盘移到 target  </span></span><br><span class="line"> Move(src, target);  </span><br><span class="line"> <span class="comment">// 子问题 f(i-1) ：将 buffer 顶部 i-1 个圆盘借助 src 移到 target</span></span><br><span class="line"> DFS(i - <span class="number">1</span>, buffer, src, target);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 求解汉诺塔问题 */</span>  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SolveHanota</span>(<span class="params">List&lt;<span class="built_in">int</span>&gt; A, List&lt;<span class="built_in">int</span>&gt; B, List&lt;<span class="built_in">int</span>&gt; C</span>)</span> &#123;  </span><br><span class="line"> <span class="built_in">int</span> n = A.Count;  </span><br><span class="line"> <span class="comment">// 将 A 顶部 n 个圆盘借助 B 移到 C  </span></span><br><span class="line"> DFS(n, A, B, C);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;利用分治处理汉诺塔问题&lt;br&gt;</summary>
    
    
    
    <category term="算法" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="算法" scheme="https://silencejql.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>AlgorithmLearning-二分查找(分治递归)</title>
    <link href="https://silencejql.github.io/AlgorithmLearning-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html"/>
    <id>https://silencejql.github.io/AlgorithmLearning-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html</id>
    <published>2025-06-19T04:50:21.000Z</published>
    <updated>2025-07-21T05:23:58.845Z</updated>
    
    <content type="html"><![CDATA[<p>基于分治的二分查找<br><span id="more"></span></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] sortedArray2 = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">46</span>, <span class="number">57</span>, <span class="number">68</span>, <span class="number">79</span> &#125;;  </span><br><span class="line">FindIndex(sortedArray2, <span class="number">25</span>, <span class="number">0</span>, <span class="number">9</span>);  </span><br><span class="line"><span class="comment">//查找target = 6的index  </span></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">FindIndex</span>(<span class="params"><span class="built_in">int</span>[] sortedArray, <span class="built_in">int</span> target, <span class="built_in">int</span> start, <span class="built_in">int</span> end</span>)</span>  </span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">if</span>(start &gt; end)</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"> <span class="built_in">int</span> mid = (start + end) / <span class="number">2</span>;  </span><br><span class="line">    mid.Dump();</span><br><span class="line">    <span class="keyword">if</span>(sortedArray[mid] == target)</span><br><span class="line">     <span class="keyword">return</span> mid;    </span><br><span class="line"> <span class="keyword">if</span>(sortedArray[mid] &lt; target)  </span><br><span class="line">    &#123;        </span><br><span class="line">     <span class="comment">//递归子问题f(m + 1, end)</span></span><br><span class="line">     <span class="keyword">return</span> FindIndex(sortedArray, target, mid + <span class="number">1</span>, end);  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">     <span class="comment">//递归子问题f(start, m - 1) </span></span><br><span class="line">     <span class="keyword">return</span> FindIndex(sortedArray, target, start, mid - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;基于分治的二分查找&lt;br&gt;</summary>
    
    
    
    <category term="算法" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="算法" scheme="https://silencejql.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>CSharp补课笔记TypeConverter</title>
    <link href="https://silencejql.github.io/CSharp%E8%A1%A5%E8%AF%BE%E7%AC%94%E8%AE%B0TypeConverter.html"/>
    <id>https://silencejql.github.io/CSharp%E8%A1%A5%E8%AF%BE%E7%AC%94%E8%AE%B0TypeConverter.html</id>
    <published>2025-05-03T08:13:14.000Z</published>
    <updated>2025-05-03T08:23:29.681Z</updated>
    
    <content type="html"><![CDATA[<p>实现不同类型之间的转换, 如动态的将字符串转换为对象实例<br><span id="more"></span></p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestTypeConvert</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    TypeConverter tc = TypeDescriptor.GetConverter(<span class="keyword">typeof</span>(ColorRGB));</span><br><span class="line"></span><br><span class="line">    ColorRGB colorRGB1 = (ColorRGB)tc.ConvertFromString(<span class="string">&quot;#FF8800&quot;</span>);</span><br><span class="line">    ColorRGB colorRGB2 = (ColorRGB)tc.ConvertFromString(<span class="string">&quot;255, 136, 0&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> colorString1 = tc.ConvertToString(colorRGB1);</span><br><span class="line">    <span class="built_in">string</span> colorString2 = tc.ConvertToString(colorRGB2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自定义类型"><a href="#自定义类型" class="headerlink" title="自定义类型"></a>自定义类型</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将转换器与目标类型关联</span></span><br><span class="line">[<span class="meta">TypeConverter(typeof(ColorRGBConverter))</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ColorRGB</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">byte</span> R; <span class="keyword">public</span> <span class="built_in">byte</span> G; <span class="keyword">public</span> <span class="built_in">byte</span> B;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColorRGB</span>(<span class="params"><span class="built_in">byte</span> r, <span class="built_in">byte</span> g, <span class="built_in">byte</span> b</span>)</span></span><br><span class="line">    &#123; R = r; G = g; B = b; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">&quot;#&#123;0:X2&#125;&#123;1:X2&#125;&#123;2:X2&#125;&quot;</span>, R, G, B);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="定义类型转换器"><a href="#定义类型转换器" class="headerlink" title="定义类型转换器"></a>定义类型转换器</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">ColorRGBConverter</span> : <span class="title">TypeConverter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//定义可以从哪些类型转换</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">CanConvertFrom</span>(<span class="params">ITypeDescriptorContext context, Type sourceType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> sourceType == <span class="keyword">typeof</span>(<span class="built_in">string</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">CanConvertTo</span>(<span class="params">ITypeDescriptorContext context, Type destinationType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.CanConvertTo(context, destinationType);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实现将字符串转化为对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ConvertFrom</span>(<span class="params">ITypeDescriptorContext context, CultureInfo culture, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">value</span> <span class="keyword">is</span> <span class="built_in">string</span> strValue)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(strValue.StartsWith(<span class="string">&quot;#&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (strValue.Length == <span class="number">7</span>)</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">new</span> ColorRGB(<span class="built_in">byte</span>.Parse(strValue.Substring(<span class="number">1</span>,<span class="number">2</span>), NumberStyles.HexNumber),</span><br><span class="line">                                            <span class="built_in">byte</span>.Parse(strValue.Substring(<span class="number">3</span>,<span class="number">2</span>), NumberStyles.HexNumber),</span><br><span class="line">                                            <span class="built_in">byte</span>.Parse(strValue.Substring(<span class="number">5</span>,<span class="number">2</span>), NumberStyles.HexNumber));                        </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">string</span>[] parts = strValue.Split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> ColorRGB(<span class="built_in">byte</span>.Parse(parts[<span class="number">0</span>].Trim()),</span><br><span class="line">                                        <span class="built_in">byte</span>.Parse(parts[<span class="number">1</span>].Trim()),</span><br><span class="line">                                        <span class="built_in">byte</span>.Parse(parts[<span class="number">2</span>].Trim()));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> FormatException(<span class="string">&quot;格式不正确&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.ConvertFrom(context, culture, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ConvertTo</span>(<span class="params">ITypeDescriptorContext context, CultureInfo culture, <span class="built_in">object</span> <span class="keyword">value</span>, Type destinationType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">value</span> <span class="keyword">is</span> ColorRGB &amp;&amp; destinationType == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">value</span>.ToString();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.ConvertTo(context, culture, <span class="keyword">value</span>, destinationType);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p>CultureInfo主要用于特定区域的数字, 日期, 货币等格式化设置</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;实现不同类型之间的转换, 如动态的将字符串转换为对象实例&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="CSharp 补课笔记" scheme="https://silencejql.github.io/tags/CSharp-%E8%A1%A5%E8%AF%BE%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>BEP软件配置实现与BBK通讯</title>
    <link href="https://silencejql.github.io/BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF.html"/>
    <id>https://silencejql.github.io/BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF.html</id>
    <published>2025-05-03T05:14:45.000Z</published>
    <updated>2025-07-21T05:28:42.932Z</updated>
    
    <content type="html"><![CDATA[<p>配置BEP四轮软件和注册表实现BBK与BEP通讯<br><span id="more"></span></p><h2 id="通讯简介"><a href="#通讯简介" class="headerlink" title="通讯简介"></a>通讯简介</h2><p>BBK与BEP软件之间可选择串口(232)和TCP两种通讯方式, 现场常用串口通讯<br>软件之间交互主要有两个, 1. BBK扫码后将车型信息发送给BEP; 2. BEP将测试结果发送给BBK软件</p><h2 id="注册表配置"><a href="#注册表配置" class="headerlink" title="注册表配置"></a>注册表配置</h2><h3 id="选择通讯方式"><a href="#选择通讯方式" class="headerlink" title="选择通讯方式"></a>选择通讯方式</h3><h4 id="串口"><a href="#串口" class="headerlink" title="串口"></a>串口</h4><p><img src="BEP软件配置实现与BBK通讯/RegSerial.PNG" alt="Reg"></p><p>如上图<code>Use Host</code>用于配置软件间的通讯方式, 1为串口通讯, 2为网络通讯<br>当选择串口通讯时需要在软件中配置串口号, BEP软件对串口号的列举有限制,若串口使用扩展设备时串口号大于限值则不会在软件中显示, 这时需要将限值改大后再选择对应串口, 对应更改上图中的<code>Number of Serial Ports on Machine</code>.</p><h4 id="网口"><a href="#网口" class="headerlink" title="网口"></a>网口</h4><p><img src="BEP软件配置实现与BBK通讯/RegTcpip.PNG" alt="Tcp"></p><p>若选择网口通讯则需要配置上图所示的IP及端口号</p><h3 id="Host配置"><a href="#Host配置" class="headerlink" title="Host配置"></a>Host配置</h3><p>BEP与BBK软件通讯中有相应的协议规则, 为了更方便的使用需要屏蔽一些规则</p><p><img src="BEP软件配置实现与BBK通讯/RegHost.PNG" alt="Host"></p><p>其中最主要的是要将<code>Use Host Handshaking</code>握手的配置改为0屏蔽掉, 否则无法直接与BEP软件进行数据交互<br>也可将图中所有<code>Use</code>开头值为1的配置改为0</p><h3 id="BEP软件配置"><a href="#BEP软件配置" class="headerlink" title="BEP软件配置"></a>BEP软件配置</h3><h4 id="串口-1"><a href="#串口-1" class="headerlink" title="串口"></a>串口</h4><p><img src="BEP软件配置实现与BBK通讯/BEPSerial.PNG" alt="Serial"></p><p>配置完注册表后需要配置BEP软件中的串口号<br>其中BEP软件通过HOST串口将测试数据发送给BBK<br>通过SCANNER串口接收BBK发送的车型信息<br>其他不需要的不用管或者在注册表中屏蔽</p><h4 id="网口-1"><a href="#网口-1" class="headerlink" title="网口"></a>网口</h4><p><img src="BEP软件配置实现与BBK通讯/BEPTcp.PNG" alt="TCP"></p><p>若选择网口通讯则需要在上图中进行配置</p><h4 id="车型数据规则配置"><a href="#车型数据规则配置" class="headerlink" title="车型数据规则配置"></a>车型数据规则配置</h4><p><img src="BEP软件配置实现与BBK通讯/BEPVINConfig.PNG" alt="VIN"></p><p>BEP接收BBK发送车型数据字符串后会解析为VIN和ZTS, 由于ZTS可能存在不同长度所以需要配置不同的解析规则</p><p>具体配置参考上图, VIN为17位, ZTS为2位</p><p>BBK发送的车型数据也有一定规则, 在上图第二个标签也中进行配置, 默认为<code>0x02</code>STX开头, <code>0x03</code>ETX结尾</p><h4 id="测试结果发送配置"><a href="#测试结果发送配置" class="headerlink" title="测试结果发送配置"></a>测试结果发送配置</h4><p><img src="BEP软件配置实现与BBK通讯/BEPRsm.PNG" alt="rsm"></p><p>BEP通过图中<code>rsm_hoststring.xml</code>中配置的规则生成数据字符串后发送给BBK, BBK接收后通过同样的规则进行解析, 因此需要保证BEP和BBK调用该文件的一致性, 上图为BEP软件读取路径, 该路径在注册表配置HOST时可更改; BBK文件路径在相应Config文件下</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;配置BEP四轮软件和注册表实现BBK与BEP通讯&lt;br&gt;</summary>
    
    
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
  </entry>
  
  <entry>
    <title>Docker-composer常用指令</title>
    <link href="https://silencejql.github.io/Docker-composer%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4.html"/>
    <id>https://silencejql.github.io/Docker-composer%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4.html</id>
    <published>2025-04-01T07:21:20.000Z</published>
    <updated>2025-04-01T07:21:50.431Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id=""><a href="#" class="headerlink" title="#"></a>#</h1><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取工程中所有服务依赖的镜像</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pull</span></span><br><span class="line"><span class="comment"># 拉取工程中 nginx 服务依赖的镜像</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pull</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 前台启动</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">up</span></span><br><span class="line"><span class="comment"># 后台启动</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">up</span> <span class="string">-d</span></span><br><span class="line"><span class="comment"># -f 指定使用的 Compose 模板文件，默认为 docker-compose.yml，可以多次指定，指定多个 yml</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">-f</span> <span class="string">docker-compose.yml</span> <span class="string">up</span> <span class="string">-d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出日志，不同的服务输出使用不同的颜色来区分</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">logs</span></span><br><span class="line"><span class="comment"># 跟踪日志输出</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">logs</span> <span class="string">-f</span></span><br><span class="line"><span class="comment"># 关闭颜色</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">logs</span> <span class="string">--no-color</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出工程中所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">ps</span></span><br><span class="line"><span class="comment"># 列出工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">ps</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在工程中指定服务的容器上执行 echo &quot;helloworld&quot;</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">run</span> <span class="string">nginx</span> <span class="string">echo</span> <span class="string">&quot;helloworld&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">exec</span> <span class="string">nginx</span> <span class="string">bash</span></span><br><span class="line"><span class="comment"># 当一个服务拥有多个容器时，可通过 --index 参数进入到该服务下的任何容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">exec</span> <span class="string">--index=1</span> <span class="string">nginx</span> <span class="string">bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 暂停工程中所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pause</span></span><br><span class="line"><span class="comment"># 暂停工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pause</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 恢复工程中所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">unpause</span></span><br><span class="line"><span class="comment"># 恢复工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">unpause</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启工程中所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">restart</span></span><br><span class="line"><span class="comment"># 重启工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">restart</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动工程中所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">start</span></span><br><span class="line"><span class="comment"># 启动工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">start</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止工程中所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span></span><br><span class="line"><span class="comment"># 停止工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过发送 SIGKILL 信号停止工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">kill</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有（停止状态）服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span></span><br><span class="line"><span class="comment"># 先停止所有服务的容器，再删除所有服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-s</span></span><br><span class="line"><span class="comment"># 不询问是否删除，直接删除</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-f</span></span><br><span class="line"><span class="comment"># 删除服务容器挂载的数据卷</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-v</span></span><br><span class="line"><span class="comment"># 删除工程中指定服务的容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-sv</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止并删除工程中所有服务的容器、网络</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span></span><br><span class="line"><span class="comment"># 停止并删除工程中所有服务的容器、网络、镜像</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">down</span> <span class="string">--rmi</span> <span class="string">all</span></span><br><span class="line"><span class="comment"># 停止并删除工程中所有服务的容器、网络、数据卷</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">down</span> <span class="string">-v</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印所有服务的容器所对应的镜像</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">images</span></span><br><span class="line"><span class="comment"># 打印指定服务的容器所对应的镜像</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">images</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印指定服务容器的某个端口所映射的宿主机端口</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">port</span> <span class="string">nginx</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示工程中所有服务的容器正在运行的进程</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">top</span></span><br><span class="line"><span class="comment"># 显示工程中指定服务的容器正在运行的进程</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">top</span> <span class="string">nginx</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Docker-composer常用指令</summary>
    
    
    
    
    <category term="Docker" scheme="https://silencejql.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Windows安装配置Docker</title>
    <link href="https://silencejql.github.io/Windows%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEDocker.html"/>
    <id>https://silencejql.github.io/Windows%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEDocker.html</id>
    <published>2025-04-01T06:12:25.000Z</published>
    <updated>2025-04-01T06:29:48.838Z</updated>
    
    <content type="html"><![CDATA[<p>windows安装docker, 示例部署gitlab<br><span id="more"></span></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>自行下载安装Docker Desktop</p><p>安装完成后命令行输入<code>docker -v</code>可查看Docker版本信息</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="配置镜像源"><a href="#配置镜像源" class="headerlink" title="配置镜像源"></a>配置镜像源</h3><ol><li><p>在配置中添加registry mirrors</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;registry-mirrors&quot;:</span> [</span><br><span class="line"> <span class="string">&quot;https://docker.1ms.run&quot;</span>,</span><br><span class="line"> <span class="string">&quot;https://docker.xuanyuan.me&quot;</span></span><br><span class="line"> ]</span><br></pre></td></tr></table></figure></li><li><p>修改docker/daemon.json文件设置registry mirrors</p></li></ol><h3 id="拉去镜像"><a href="#拉去镜像" class="headerlink" title="拉去镜像"></a>拉去镜像</h3><p>如: 拉取gitlab<code>docker pull gitlab/gitlab-ee:latest</code></p><h4 id="Gitlab配置"><a href="#Gitlab配置" class="headerlink" title="Gitlab配置"></a>Gitlab配置</h4><p>新建文件路径存储Gitlab信息如:</p><blockquote><p>gitlab</p><blockquote><p>config<br>data<br>logs<br>docker-compose.yml</p></blockquote></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">gitlab:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">&#x27;gitlab/gitlab-ee:latest&#x27;</span>  <span class="comment"># 使用 GitLab 企业版镜像，或将 &#x27;gitlab-ee&#x27; 改为 &#x27;gitlab-ce&#x27; 使用社区版</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">&#x27;localhost&#x27;</span>  <span class="comment"># 配置 GitLab 的主机名，可以改为你自己的域名或 IP 地址</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">GITLAB_OMNIBUS_CONFIG:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        external_url &#x27;http://localhost&#x27;  # GitLab 的外部 URL，建议替换为你服务器的域名或 IP</span></span><br><span class="line"><span class="string"></span>    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;80:80&#x27;</span>    <span class="comment"># 映射 HTTP 端口</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;443:443&#x27;</span>  <span class="comment"># 映射 HTTPS 端口</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;22:22&#x27;</span>    <span class="comment"># 映射 SSH 端口，供 GitLab 使用</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./gitlab/config:/etc/gitlab</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./gitlab/data:/var/opt/gitlab</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./gitlab/logs:/var/log/gitlab</span></span><br><span class="line">    <span class="attr">logging:</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">&#x27;json-file&#x27;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">max-size:</span> <span class="string">&#x27;2g&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="启动Gitlab"><a href="#启动Gitlab" class="headerlink" title="启动Gitlab"></a>启动Gitlab</h4><p>使用命令<code>docker-compose up -d</code>启动容器需要一定时间, 期间可以用<code>docker ps</code>查看状态, 从starting转为healthy则启动成功<br>访问<a href="http://localhost即可登录gitlab">http://localhost即可登录gitlab</a><br>默认用户为：root 密码在gitlab部署目录下gitlab下的gitlab/config/initial_root_password文件中</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;windows安装docker, 示例部署gitlab&lt;br&gt;</summary>
    
    
    
    
    <category term="Docker" scheme="https://silencejql.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>BBK查询软件新增查询链接</title>
    <link href="https://silencejql.github.io/BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5.html"/>
    <id>https://silencejql.github.io/BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5.html</id>
    <published>2025-03-24T05:49:18.000Z</published>
    <updated>2025-03-24T11:45:53.004Z</updated>
    
    <content type="html"><![CDATA[<p>BBK查询软件新增或修改数据库链接字符串<br>可手动更改链接字符串或根据以下步骤自动生成<br><span id="more"></span></p><h2 id="新增本地链接Local"><a href="#新增本地链接Local" class="headerlink" title="新增本地链接Local"></a>新增本地链接Local</h2><ol><li>登录管理员后勾选编辑模式</li><li>双击要更改的名称或点击添加连接<br> <img src="BBK查询软件新增查询链接\选择链接.png" alt="选择链接"></li><li>点击<strong>创建链接字符串</strong>选择相应的数据源, 本地PostgreSql选择如下<br> <img src="BBK查询软件新增查询链接\选择数据源.png" alt="选择数据源"></li><li>配置连接属性如下, 其中Host可配置被访问数据库的ip<br><img src="BBK查询软件新增查询链接\连接属性.png" alt="连接属性"></li><li>单击确定即可</li></ol><h2 id="新增服务器链接Server"><a href="#新增服务器链接Server" class="headerlink" title="新增服务器链接Server"></a>新增服务器链接Server</h2><ol><li>登录管理员后勾选编辑模式</li><li>双击要更改的名称或点击添加连接后点击<strong>创建链接字符串</strong>选择相应的数据源, 服务器SQLServer选择如下<br> <img src="BBK查询软件新增查询链接\选择数据源Server.png" alt="选择数据源"></li><li>配置链接属性如下, 其中Server name可配置被访问数据库的ip<br> <img src="BBK查询软件新增查询链接\连接属性Server.png" alt="连接属性"></li><li>单击确定即可</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;BBK查询软件新增或修改数据库链接字符串&lt;br&gt;可手动更改链接字符串或根据以下步骤自动生成&lt;br&gt;</summary>
    
    
    
    <category term="BBK" scheme="https://silencejql.github.io/categories/BBK/"/>
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
  </entry>
  
  <entry>
    <title>Obsidain Dataview使用</title>
    <link href="https://silencejql.github.io/Obsidain-Dataview%E4%BD%BF%E7%94%A8.html"/>
    <id>https://silencejql.github.io/Obsidain-Dataview%E4%BD%BF%E7%94%A8.html</id>
    <published>2025-03-11T02:45:05.000Z</published>
    <updated>2025-03-11T02:45:05.425Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><h1 id=""><a href="#" class="headerlink" title="#"></a>#</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;h1 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;#&quot;&gt;&lt;/a&gt;#&lt;/h1&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hexo部署到Gitlab</title>
    <link href="https://silencejql.github.io/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0Gitlab.html"/>
    <id>https://silencejql.github.io/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0Gitlab.html</id>
    <published>2025-03-08T09:24:38.000Z</published>
    <updated>2025-03-24T11:46:43.005Z</updated>
    
    <content type="html"><![CDATA[<p>博客部署到Gitlab与部署到Github等生成静态页面不同, Gitlab中需要存储完整代码.<br><span id="more"></span></p><h2 id="完整步骤"><a href="#完整步骤" class="headerlink" title="完整步骤"></a>完整步骤</h2><p>以下是使用 <strong>Hexo</strong> 部署到 <strong>GitLab Pages</strong> 创建个人博客的完整指南，包含详细步骤和常见问题排查：</p><hr><h3 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h3><ol><li><p><strong>安装 Node.js 和 npm</strong><br>Hexo 基于 Node.js，需先安装 <a href="https://nodejs.org/">Node.js</a>（建议选择 LTS 版本）。</p></li><li><p><strong>安装 Git</strong><br>下载并安装 <a href="https://git-scm.com/">Git</a>，用于代码管理。</p></li><li><p><strong>注册 GitLab 账号</strong><br>访问 <a href="https://gitlab.com/">GitLab</a> 注册账号。</p></li></ol><hr><h3 id="二、安装-Hexo-并初始化博客"><a href="#二、安装-Hexo-并初始化博客" class="headerlink" title="二、安装 Hexo 并初始化博客"></a>二、安装 Hexo 并初始化博客</h3><ol><li><p><strong>全局安装 Hexo 命令行工具</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li><li><p><strong>创建 Hexo 项目</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init my-blog  <span class="comment"># 创建名为 my-blog 的博客目录</span></span><br><span class="line"><span class="built_in">cd</span> my-blog         <span class="comment"># 进入项目目录</span></span><br><span class="line">npm install        <span class="comment"># 安装依赖</span></span><br></pre></td></tr></table></figure></li><li><p><strong>本地预览</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server        <span class="comment"># 启动本地服务器</span></span><br></pre></td></tr></table></figure><p>访问 <code>http://localhost:4000</code> 查看默认博客。</p></li></ol><hr><h3 id="三、关联-GitLab-仓库"><a href="#三、关联-GitLab-仓库" class="headerlink" title="三、关联 GitLab 仓库"></a>三、关联 GitLab 仓库</h3><ol><li><p><strong>在 GitLab 创建新项目</strong>  </p><ul><li>登录 GitLab → <strong>New project</strong> → <strong>Create blank project</strong>。  </li><li>填写项目名称（如 <code>my-blog</code>），可见性选择 <code>Public</code>。  </li><li><strong>重要</strong>：项目名称需与 Hexo 的 <code>_config.yml</code> 中配置的路径一致（默认无需修改）。  </li></ul></li><li><p><strong>本地关联 GitLab 仓库</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add origin https://gitlab.com/你的用户名/my-blog.git</span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="四、配置-Hexo-部署到-GitLab"><a href="#四、配置-Hexo-部署到-GitLab" class="headerlink" title="四、配置 Hexo 部署到 GitLab"></a>四、配置 Hexo 部署到 GitLab</h3><ol><li><p><strong>安装 Hexo Git 部署插件</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p><strong>修改 Hexo 配置文件</strong><br>打开 <code>_config.yml</code>，找到 <code>deploy</code> 部分，修改为：  </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://gitlab.com/你的用户名/my-blog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span>  <span class="comment"># GitLab 默认分支是 main，不是 master！</span></span><br></pre></td></tr></table></figure></li><li><p><strong>测试部署</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --deploy</span><br></pre></td></tr></table></figure><ul><li>此命令会将生成的静态文件（在 <code>public</code> 目录下）推送到 GitLab 的 <code>main</code> 分支。  </li><li>但为了自动化构建，建议使用 GitLab CI/CD（见下一步）。</li></ul></li></ol><hr><h3 id="五、配置-GitLab-CI-CD-自动化部署"><a href="#五、配置-GitLab-CI-CD-自动化部署" class="headerlink" title="五、配置 GitLab CI/CD 自动化部署"></a>五、配置 GitLab CI/CD 自动化部署</h3><ol><li><p><strong>创建 <code>.gitlab-ci.yml</code> 文件</strong><br>在项目根目录新建文件，内容如下：  </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">node:16</span>  <span class="comment"># 使用 Node.js 16 环境</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pages:</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">node_modules/</span>  <span class="comment"># 缓存依赖加速构建</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span>  <span class="comment"># 全局安装 Hexo</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span>  <span class="comment"># 生成静态文件到 public 目录</span></span><br><span class="line">  <span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">public</span>  <span class="comment"># GitLab Pages 默认从 public 目录部署</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">main</span>  <span class="comment"># 仅 main 分支触发构建</span></span><br></pre></td></tr></table></figure></li><li><p><strong>推送代码到 GitLab</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;初始化 Hexo 博客&quot;</span></span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li><li><p><strong>查看构建状态</strong>  </p><ul><li>进入 GitLab 项目 → <strong>CI/CD → Pipelines</strong>，查看流水线状态。  </li><li>构建成功后，进入 <strong>Settings → Pages</strong>，确认网站地址。</li></ul></li></ol><hr><h3 id="六、访问博客"><a href="#六、访问博客" class="headerlink" title="六、访问博客"></a>六、访问博客</h3><ul><li><p><strong>默认地址</strong>：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://你的用户名.gitlab.io/my-blog</span><br></pre></td></tr></table></figure><ul><li>如果项目名称为 <code>my-blog</code>，访问路径需包含项目名。  </li><li>如果希望直接使用 <code>https://你的用户名.gitlab.io</code>，需将项目重命名为 <code>你的用户名.gitlab.io</code>（如 <code>john.gitlab.io</code>）。</li></ul></li></ul><hr><h3 id="七、自定义域名（可选）"><a href="#七、自定义域名（可选）" class="headerlink" title="七、自定义域名（可选）"></a>七、自定义域名（可选）</h3><ol><li><p><strong>购买域名</strong><br>在域名服务商（如 GoDaddy、阿里云）购买域名（如 <code>example.com</code>）。</p></li><li><p><strong>配置 DNS 解析</strong>  </p><ul><li><p>添加 <code>CNAME</code> 记录：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">主机名：blog  </span><br><span class="line">类型：CNAME  </span><br><span class="line">值：你的用户名.gitlab.io</span><br></pre></td></tr></table></figure></li><li><p>或添加 <code>A</code> 记录：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">主机名：@  </span><br><span class="line">类型：A  </span><br><span class="line">值：35.185.44.232（GitLab Pages 的 IP）</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>GitLab 配置自定义域名</strong>  </p><ul><li>进入项目 → <strong>Settings → Pages</strong> → <strong>New Domain</strong>。  </li><li>输入域名（如 <code>blog.example.com</code>），点击 <strong>Save</strong>。  </li><li><p>在 Hexo 的 <code>source</code> 目录下创建 <code>CNAME</code> 文件（无后缀），内容为域名：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blog.example.com</span><br></pre></td></tr></table></figure></li><li><p>推送代码使配置生效：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add <span class="built_in">source</span>/CNAME</span><br><span class="line">git commit -m <span class="string">&quot;添加自定义域名&quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h3 id="八、更新博客内容"><a href="#八、更新博客内容" class="headerlink" title="八、更新博客内容"></a>八、更新博客内容</h3><ol><li><p><strong>新建文章</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;我的第一篇文章&quot;</span></span><br></pre></td></tr></table></figure><ul><li>编辑文件 <code>source/_posts/我的第一篇文章.md</code>。</li></ul></li><li><p><strong>本地预览</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo server</span><br></pre></td></tr></table></figure></li><li><p><strong>部署到 GitLab</strong>  </p><ul><li><p><strong>方式一</strong>：手动生成并推送  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --deploy</span><br></pre></td></tr></table></figure></li><li><p><strong>方式二</strong>：触发 CI/CD 自动构建（推荐）  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;添加新文章&quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h3 id="九、常见问题解决"><a href="#九、常见问题解决" class="headerlink" title="九、常见问题解决"></a>九、常见问题解决</h3><ol><li><p><strong>构建失败</strong>  </p><ul><li><strong>错误提示</strong>：<code>npm install</code> 失败。  <ul><li>检查 <code>.gitlab-ci.yml</code> 中的 Node.js 版本是否与本地一致。  </li></ul></li><li><strong>错误提示</strong>：<code>hexo generate</code> 报错。  <ul><li>确保 <code>_config.yml</code> 中语法正确（避免使用 Tab 缩进，需用空格）。</li></ul></li></ul></li><li><p><strong>页面 404</strong>  </p><ul><li><strong>原因</strong>：访问路径错误。  <ul><li>如果项目名为 <code>my-blog</code>，访问地址应为 <code>https://用户名.gitlab.io/my-blog</code>。  </li><li>若希望根路径访问，需将项目重命名为 <code>用户名.gitlab.io</code>。</li></ul></li></ul></li><li><p><strong>自定义域名不生效</strong>  </p><ul><li>检查 <code>CNAME</code> 文件是否提交到仓库。  </li><li>等待 DNS 解析生效（最长可能需要 48 小时）。</li></ul></li></ol><hr><p>按照以上步骤，你可以将 Hexo 博客无缝部署到 GitLab Pages，享受免费、稳定的静态网站托管服务！</p><h2 id="部署Github方式部署到Gitlab"><a href="#部署Github方式部署到Gitlab" class="headerlink" title="部署Github方式部署到Gitlab"></a>部署Github方式部署到Gitlab</h2><ol><li>在<code>_config.yml</code>中增加部署仓库链接</li><li><p>新建<code>.gitlab-ci.yml</code>文件用于触发流水线</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pages:</span></span><br><span class="line"><span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mkdir</span> <span class="string">.public</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">cp</span> <span class="string">-r</span> <span class="string">./*</span> <span class="string">.public</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rm</span> <span class="string">-rf</span> <span class="string">public</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mv</span> <span class="string">.public</span> <span class="string">public</span></span><br><span class="line"><span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">if:</span> <span class="string">$CI_COMMIT_BRANCH</span> <span class="string">==</span> <span class="string">$CI_DEFAULT_BRANCH</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>在执行完<code>hexo g</code>后先将<code>.gitlab-ci.yml</code>复制到<code>.deploy_git</code>中再执行<code>hexo d</code></p></li></ol><h2 id="官方方式"><a href="#官方方式" class="headerlink" title="官方方式"></a>官方方式</h2><ol><li>如果你更希望你的站点部署在 <code>&lt;你的 GitLab 用户名&gt;.gitlab.io</code> 的子目录中，你的 <code>repository</code> 需要直接命名为子目录的名字，这样你的站点可以通过 <code>https://&lt;你的 GitLab 用户名&gt;.gitlab.io/&lt;repository 的名字&gt;</code> 访问。 你需要检查你的 Hexo 配置文件，将 url 的值修改为 <code>https://&lt;你的 GitLab 用户名&gt;.gitlab.io/&lt;repository 的名字&gt;</code>、将 root 的值修改为 <code>/&lt;repository 的名字&gt;/</code></li><li>通过 Settings &gt; CI/CD &gt; Runners &gt; Enable shared runners for this project 启用共享运行程序。</li><li>将你的 Hexo 站点文件夹推送到 repository 中。 默认情况下 public 目录将不会（并且不应该）被推送到 repository 中，建议你检查 .gitignore 文件中是否包含 public 一行，如果没有请加上。 整体文件夹结构应该与 示例储存库 大致相似。</li><li>使用 <code>node --version</code> 指令检查你电脑上的 Node.js 版本。 记下主要版本（例如，v16.y.z）</li><li><p>将 <code>.gitlab-ci.yml</code> 文件添加到您的版本库根目录（与 _config.yml &amp; package.json并列），内容如下（将16替换为您在上一步中注意到的 Node.js 主版本）</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">node:16-alpine</span></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line"><span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">node_modules/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_script:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pages:</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line"><span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">if:</span> <span class="string">$CI_COMMIT_BRANCH</span> <span class="string">==</span> <span class="string">$CI_DEFAULT_BRANCH</span></span><br></pre></td></tr></table></figure></li><li><p>GitLab CI 应该会自动开始运行，构建成功以后你应该可以在 <code>https://&lt;你的 GitLab 用户名&gt;.gitlab.io</code> 查看你的网站。</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;博客部署到Gitlab与部署到Github等生成静态页面不同, Gitlab中需要存储完整代码.&lt;br&gt;</summary>
    
    
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo中修改KaTeX界定符</title>
    <link href="https://silencejql.github.io/Hexo%E4%B8%AD%E4%BF%AE%E6%94%B9KaTeX%E7%95%8C%E5%AE%9A%E7%AC%A6.html"/>
    <id>https://silencejql.github.io/Hexo%E4%B8%AD%E4%BF%AE%E6%94%B9KaTeX%E7%95%8C%E5%AE%9A%E7%AC%A6.html</id>
    <published>2025-03-07T05:51:28.000Z</published>
    <updated>2025-03-24T11:46:21.019Z</updated>
    
    <content type="html"><![CDATA[<p>在 Hexo 中修改 KaTeX 的界定符（定界符）<br><span id="more"></span></p><p>主要涉及 <strong>两个位置</strong>：<strong>主题模板文件</strong>和 <strong>KaTeX 初始化脚本</strong>。<br>以下是详细操作步骤：</p><hr><h3 id="1-修改位置：主题的-footer-模板文件"><a href="#1-修改位置：主题的-footer-模板文件" class="headerlink" title="1. 修改位置：主题的 footer 模板文件"></a><strong>1. 修改位置：主题的 <code>footer</code> 模板文件</strong></h3><p>KaTeX 的界定符配置在初始化脚本中，通常位于 Next 主题的 <code>footer</code> 模板文件中。<br>文件路径：  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">themes/next/layout/_partials/footer.njk</span><br><span class="line">或</span><br><span class="line">themes/next/layout/_partials/footer.swig</span><br></pre></td></tr></table></figure><h4 id="操作步骤："><a href="#操作步骤：" class="headerlink" title="操作步骤："></a><strong>操作步骤：</strong></h4><ol><li>打开对应的 <code>footer</code> 文件（根据你的主题模板引擎，可能是 <code>.njk</code> 或 <code>.swig</code>）。</li><li><p>找到引入 <code>auto-render.min.js</code> 的脚本，修改 <code>delimiters</code> 参数：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">renderMathInElement</span>(<span class="variable language_">document</span>.<span class="property">body</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">delimiters</span>: [</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 修改这里的 left 和 right 值</span></span></span><br><span class="line"><span class="language-javascript">        &#123;<span class="attr">left</span>: <span class="string">&#x27;$$&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;$$&#x27;</span>, <span class="attr">display</span>: <span class="literal">true</span>&#125;,   <span class="comment">// 块级公式</span></span></span><br><span class="line"><span class="language-javascript">        &#123;<span class="attr">left</span>: <span class="string">&#x27;$&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;$&#x27;</span>, <span class="attr">display</span>: <span class="literal">false</span>&#125;     <span class="comment">// 行内公式</span></span></span><br><span class="line"><span class="language-javascript">      ],</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">throwOnError</span>: <span class="literal">false</span>  <span class="comment">// 忽略公式错误</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>将 <code>left</code> 和 <code>right</code> 的值改为你想要的界定符。例如：</p><ul><li><p><strong>改用 <code>\(...\)</code> 和 <code>\[...\]</code></strong>（LaTeX 标准风格）：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">delimiters</span>: [</span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;\\[&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;\\]&#x27;</span>, <span class="attr">display</span>: <span class="literal">true</span>&#125;,  <span class="comment">// 块级公式</span></span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;\\(&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;\\)&#x27;</span>, <span class="attr">display</span>: <span class="literal">false</span>&#125;   <span class="comment">// 行内公式</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p><strong>改用自定义符号</strong>（如 <code>@...@</code>）：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">delimiters</span>: [</span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;@@&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;@@&#x27;</span>, <span class="attr">display</span>: <span class="literal">true</span>&#125;,  <span class="comment">// 块级公式</span></span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;@&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;@&#x27;</span>, <span class="attr">display</span>: <span class="literal">false</span>&#125;     <span class="comment">// 行内公式</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h3 id="2-同步修改-Markdown-中的公式写法"><a href="#2-同步修改-Markdown-中的公式写法" class="headerlink" title="2. 同步修改 Markdown 中的公式写法"></a><strong>2. 同步修改 Markdown 中的公式写法</strong></h3><p>修改界定符后，需在文章的 Markdown 中使用新的定界符。例如：</p><ul><li><strong>原写法</strong>：<script type="math/tex">E = mc^2</script> 和 $$$\sum_{i=1}^n i$$$</li><li><p><strong>修改后</strong>（使用 <code>\(...\)</code> 和 <code>\[...\]</code>）：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">行内公式：<span class="keyword">\\</span>(E = mc<span class="built_in">^</span>2<span class="keyword">\\</span>)</span><br><span class="line"></span><br><span class="line">块级公式：</span><br><span class="line"><span class="keyword">\\</span>[</span><br><span class="line"><span class="keyword">\sum</span><span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>n i</span><br><span class="line"><span class="keyword">\\</span>]</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="3-处理转义问题"><a href="#3-处理转义问题" class="headerlink" title="3. 处理转义问题"></a><strong>3. 处理转义问题</strong></h3><p>如果界定符包含特殊字符（如 <code>\</code> 或 <code>@</code>），需确保 Markdown 渲染器不会转义它们：</p><h4 id="1-在-Hexo-的-config-yml-中配置"><a href="#1-在-Hexo-的-config-yml-中配置" class="headerlink" title="(1) 在 Hexo 的 _config.yml 中配置"></a>(1) 在 Hexo 的 <code>_config.yml</code> 中配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span>      <span class="comment"># 允许 HTML 标签</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span>   <span class="comment"># 关闭自动换行转换</span></span><br><span class="line">  <span class="attr">linkify:</span> <span class="literal">false</span>  <span class="comment"># 关闭自动链接识别（避免 @ 被误识别）</span></span><br></pre></td></tr></table></figure><h4 id="2-转义反斜杠（仅限-和-场景）"><a href="#2-转义反斜杠（仅限-和-场景）" class="headerlink" title="(2) 转义反斜杠（仅限 \( 和 \[ 场景）"></a>(2) 转义反斜杠（仅限 <code>\(</code> 和 <code>\[</code> 场景）</h4><p>在 Markdown 中，如果使用 <code>\(...\)</code> 或 <code>\[...\]</code>，需在公式中写双反斜杠：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\\</span>[</span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>a<span class="built_in">^</span>b f(x) dx</span><br><span class="line"><span class="keyword">\\</span>]</span><br></pre></td></tr></table></figure><hr><h3 id="4-测试修改结果"><a href="#4-测试修改结果" class="headerlink" title="4. 测试修改结果"></a><strong>4. 测试修改结果</strong></h3><ol><li><p>清理缓存并生成：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g</span><br></pre></td></tr></table></figure></li><li><p>启动本地服务器预览：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></li><li><p>检查公式是否按新界定符渲染，打开浏览器控制台（F12）：</p><ul><li>确保无 JS 报错。</li><li>检查公式是否被正确包裹（如 <code>&lt;span class=&quot;katex&quot;&gt;</code>）。</li></ul></li></ol><hr><h3 id="5-常见问题"><a href="#5-常见问题" class="headerlink" title="5. 常见问题"></a><strong>5. 常见问题</strong></h3><h4 id="问题1：修改后公式未渲染"><a href="#问题1：修改后公式未渲染" class="headerlink" title="问题1：修改后公式未渲染"></a><strong>问题1：修改后公式未渲染</strong></h4><ul><li><strong>原因</strong>：界定符修改未同步到所有位置（如文章中的公式未改用新符号）。</li><li><strong>解决</strong>：全局搜索旧界定符（如 <code>$</code>），替换为新的。</li></ul><h4 id="问题2：-被转义为"><a href="#问题2：-被转义为" class="headerlink" title="问题2：\ 被转义为 \\"></a><strong>问题2：<code>\</code> 被转义为 <code>\\</code></strong></h4><ul><li><strong>原因</strong>：Markdown 渲染器自动转义了反斜杠。</li><li><p><strong>解决</strong>：在 Hexo 配置中关闭转义：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">typographer:</span> <span class="literal">false</span>  <span class="comment"># 关闭智能符号转换</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="问题3：与代码高亮冲突"><a href="#问题3：与代码高亮冲突" class="headerlink" title="问题3：与代码高亮冲突"></a><strong>问题3：与代码高亮冲突</strong></h4><ul><li><strong>现象</strong>：<code>@</code> 或 <code>\</code> 被代码语法高亮干扰。</li><li><strong>解决</strong>：避免使用与代码语法冲突的界定符（如 <code>` </code> 或 <code>*</code>）。</li></ul><hr><h3 id="示例配置"><a href="#示例配置" class="headerlink" title="示例配置"></a><strong>示例配置</strong></h3><h4 id="目标界定符"><a href="#目标界定符" class="headerlink" title="目标界定符"></a>目标界定符</h4><ul><li>行内公式：<code>\\(...\\)</code></li><li>块级公式：<code>\\[...\\]</code></li></ul><h4 id="修改后的-footer-模板脚本"><a href="#修改后的-footer-模板脚本" class="headerlink" title="修改后的 footer 模板脚本"></a>修改后的 <code>footer</code> 模板脚本</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js&quot;</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">onload</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">    document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">      renderMathInElement(document.body, &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">        delimiters: [</span></span></span><br><span class="line"><span class="string"><span class="tag">          &#123;left: &#x27;\\[&#x27;, right: &#x27;\\]&#x27;, display: true&#125;,</span></span></span><br><span class="line"><span class="string"><span class="tag">          &#123;left: &#x27;\\(&#x27;, right: &#x27;\\)&#x27;, display: false&#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">        ],</span></span></span><br><span class="line"><span class="string"><span class="tag">        throwOnError: false</span></span></span><br><span class="line"><span class="string"><span class="tag">      &#125;);</span></span></span><br><span class="line"><span class="string"><span class="tag">    &#125;);</span></span></span><br><span class="line"><span class="string"><span class="tag">  &quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="对应的-Markdown-公式写法"><a href="#对应的-Markdown-公式写法" class="headerlink" title="对应的 Markdown 公式写法"></a>对应的 Markdown 公式写法</h4><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">行内公式：<span class="keyword">\\</span>( <span class="keyword">\sqrt</span>&#123;2&#125; <span class="keyword">\approx</span> 1.414 <span class="keyword">\\</span>)</span><br><span class="line"></span><br><span class="line">块级公式：</span><br><span class="line"><span class="keyword">\\</span>[</span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>&#123;-<span class="keyword">\infty</span>&#125;<span class="built_in">^</span><span class="keyword">\infty</span> e<span class="built_in">^</span>&#123;-x<span class="built_in">^</span>2&#125; dx = <span class="keyword">\sqrt</span>&#123;<span class="keyword">\pi</span>&#125;</span><br><span class="line"><span class="keyword">\\</span>]</span><br></pre></td></tr></table></figure><hr><p>通过以上步骤，即可自定义 KaTeX 的界定符，解决与其他语法（如 Markdown 表格、代码块）的冲突问题。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;在 Hexo 中修改 KaTeX 的界定符（定界符）&lt;br&gt;</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加KaTeX插件-问题处理</title>
    <link href="https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6-%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86.html"/>
    <id>https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6-%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86.html</id>
    <published>2025-03-07T05:49:29.000Z</published>
    <updated>2025-03-24T11:46:24.876Z</updated>
    
    <content type="html"><![CDATA[<p>如果按照 Hexo添加KaTeX插件 仍未生效，可能是某些环节配置错误或冲突导致<br><span id="more"></span></p><hr><h3 id="1-检查关键依赖安装"><a href="#1-检查关键依赖安装" class="headerlink" title="1. 检查关键依赖安装"></a><strong>1. 检查关键依赖安装</strong></h3><p>确保以下依赖已正确安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 确保渲染器和插件存在</span></span><br><span class="line">npm list hexo-renderer-markdown-it</span><br><span class="line">npm list @traptitech/markdown-it-katex</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果未安装，重新执行：</span></span><br><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it @traptitech/markdown-it-katex --save</span><br></pre></td></tr></table></figure><hr><h3 id="2-确认-Hexo-全局配置"><a href="#2-确认-Hexo-全局配置" class="headerlink" title="2. 确认 Hexo 全局配置"></a><strong>2. 确认 Hexo 全局配置</strong></h3><p>在 Hexo 根目录的 <code>_config.yml</code> 中，检查 <code>markdown-it</code> 的配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span>  <span class="comment"># 必须开启，否则公式中的 HTML 标签会被转义</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;@traptitech/markdown-it-katex&quot;</span>  <span class="comment"># 确保插件名称正确</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">&#x27;v&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="3-检查-Next-主题配置"><a href="#3-检查-Next-主题配置" class="headerlink" title="3. 检查 Next 主题配置"></a><strong>3. 检查 Next 主题配置</strong></h3><p>在 <code>themes/next/_config.yml</code> 中，确保以下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关闭 MathJax 和默认的数学公式渲染</span></span><br><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">katex:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 启用 KaTeX</span></span><br><span class="line">    <span class="attr">copy_tex:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># 如果 vendor_css 设为 true，需手动添加 CSS（不建议新手开启）</span></span><br><span class="line">    <span class="attr">vendor_css:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><hr><h3 id="4-验证资源加载路径"><a href="#4-验证资源加载路径" class="headerlink" title="4. 验证资源加载路径"></a><strong>4. 验证资源加载路径</strong></h3><h4 id="1-检查-CSS-和-JS-是否引入"><a href="#1-检查-CSS-和-JS-是否引入" class="headerlink" title="(1) 检查 CSS 和 JS 是否引入"></a>(1) 检查 CSS 和 JS 是否引入</h4><ul><li><p><strong>CSS 位置</strong>：<br>打开生成的网页，按 <code>F12</code> 进入开发者工具 → <code>Network</code> 标签 → 刷新页面，检查是否有 <code>katex.min.css</code> 的请求。若未加载，说明主题模板未正确插入 CSS。</p></li><li><p><strong>JS 位置</strong>：<br>同样检查 <code>katex.min.js</code> 和 <code>auto-render.min.js</code> 是否加载。如果未加载，检查主题模板文件的修改是否正确。</p></li></ul><h4 id="2-修复资源路径"><a href="#2-修复资源路径" class="headerlink" title="(2) 修复资源路径"></a>(2) 修复资源路径</h4><ul><li><p>如果使用的是旧版 Next 主题，模板文件路径可能是 <code>.swig</code> 或 <code>.njk</code>，确保修改了正确的文件：</p><ul><li><strong>CSS</strong>：<code>themes/next/layout/_partials/head/head.njk</code>（或 <code>.swig</code>）</li><li><strong>JS</strong>：<code>themes/next/layout/_partials/footer.njk</code>（或 <code>.swig</code>）</li></ul></li><li><p>手动指定最新版本 CDN（避免缓存问题）：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- CSS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- JS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-XjKyOOzGykjIg/xn6ACkxIRv6gm2t6/E2lbLU5ZqH7sBE4k1pL5qfhMcJcH4dZnF&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCkM5qKq6gYVvokzNvAQu3fT8KX4l&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">onload</span>=<span class="string">&quot;renderMathInElement(document.body, &#123; delimiters: [&#123;left: &#x27;$$&#x27;, right: &#x27;$$&#x27;, display: true&#125;, &#123;left: &#x27;$&#x27;, right: &#x27;$&#x27;, display: false&#125;] &#125;);&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="5-检查文章-Front-matter"><a href="#5-检查文章-Front-matter" class="headerlink" title="5. 检查文章 Front-matter"></a><strong>5. 检查文章 Front-matter</strong></h3><p>在需要渲染公式的文章头部，确保已添加 <code>katex: true</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">测试文章</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-01-01</span></span><br><span class="line"><span class="attr">katex:</span> <span class="literal">true</span>  <span class="comment"># 必须开启</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><hr><h3 id="6-处理特殊符号转义"><a href="#6-处理特殊符号转义" class="headerlink" title="6. 处理特殊符号转义"></a><strong>6. 处理特殊符号转义</strong></h3><p>如果公式中的 <code>_</code> 或 <code>*</code> 被错误转义，需调整渲染器配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo 根目录的 _config.yml</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">quotes:</span> <span class="string">&#x27;“”‘’&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="7-清理缓存并重新生成"><a href="#7-清理缓存并重新生成" class="headerlink" title="7. 清理缓存并重新生成"></a><strong>7. 清理缓存并重新生成</strong></h3><p>Hexo 的缓存可能导致修改未生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --debug</span><br></pre></td></tr></table></figure><p>生成后，检查 <code>public</code> 目录下对应文章的 HTML 文件：</p><ul><li>搜索 <code>katex.min.css</code> 和 <code>katex.min.js</code>，确认资源已插入。</li><li>检查公式是否被包裹在 <code>&lt;span class=&quot;katex&quot;&gt;...&lt;/span&gt;</code> 中。</li></ul><hr><h3 id="8-常见问题排查"><a href="#8-常见问题排查" class="headerlink" title="8. 常见问题排查"></a><strong>8. 常见问题排查</strong></h3><h4 id="1-公式被渲染为纯文本"><a href="#1-公式被渲染为纯文本" class="headerlink" title="(1) 公式被渲染为纯文本"></a>(1) 公式被渲染为纯文本</h4><ul><li><strong>原因</strong>：KaTeX 资源未加载或初始化失败。</li><li><strong>解决</strong>：按 <code>F12</code> 打开控制台，查看是否有 <code>ReferenceError</code> 或资源加载错误。如果发现 <code>renderMathInElement is not defined</code>，说明 <code>auto-render.min.js</code> 未正确加载。</li></ul><h4 id="2-公式显示错乱"><a href="#2-公式显示错乱" class="headerlink" title="(2) 公式显示错乱"></a>(2) 公式显示错乱</h4><ul><li><strong>原因</strong>：$$<code>或</code>$$$ 定界符被其他插件干扰。</li><li><p><strong>解决</strong>：在 <code>markdown-it</code> 配置中强制指定定界符：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo 的 _config.yml</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;@traptitech/markdown-it-katex&quot;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">delimiters:</span> </span><br><span class="line">          <span class="attr">left:</span> <span class="string">&#x27;$&#x27;</span><span class="string">,</span> <span class="attr">right:</span> <span class="string">&#x27;$&#x27;</span><span class="string">,</span> <span class="attr">display:</span> <span class="literal">false</span></span><br><span class="line">          <span class="attr">left:</span> <span class="string">&#x27;$$&#x27;</span><span class="string">,</span> <span class="attr">right:</span> <span class="string">&#x27;$$&#x27;</span><span class="string">,</span> <span class="attr">display:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="3-与代码高亮冲突"><a href="#3-与代码高亮冲突" class="headerlink" title="(3) 与代码高亮冲突"></a>(3) 与代码高亮冲突</h4><ul><li><strong>原因</strong>：某些代码块语法与 KaTeX 冲突。</li><li><strong>解决</strong>：在公式前后添加空行，避免与其他内容粘连。</li></ul><hr><h3 id="9-终极测试"><a href="#9-终极测试" class="headerlink" title="9. 终极测试"></a><strong>9. 终极测试</strong></h3><p>创建一个最简单的测试文章，内容如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: KaTeX 测试</span><br><span class="line">date: 2023-01-01</span><br><span class="line"><span class="section">katex: true</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">行内公式：$E = mc^2$</span><br><span class="line"></span><br><span class="line">块级公式：</span><br><span class="line">$$ \sum<span class="emphasis">_&#123;i=1&#125;^n i = \frac&#123;n(n+1)&#125;&#123;2&#125; $$</span></span><br></pre></td></tr></table></figure><p>如果仍不生效，可能是主题兼容性问题。尝试：</p><ol><li>更新 Next 主题到最新版。</li><li>换用其他 KaTeX 集成方案（如 <a href="https://github.com/next-theme/hexo-filter-mathjax">hexo-filter-mathjax</a>）。</li></ol><hr><p>按以上步骤逐一排查，可解决 99% 的 KaTeX 未生效问题。如果问题依旧，请提供以下信息：</p><ol><li>浏览器控制台截图（Network 和 Console 标签）。</li><li>测试文章的生成后的 HTML 片段。</li><li>Hexo 和 Next 主题的版本号。</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;如果按照 Hexo添加KaTeX插件 仍未生效，可能是某些环节配置错误或冲突导致&lt;br&gt;</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加KaTeX插件</title>
    <link href="https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6.html"/>
    <id>https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6.html</id>
    <published>2025-03-07T05:46:30.000Z</published>
    <updated>2025-03-24T11:46:33.780Z</updated>
    
    <content type="html"><![CDATA[<p>在 Hexo 的 Next 主题中集成 KaTeX 数学公式渲染<br><span id="more"></span></p><hr><h3 id="1-更换-Markdown-渲染器"><a href="#1-更换-Markdown-渲染器" class="headerlink" title="1. 更换 Markdown 渲染器"></a>1. <strong>更换 Markdown 渲染器</strong></h3><p>Hexo 默认的渲染器可能不支持 KaTeX，需更换为兼容的渲染器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save  <span class="comment"># 卸载默认渲染器</span></span><br><span class="line">npm i hexo-renderer-markdown-it --save  <span class="comment"># 安装 markdown-it 渲染器</span></span><br><span class="line">npm install @traptitech/markdown-it-katex --save  <span class="comment"># 安装 KaTeX 插件</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-配置-markdown-it"><a href="#2-配置-markdown-it" class="headerlink" title="2. 配置 markdown-it"></a>2. <strong>配置 <code>markdown-it</code></strong></h3><p>在 Hexo 根目录的 <code>_config.yml</code> 中添加配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;@traptitech/markdown-it-katex&quot;</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">&#x27;v&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="3-修改-Next-主题配置"><a href="#3-修改-Next-主题配置" class="headerlink" title="3. 修改 Next 主题配置"></a>3. <strong>修改 Next 主题配置</strong></h3><p>在 Next 主题的配置文件 (<code>themes/next/_config.yml</code>) 中：</p><ul><li><p><strong>关闭 MathJax</strong>（避免冲突）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p><strong>启用 KaTeX</strong>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copy_tex:</span> <span class="literal">true</span>  <span class="comment"># 允许复制公式代码</span></span><br><span class="line">  <span class="attr">vendor_css:</span> <span class="literal">false</span>  <span class="comment"># 如果手动加载 CSS 可设为 true</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="4-引入-KaTeX-资源"><a href="#4-引入-KaTeX-资源" class="headerlink" title="4. 引入 KaTeX 资源"></a>4. <strong>引入 KaTeX 资源</strong></h3><p>在主题布局文件中添加 KaTeX 的 CSS 和 JS：</p><ul><li><p>编辑 <code>themes/next/layout/_partials/head/head.swig</code>，在 <code>&lt;head&gt;</code> 内添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.katex.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css&quot;</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>编辑 <code>themes/next/layout/_partials/footer.njk</code>（或类似文件），在末尾添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.katex.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">onload</span>=<span class="string">&quot;renderMathInElement(document.body, &#123; delimiters: [&#123;left: &#x27;$$&#x27;, right: &#x27;$$&#x27;, display: true&#125;, &#123;left: &#x27;$&#x27;, right: &#x27;$&#x27;, display: false&#125;] &#125;);&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="5-文章启用-KaTeX"><a href="#5-文章启用-KaTeX" class="headerlink" title="5. 文章启用 KaTeX"></a>5. <strong>文章启用 KaTeX</strong></h3><p>在文章的 Front-matter 中添加 <code>katex: true</code>：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 测试文章</span><br><span class="line">date: 2023-01-01</span><br><span class="line"><span class="section">katex: true</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">行内公式：$E = mc^2$</span><br><span class="line"></span><br><span class="line">块级公式：</span><br><span class="line">$$ \sum<span class="emphasis">_&#123;i=1&#125;^n i = \frac&#123;n(n+1)&#125;&#123;2&#125; $$</span></span><br></pre></td></tr></table></figure><hr><h3 id="6-处理特殊符号转义"><a href="#6-处理特殊符号转义" class="headerlink" title="6. 处理特殊符号转义"></a>6. <strong>处理特殊符号转义</strong></h3><p>若公式中的 <code>_</code> 被转义，需调整渲染器配置。在 Hexo 的 <code>_config.yml</code> 中：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span>  <span class="comment"># 允许 HTML 标签</span></span><br><span class="line">  <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">quotes:</span> <span class="string">&#x27;“”‘’&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="7-测试与清理缓存"><a href="#7-测试与清理缓存" class="headerlink" title="7. 测试与清理缓存"></a>7. <strong>测试与清理缓存</strong></h3><p>生成并预览效果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --debug &amp;&amp; hexo server</span><br></pre></td></tr></table></figure><p>访问 <code>http://localhost:4000</code> 查看公式是否正确渲染。</p><hr><h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ul><li><strong>公式未渲染</strong>：检查控制台是否有资源加载错误，确认 CDN 链接有效。</li><li><strong>符号错位</strong>：确保没有多余的转义字符，使用 <code>\\</code> 代替 <code>\</code>。</li><li><strong>主题版本差异</strong>：不同 Next 版本配置项可能不同，参考官方文档调整。</li></ul><p>完成以上步骤后，即可在 Hexo 博客中使用 KaTeX 渲染数学公式。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;在 Hexo 的 Next 主题中集成 KaTeX 数学公式渲染&lt;br&gt;</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>Katex Test</title>
    <link href="https://silencejql.github.io/Katex-Test.html"/>
    <id>https://silencejql.github.io/Katex-Test.html</id>
    <published>2025-03-07T03:34:34.000Z</published>
    <updated>2025-03-07T12:09:12.108Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><p>行内公式：$(E = mc^2)$</p><p>块级公式：</p><script type="math/tex; mode=display">\sum_{i=1}^n i = \frac{n(n+1)}{2}</script><script type="math/tex; mode=display">K = \begin{bmatrix}f_x & 0 & c_x \\0 & f_y & c_y \\0 & 0 & 1\end{bmatrix}</script>]]></content>
    
    
    <summary type="html">测试Hexo Next中添加KaTeX插件效果</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
</feed>
