<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Silencejql</title>
  
  
  <link href="https://silencejql.github.io/atom.xml" rel="self"/>
  
  <link href="https://silencejql.github.io/"/>
  <updated>2025-07-21T04:58:17.584Z</updated>
  <id>https://silencejql.github.io/</id>
  
  <author>
    <name>Justin</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SICK RFID RFU630è¯»å†™æ ‡ç­¾</title>
    <link href="https://silencejql.github.io/SICK-RFID-RFU630%E8%AF%BB%E5%86%99%E6%A0%87%E7%AD%BE.html"/>
    <id>https://silencejql.github.io/SICK-RFID-RFU630%E8%AF%BB%E5%86%99%E6%A0%87%E7%AD%BE.html</id>
    <published>2025-07-21T02:56:50.000Z</published>
    <updated>2025-07-21T04:58:17.584Z</updated>
    
    <content type="html"><![CDATA[<p><code>SICK RFID RFU630</code>é€šç”µåé»˜è®¤å¯åŠ¨<code>192.168.0.1 2112</code> <code>tcp</code>æœåŠ¡, å®¢æˆ·ç«¯å¯ç›´æ¥å‘é€è¯»å†™å‘½ä»¤æ­£å¸¸ä½¿ç”¨, è‹¥éœ€é…ç½®åŠŸç‡ç­‰åˆ™è¦å®‰è£…<code>SOPAS_Engineering_Tool</code> å·¥å…·è¿›è¡Œé…ç½®<br><span id="more"></span></p><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><h3 id="å­˜å‚¨ç»“æ„"><a href="#å­˜å‚¨ç»“æ„" class="headerlink" title="å­˜å‚¨ç»“æ„"></a>å­˜å‚¨ç»“æ„</h3><p><img src="SICK-RFID-RFU630è¯»å†™æ ‡ç­¾/Memory.png" alt="Memory"></p><h3 id="è¯»å†™å‘½ä»¤"><a href="#è¯»å†™å‘½ä»¤" class="headerlink" title="è¯»å†™å‘½ä»¤"></a>è¯»å†™å‘½ä»¤</h3><p><img src="SICK-RFID-RFU630è¯»å†™æ ‡ç­¾/Read.png" alt="Read"></p><p><img src="SICK-RFID-RFU630è¯»å†™æ ‡ç­¾/Write.png" alt="Write"></p><h2 id="ç¤ºä¾‹è¯´æ˜"><a href="#ç¤ºä¾‹è¯´æ˜" class="headerlink" title="ç¤ºä¾‹è¯´æ˜"></a>ç¤ºä¾‹è¯´æ˜</h2><p>è¯»å†™<code>Bank=0b11=3</code> ç”¨æˆ·å­˜å‚¨åŒºåŸŸæ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;STX&gt;sMN TAreadTagData 0 3 0 9 32&lt;ETX&gt;</span><br><span class="line">0: ä»0ä½å¼€å§‹</span><br><span class="line">9: è¯»å–9word, 9*2=18byte, 9*2*2=36ä½å­—ç¬¦. å³9*2ä¸ªxx-&gt;18å­—èŠ‚-&gt;36ä¸ªå­—ç¬¦</span><br><span class="line"></span><br><span class="line">&lt;STX&gt;sMN TAwriteTagData 0 3 0 1 32 +4 0000&lt;ETX&gt;</span><br><span class="line">1:1word-&gt;2ä¸ªå­—èŠ‚xx xx-&gt;-&gt;4ä½å­—ç¬¦-&gt;+4</span><br><span class="line">&lt;STX&gt;sMN TAwriteTagData 0 3 0 2 32 +8 0000&lt;ETX&gt;</span><br><span class="line">2:2word-&gt;4å­—èŠ‚xx xx xx xx-&gt;8ä½-&gt;+8</span><br><span class="line"></span><br><span class="line">å†™å…¥01234567891234567</span><br><span class="line">&lt;STX&gt;sMN TAwriteTagData 0 3 0 9 32 +36 303132333435363738393132333435363700&lt;ETX&gt;</span><br><span class="line">0: ä»0ä½å¼€å§‹å†™å…¥</span><br><span class="line">9: å†™å…¥9word-&gt;18byte-&gt;36ä½å­—ç¬¦</span><br></pre></td></tr></table></figure><h2 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">RFID_SICK_RFU630</span> : <span class="title">xStringEx</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> xString Connected = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> xString Enable = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> xString SendString = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> xString RecvString = <span class="keyword">new</span> xString();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TcpClient tcpClient = <span class="keyword">new</span> TcpClient();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> EnableLog = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> LogFile = <span class="string">&quot;RFID_SICK_RFU630&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> remoteIP = <span class="built_in">string</span>.Empty;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> remotePort = <span class="number">2112</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> recvTimeout = <span class="number">500</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RFID_SICK_RFU630</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Connected = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;Connected&quot;</span>);</span><br><span class="line">        Enable = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;Enable&quot;</span>);</span><br><span class="line">        SendString = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;SendString&quot;</span>);</span><br><span class="line">        RecvString = TCreate(<span class="keyword">new</span> xString(), <span class="string">&quot;RecvString&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> xState <span class="title">Init</span>(<span class="params"><span class="built_in">string</span> sPara</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; PortCif = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                &#123; <span class="string">&quot;IPAddr&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;PortNo&quot;</span>, <span class="number">2112</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;RecvTimeout&quot;</span>, <span class="number">1000</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;EnableLog&quot;</span>, <span class="literal">true</span> &#125;,</span><br><span class="line">                &#123; <span class="string">&quot;LogFileName&quot;</span>, LogFile &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            XmlFO.Configs.Get(<span class="string">&quot;TCPClient&quot;</span>, sPara, PortCif);</span><br><span class="line"></span><br><span class="line">            remoteIP = Convert.ToString(PortCif[<span class="string">&quot;IPAddr&quot;</span>]);</span><br><span class="line">            remotePort = Convert.ToInt32(PortCif[<span class="string">&quot;PortNo&quot;</span>]);</span><br><span class="line">            recvTimeout = Convert.ToInt32(PortCif[<span class="string">&quot;RecvTimeout&quot;</span>]);</span><br><span class="line">            EnableLog = Convert.ToBoolean(PortCif[<span class="string">&quot;EnableLog&quot;</span>]);</span><br><span class="line">            LogFile = Convert.ToString(PortCif[<span class="string">&quot;LogFileName&quot;</span>]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> xState.xTrue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            xErrorOutException(e);</span><br><span class="line">            <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> xState <span class="title">RFIDRecv</span>(<span class="params"><span class="built_in">string</span> sPara</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsOnline())</span><br><span class="line">                Connect();</span><br><span class="line">            <span class="built_in">string</span> sendData = <span class="string">&quot;\u0002&quot;</span> + XmlFO.StringAnalysis(sPara) + <span class="string">&quot;\u0003&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> tcpRecvString = TCPSendRecv(sendData);</span><br><span class="line">            <span class="keyword">if</span> (tcpRecvString.Length &lt; <span class="number">40</span>)</span><br><span class="line">                <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">            tcpRecvString = tcpRecvString.Substring(<span class="number">24</span>, <span class="number">40</span>).Trim();</span><br><span class="line"></span><br><span class="line">            <span class="built_in">int</span> length = tcpRecvString.Length;</span><br><span class="line">            <span class="built_in">byte</span>[] bytes = <span class="keyword">new</span> <span class="built_in">byte</span>[length / <span class="number">2</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i += <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                bytes[i / <span class="number">2</span>] = Convert.ToByte(tcpRecvString.Substring(i, <span class="number">2</span>), <span class="number">16</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            tcpRecvString = Encoding.ASCII.GetString(bytes).Trim(<span class="string">&#x27;\0&#x27;</span>).Trim();</span><br><span class="line">            RecvString.xValue = tcpRecvString;</span><br><span class="line">            Logout(<span class="string">&quot;Recv -&gt; VIN: &quot;</span> + tcpRecvString);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> xState.xTrue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            Logout(ex.ToString());</span><br><span class="line">            <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> xState <span class="title">RFIDWriteVIN</span>(<span class="params"><span class="built_in">string</span> sPara</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsOnline())</span><br><span class="line">                Connect();</span><br><span class="line">            <span class="built_in">string</span> vin = XmlFO.StringAnalysis(sPara.Trim());</span><br><span class="line">            Logout(<span class="string">&quot;å†™å…¥VIN: &quot;</span> + vin);</span><br><span class="line">            <span class="built_in">string</span> vinHexString = <span class="built_in">string</span>.Empty;</span><br><span class="line">            Encoding.ASCII.GetBytes(vin).ToList().ForEach(b =&gt; vinHexString += b.ToString(<span class="string">&quot;X2&quot;</span>));</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> sendString = <span class="string">&quot;\u0002&quot;</span> + <span class="string">&quot;sMN TAwriteTagData 0 3 0 9 32 +36 &quot;</span> + vinHexString.PadRight(<span class="number">36</span>, <span class="string">&#x27;0&#x27;</span>) + <span class="string">&quot;\u0003&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> tcpRecvString = TCPSendRecv(sendString);</span><br><span class="line">            RecvString.xValue = tcpRecvString;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> xState.xTrue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            Logout(ex.ToString());</span><br><span class="line">            <span class="keyword">return</span> xState.xFalse;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">TCPSendRecv</span>(<span class="params"><span class="built_in">string</span> sendData</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Logout(<span class="string">&quot;Send -&gt; &quot;</span> + sendData);</span><br><span class="line">        tcpClient.Client.Send(Encoding.ASCII.GetBytes(sendData));</span><br><span class="line"></span><br><span class="line">        <span class="built_in">byte</span>[] tcpRecvByts = <span class="keyword">new</span> <span class="built_in">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="built_in">int</span> recvLength = tcpClient.Client.Receive(tcpRecvByts);</span><br><span class="line">        <span class="keyword">if</span> (recvLength &lt; <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="built_in">byte</span>[] tmpRecvData = <span class="keyword">new</span> <span class="built_in">byte</span>[recvLength];</span><br><span class="line">        Array.Copy(tcpRecvByts, tmpRecvData, recvLength);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> tcpRecvString = Encoding.ASCII.GetString(tmpRecvData).Trim(<span class="string">&#x27;\0&#x27;</span>).Trim();</span><br><span class="line">        Logout(<span class="string">&quot;Recv -&gt; &quot;</span> + tcpRecvString);</span><br><span class="line">        <span class="keyword">return</span> tcpRecvString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Connect</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (tcpClient == <span class="literal">null</span>)</span><br><span class="line">            tcpClient = <span class="keyword">new</span> TcpClient();</span><br><span class="line">        <span class="keyword">if</span> (tcpClient.Connected)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        tcpClient.Close();</span><br><span class="line">        tcpClient = <span class="keyword">new</span> TcpClient();</span><br><span class="line">        tcpClient.Connect(IPAddress.Parse(remoteIP), remotePort);</span><br><span class="line">        tcpClient.Client.ReceiveTimeout = recvTimeout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsOnline</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (tcpClient == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">bool</span> onLine = !((tcpClient.Client.Poll(<span class="number">100</span>, SelectMode.SelectRead) &amp;&amp; (tcpClient.Client.Available == <span class="number">0</span>)) || !tcpClient.Client.Connected);</span><br><span class="line">        <span class="keyword">if</span> (!onLine)</span><br><span class="line">            tcpClient = <span class="literal">null</span>;</span><br><span class="line">        Connected.xValue = onLine.ToString();</span><br><span class="line">        <span class="keyword">return</span> onLine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Logout</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(EnableLog)</span><br><span class="line">            OnlyOneStartUp.Log(LogFile, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;code&gt;SICK RFID RFU630&lt;/code&gt;é€šç”µåé»˜è®¤å¯åŠ¨&lt;code&gt;192.168.0.1 2112&lt;/code&gt; &lt;code&gt;tcp&lt;/code&gt;æœåŠ¡, å®¢æˆ·ç«¯å¯ç›´æ¥å‘é€è¯»å†™å‘½ä»¤æ­£å¸¸ä½¿ç”¨, è‹¥éœ€é…ç½®åŠŸç‡ç­‰åˆ™è¦å®‰è£…&lt;code&gt;SOPAS_Engineering_Tool&lt;/code&gt; å·¥å…·è¿›è¡Œé…ç½®&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    <category term="BBK" scheme="https://silencejql.github.io/categories/CSharp/BBK/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
    <category term="RFID" scheme="https://silencejql.github.io/tags/RFID/"/>
    
  </entry>
  
  <entry>
    <title>CSharpè°ƒç”¨C++ dll</title>
    <link href="https://silencejql.github.io/CSharp%E8%B0%83%E7%94%A8C-dll.html"/>
    <id>https://silencejql.github.io/CSharp%E8%B0%83%E7%94%A8C-dll.html</id>
    <published>2025-07-02T02:20:46.000Z</published>
    <updated>2025-07-02T02:24:33.475Z</updated>
    
    <content type="html"><![CDATA[<p>C#ä¸­åŠ¨æ€åŠ è½½C++ DLLæ–‡ä»¶<br><span id="more"></span></p><p>åœ¨C#ä¸­åŠ¨æ€åŠ è½½C++ DLLï¼ˆåŠ¨æ€é“¾æ¥åº“ï¼‰å¯ä»¥é€šè¿‡å‡ ç§æ–¹å¼å®ç°ã€‚ä¸‹é¢æˆ‘å°†ä»‹ç»æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><h2 id="1-ä½¿ç”¨DllImportç‰¹æ€§ï¼ˆé™æ€åŠ è½½ï¼‰"><a href="#1-ä½¿ç”¨DllImportç‰¹æ€§ï¼ˆé™æ€åŠ è½½ï¼‰" class="headerlink" title="1. ä½¿ç”¨DllImportç‰¹æ€§ï¼ˆé™æ€åŠ è½½ï¼‰"></a>1. ä½¿ç”¨DllImportç‰¹æ€§ï¼ˆé™æ€åŠ è½½ï¼‰</h2><p>è¿™æ˜¯æœ€å¸¸è§çš„æ–¹å¼ï¼Œè™½ç„¶ä¸æ˜¯å®Œå…¨åŠ¨æ€çš„ï¼Œä½†å€¼å¾—äº†è§£ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å£°æ˜DLLä¸­çš„å‡½æ•°</span></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;YourCppDll.dll&quot;</span>, CallingConvention = CallingConvention.Cdecl)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">int</span> <span class="title">YourCppFunction</span>(<span class="params"><span class="built_in">int</span> param1, <span class="built_in">string</span> param2</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è°ƒç”¨DLLä¸­çš„å‡½æ•°</span></span><br><span class="line">        <span class="built_in">int</span> result = YourCppFunction(<span class="number">123</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Result: <span class="subst">&#123;result&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-ä½¿ç”¨LoadLibraryå’ŒGetProcAddressï¼ˆçœŸæ­£åŠ¨æ€åŠ è½½ï¼‰"><a href="#2-ä½¿ç”¨LoadLibraryå’ŒGetProcAddressï¼ˆçœŸæ­£åŠ¨æ€åŠ è½½ï¼‰" class="headerlink" title="2. ä½¿ç”¨LoadLibraryå’ŒGetProcAddressï¼ˆçœŸæ­£åŠ¨æ€åŠ è½½ï¼‰"></a>2. ä½¿ç”¨LoadLibraryå’ŒGetProcAddressï¼ˆçœŸæ­£åŠ¨æ€åŠ è½½ï¼‰</h2><p>å¦‚æœä½ æƒ³åœ¨è¿è¡Œæ—¶å†³å®šåŠ è½½å“ªä¸ªDLLï¼Œå¯ä»¥ä½¿ç”¨Windows APIï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¯¼å…¥Windows APIå‡½æ•°</span></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;kernel32.dll&quot;</span>, SetLastError = true)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <span class="title">LoadLibrary</span>(<span class="params"><span class="built_in">string</span> dllToLoad</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;kernel32.dll&quot;</span>, SetLastError = true)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> IntPtr <span class="title">GetProcAddress</span>(<span class="params">IntPtr hModule, <span class="built_in">string</span> procedureName</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="string">&quot;kernel32.dll&quot;</span>, SetLastError = true)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">bool</span> <span class="title">FreeLibrary</span>(<span class="params">IntPtr hModule</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰å§”æ‰˜ç±»å‹åŒ¹é…C++å‡½æ•°ç­¾å</span></span><br><span class="line">    [<span class="meta">UnmanagedFunctionPointer(CallingConvention.Cdecl)</span>]</span><br><span class="line">    <span class="function"><span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">YourCppFunctionDelegate</span>(<span class="params"><span class="built_in">int</span> param1, <span class="built_in">string</span> param2</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        IntPtr pDll = LoadLibrary(<span class="string">@&quot;YourCppDll.dll&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (pDll == IntPtr.Zero)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Failed to load DLL&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        IntPtr pAddressOfFunctionToCall = GetProcAddress(pDll, <span class="string">&quot;YourCppFunction&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (pAddressOfFunctionToCall == IntPtr.Zero)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Failed to find function&quot;</span>);</span><br><span class="line">            FreeLibrary(pDll);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å‡½æ•°æŒ‡é’ˆè½¬æ¢ä¸ºå§”æ‰˜</span></span><br><span class="line">        YourCppFunctionDelegate yourFunction = Marshal.GetDelegateForFunctionPointer&lt;YourCppFunctionDelegate&gt;(pAddressOfFunctionToCall);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br><span class="line">        <span class="built_in">int</span> result = yourFunction(<span class="number">123</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Result: <span class="subst">&#123;result&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é‡Šæ”¾DLL</span></span><br><span class="line">        FreeLibrary(pDll);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-ä½¿ç”¨COM-Interopï¼ˆå¦‚æœDLLæ˜¯COMç»„ä»¶ï¼‰"><a href="#3-ä½¿ç”¨COM-Interopï¼ˆå¦‚æœDLLæ˜¯COMç»„ä»¶ï¼‰" class="headerlink" title="3. ä½¿ç”¨COM Interopï¼ˆå¦‚æœDLLæ˜¯COMç»„ä»¶ï¼‰"></a>3. ä½¿ç”¨COM Interopï¼ˆå¦‚æœDLLæ˜¯COMç»„ä»¶ï¼‰</h2><p>å¦‚æœC++ DLLæ˜¯COMç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨COMäº’æ“ä½œï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Type comType = Type.GetTypeFromProgID(<span class="string">&quot;YourCOMComponent.YourClass&quot;</span>);</span><br><span class="line"><span class="built_in">dynamic</span> comObject = Activator.CreateInstance(comType);</span><br><span class="line">comObject.YourMethod(<span class="number">123</span>, <span class="string">&quot;test&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li><p><strong>è°ƒç”¨çº¦å®š</strong>ï¼šç¡®ä¿C#ç«¯å’ŒC++ç«¯çš„è°ƒç”¨çº¦å®šä¸€è‡´ï¼ˆé€šå¸¸C++ä½¿ç”¨<code>__cdecl</code>æˆ–<code>__stdcall</code>ï¼‰ã€‚</p></li><li><p><strong>æ•°æ®ç±»å‹æ˜ å°„</strong>ï¼šæ³¨æ„C++å’ŒC#ä¹‹é—´çš„æ•°æ®ç±»å‹è½¬æ¢ï¼Œç‰¹åˆ«æ˜¯å­—ç¬¦ä¸²å’ŒæŒ‡é’ˆç±»å‹ã€‚</p></li><li><p><strong>32/64ä½å…¼å®¹æ€§</strong>ï¼šç¡®ä¿DLLå’Œåº”ç”¨ç¨‹åºçš„å¹³å°æ¶æ„ä¸€è‡´ï¼ˆåŒä¸ºx86æˆ–x64ï¼‰ã€‚</p></li><li><p><strong>DLLä½ç½®</strong>ï¼šDLLæ–‡ä»¶éœ€è¦æ”¾åœ¨åº”ç”¨ç¨‹åºå¯æ‰¾åˆ°çš„è·¯å¾„ï¼ˆå¦‚exeæ‰€åœ¨ç›®å½•æˆ–ç³»ç»ŸPATHä¸­ï¼‰ã€‚</p></li><li><p><strong>å†…å­˜ç®¡ç†</strong>ï¼šå¦‚æœDLLåˆ†é…å†…å­˜ï¼Œç¡®ä¿æœ‰ç›¸åº”çš„é‡Šæ”¾æœºåˆ¶ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p></li><li><p><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šC++å¼‚å¸¸ä¸èƒ½ç›´æ¥ä¼ é€’åˆ°C#ï¼Œéœ€è¦åœ¨C++ç«¯æ•è·å¹¶è½¬æ¢ä¸ºé”™è¯¯ç ã€‚</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;C#ä¸­åŠ¨æ€åŠ è½½C++ DLLæ–‡ä»¶&lt;br&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    <category term="C++" scheme="https://silencejql.github.io/categories/CSharp/C/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="C" scheme="https://silencejql.github.io/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>AlgorithmLearning-æ±‰è¯ºå¡”(åˆ†æ²»é€’å½’)</title>
    <link href="https://silencejql.github.io/AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html"/>
    <id>https://silencejql.github.io/AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html</id>
    <published>2025-06-19T05:10:17.000Z</published>
    <updated>2025-07-21T05:25:36.039Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ©ç”¨åˆ†æ²»å¤„ç†æ±‰è¯ºå¡”é—®é¢˜</p><span id="more"></span><h2 id="é—®é¢˜">é—®é¢˜</h2><p>ç»™å®šä¸‰æ ¹æŸ±å­ï¼Œè®°ä¸º Aã€B å’Œ C ã€‚èµ·å§‹çŠ¶æ€ä¸‹ï¼ŒæŸ±å­A ä¸Šå¥—ç€ ğ‘› ä¸ªåœ†ç›˜ï¼Œå®ƒä»¬ä»ä¸Šåˆ°ä¸‹æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ã€‚æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯è¦æŠŠè¿™ ğ‘› ä¸ªåœ†ç›˜ç§»åˆ°æŸ±å­C ä¸Šï¼Œå¹¶ä¿æŒå®ƒä»¬çš„åŸæœ‰é¡ºåºä¸å˜</p><ol><li>åœ†ç›˜åªèƒ½ä»ä¸€æ ¹æŸ±å­é¡¶éƒ¨æ‹¿å‡ºï¼Œä»å¦ä¸€æ ¹æŸ±å­é¡¶éƒ¨æ”¾å…¥ã€‚</li><li>æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜ã€‚</li><li>å°åœ†ç›˜å¿…é¡»æ—¶åˆ»ä½äºå¤§åœ†ç›˜ä¹‹ä¸Šã€‚<br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133250.png" alt="AC"></li></ol><h3 id="é—®é¢˜åˆ†æ">é—®é¢˜åˆ†æ</h3><h4 id="å¯¹äºé—®é¢˜-ğ‘“-1">å¯¹äºé—®é¢˜ ğ‘“(1)</h4><p>å³å½“åªæœ‰ä¸€ä¸ªåœ†ç›˜æ—¶ï¼Œæˆ‘ä»¬å°†å®ƒç›´æ¥ä» A ç§»åŠ¨è‡³ C å³å¯<br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133711.png" alt="AC"></p><h4 id="å¯¹äºé—®é¢˜-ğ‘“-2">å¯¹äºé—®é¢˜ ğ‘“(2)</h4><p>å³å½“æœ‰ä¸¤ä¸ªåœ†ç›˜æ—¶ï¼Œ ç”±äºè¦æ—¶åˆ»æ»¡è¶³å°åœ†ç›˜åœ¨å¤§åœ†ç›˜ä¹‹ä¸Šï¼Œå› æ­¤éœ€è¦å€ŸåŠ©<br>B æ¥å®Œæˆç§»åŠ¨ã€‚</p><ol><li>å…ˆå°†ä¸Šé¢çš„å°åœ†ç›˜ä» A ç§»è‡³ B ã€‚</li><li>å†å°†å¤§åœ†ç›˜ä» A ç§»è‡³ C ã€‚</li><li>æœ€åå°†å°åœ†ç›˜ä» B ç§»è‡³ C ã€‚<br>è§£å†³é—®é¢˜ ğ‘“(2) çš„è¿‡ç¨‹å¯æ€»ç»“ä¸ºï¼š å°†ä¸¤ä¸ªåœ†ç›˜å€ŸåŠ© B ä» A ç§»è‡³ C ã€‚å…¶ä¸­ï¼ŒC ç§°ä¸ºç›®æ ‡æŸ±ã€B ç§°ä¸ºç¼“å†²æŸ±ã€‚<br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133805.png" alt="AC1"><br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133825.png" alt="AC2"><br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133831.png" alt="AC3"><br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133835.png" alt="AC4"></li></ol><h4 id="å¯¹äºé—®é¢˜-ğ‘“-3">å¯¹äºé—®é¢˜ ğ‘“(3)</h4><p>å³å½“æœ‰ä¸‰ä¸ªåœ†ç›˜æ—¶ï¼Œæƒ…å†µå˜å¾—ç¨å¾®å¤æ‚äº†ä¸€äº›ã€‚<br>å› ä¸ºå·²çŸ¥ ğ‘“(1) å’Œ ğ‘“(2) çš„è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»åˆ†æ²»è§’åº¦æ€è€ƒï¼Œ å°† A é¡¶éƒ¨çš„ä¸¤ä¸ªåœ†ç›˜çœ‹ä½œä¸€ä¸ªæ•´ä½“, è¿™æ ·ä¸‰ä¸ªåœ†ç›˜å°±è¢«é¡ºåˆ©åœ°ä» A ç§»è‡³ C äº†ã€‚</p><ol><li>ä»¤ B ä¸ºç›®æ ‡æŸ±ã€ C ä¸ºç¼“å†²æŸ±ï¼Œå°†ä¸¤ä¸ªåœ†ç›˜ä» A ç§»è‡³ B ã€‚</li><li>å°† A ä¸­å‰©ä½™çš„ä¸€ä¸ªåœ†ç›˜ä» A ç›´æ¥ç§»åŠ¨è‡³ C ã€‚</li><li>ä»¤ C ä¸ºç›®æ ‡æŸ±ã€ A ä¸ºç¼“å†²æŸ±ï¼Œå°†ä¸¤ä¸ªåœ†ç›˜ä» B ç§»è‡³ C ã€‚<br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133859.png" alt="AC"><br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133903.png" alt="AC"><br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133907.png" alt="AC"><br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133919.png" alt="AC"></li></ol><p>ä»æœ¬è´¨ä¸Šçœ‹ï¼Œ æˆ‘ä»¬å°†é—®é¢˜ ğ‘“(3) åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é—®é¢˜ ğ‘“(2) å’Œä¸€ä¸ªå­é—®é¢˜ ğ‘“(1) ã€‚æŒ‰é¡ºåºè§£å†³è¿™ä¸‰ä¸ªå­é—®é¢˜ä¹‹åï¼Œ<br>åŸé—®é¢˜éšä¹‹å¾—åˆ°è§£å†³ã€‚è¿™è¯´æ˜å­é—®é¢˜æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œä¸”è§£å¯ä»¥åˆå¹¶ã€‚<br>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯æ€»ç»“å‡ºä¸‹å›¾æ‰€ç¤ºçš„è§£å†³æ±‰è¯ºå¡”é—®é¢˜çš„åˆ†æ²»ç­–ç•¥ï¼šå°†åŸé—®é¢˜ ğ‘“(ğ‘›) åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é—®é¢˜ ğ‘“(ğ‘›-1)<br>å’Œä¸€ä¸ªå­é—®é¢˜ ğ‘“(1) ï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹é¡ºåºè§£å†³è¿™ä¸‰ä¸ªå­é—®é¢˜ã€‚</p><ol><li>å°† ğ‘› - 1 ä¸ªåœ†ç›˜å€ŸåŠ© C ä» A ç§»è‡³ B ã€‚</li><li>å°†å‰©ä½™ 1 ä¸ªåœ†ç›˜ä» A ç›´æ¥ç§»è‡³ C ã€‚</li><li>å°† ğ‘› - 1 ä¸ªåœ†ç›˜å€ŸåŠ© A ä» B ç§»è‡³ C ã€‚<br>å¯¹äºè¿™ä¸¤ä¸ªå­é—®é¢˜ ğ‘“(ğ‘› - 1) ï¼Œ å¯ä»¥é€šè¿‡ç›¸åŒçš„æ–¹å¼è¿›è¡Œé€’å½’åˆ’åˆ†ï¼Œç›´è‡³è¾¾åˆ°æœ€å°å­é—®é¢˜ ğ‘“(1) ã€‚è€Œ ğ‘“(1) çš„<br>è§£æ˜¯å·²çŸ¥çš„ï¼Œåªéœ€ä¸€æ¬¡ç§»åŠ¨æ“ä½œå³å¯ã€‚<br><img src="AlgorithmLearning-%E6%B1%89%E8%AF%BA%E5%A1%94-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92/20250619133615.png" alt="AC"></li></ol><h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜ */</span>  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Move</span>(<span class="params">List&lt;<span class="built_in">int</span>&gt; src, List&lt;<span class="built_in">int</span>&gt; target</span>)</span> </span><br><span class="line">&#123;  </span><br><span class="line"> <span class="comment">// ä» src é¡¶éƒ¨æ‹¿å‡ºä¸€ä¸ªåœ†ç›˜  </span></span><br><span class="line"> <span class="built_in">int</span> pan = src[^<span class="number">1</span>];  </span><br><span class="line"> src.RemoveAt(src.Count - <span class="number">1</span>);  </span><br><span class="line"> <span class="comment">// å°†åœ†ç›˜æ”¾å…¥ target é¡¶éƒ¨  </span></span><br><span class="line"> target.Add(pan);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ±‚è§£æ±‰è¯ºå¡”é—®é¢˜ f(i) */</span>  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span>(<span class="params"><span class="built_in">int</span> i, List&lt;<span class="built_in">int</span>&gt; src, List&lt;<span class="built_in">int</span>&gt; buffer, List&lt;<span class="built_in">int</span>&gt; target</span>)</span> &#123;  </span><br><span class="line"> <span class="comment">// è‹¥ src åªå‰©ä¸‹ä¸€ä¸ªåœ†ç›˜ï¼Œåˆ™ç›´æ¥å°†å…¶ç§»åˆ° target  </span></span><br><span class="line"> <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;  </span><br><span class="line">  Move(src, target);  </span><br><span class="line">  <span class="keyword">return</span>;  </span><br><span class="line"> &#125;  </span><br><span class="line"> <span class="comment">// å­é—®é¢˜ f(i-1) ï¼šå°† src é¡¶éƒ¨ i-1 ä¸ªåœ†ç›˜å€ŸåŠ© target ç§»åˆ° buffer  </span></span><br><span class="line"> DFS(i - <span class="number">1</span>, src, target, buffer);  </span><br><span class="line"> <span class="comment">// å­é—®é¢˜ f(1) ï¼šå°† src å‰©ä½™ä¸€ä¸ªåœ†ç›˜ç§»åˆ° target  </span></span><br><span class="line"> Move(src, target);  </span><br><span class="line"> <span class="comment">// å­é—®é¢˜ f(i-1) ï¼šå°† buffer é¡¶éƒ¨ i-1 ä¸ªåœ†ç›˜å€ŸåŠ© src ç§»åˆ° target</span></span><br><span class="line"> DFS(i - <span class="number">1</span>, buffer, src, target);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ±‚è§£æ±‰è¯ºå¡”é—®é¢˜ */</span>  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SolveHanota</span>(<span class="params">List&lt;<span class="built_in">int</span>&gt; A, List&lt;<span class="built_in">int</span>&gt; B, List&lt;<span class="built_in">int</span>&gt; C</span>)</span> &#123;  </span><br><span class="line"> <span class="built_in">int</span> n = A.Count;  </span><br><span class="line"> <span class="comment">// å°† A é¡¶éƒ¨ n ä¸ªåœ†ç›˜å€ŸåŠ© B ç§»åˆ° C  </span></span><br><span class="line"> DFS(n, A, B, C);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åˆ©ç”¨åˆ†æ²»å¤„ç†æ±‰è¯ºå¡”é—®é¢˜&lt;/p&gt;</summary>
    
    
    
    <category term="ç®—æ³•" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="ç®—æ³•" scheme="https://silencejql.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>AlgorithmLearning-äºŒåˆ†æŸ¥æ‰¾(åˆ†æ²»é€’å½’)</title>
    <link href="https://silencejql.github.io/AlgorithmLearning-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html"/>
    <id>https://silencejql.github.io/AlgorithmLearning-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92.html</id>
    <published>2025-06-19T04:50:21.000Z</published>
    <updated>2025-07-21T05:23:58.845Z</updated>
    
    <content type="html"><![CDATA[<p>åŸºäºåˆ†æ²»çš„äºŒåˆ†æŸ¥æ‰¾</p><span id="more"></span><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] sortedArray2 = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">46</span>, <span class="number">57</span>, <span class="number">68</span>, <span class="number">79</span> &#125;;  </span><br><span class="line">FindIndex(sortedArray2, <span class="number">25</span>, <span class="number">0</span>, <span class="number">9</span>);  </span><br><span class="line"><span class="comment">//æŸ¥æ‰¾targetÂ =Â 6çš„index  </span></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">FindIndex</span>(<span class="params"><span class="built_in">int</span>[] sortedArray, <span class="built_in">int</span> target, <span class="built_in">int</span> start, <span class="built_in">int</span> end</span>)</span>  </span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">if</span>(start &gt; end)</span><br><span class="line">  <span class="keyword">return</span>Â <span class="number">-1</span>;</span><br><span class="line"> <span class="built_in">int</span>Â midÂ =Â (startÂ +Â end) / <span class="number">2</span>;  </span><br><span class="line">Â Â Â Â mid.Dump();</span><br><span class="line">Â Â Â Â <span class="keyword">if</span>(sortedArray[mid]Â ==Â target)</span><br><span class="line"> Â Â Â Â <span class="keyword">return</span>Â mid;Â Â Â Â </span><br><span class="line"> <span class="keyword">if</span>(sortedArray[mid]Â &lt;Â target)  </span><br><span class="line">Â Â Â Â &#123;Â Â Â Â Â Â Â Â </span><br><span class="line"> Â Â Â Â <span class="comment">//é€’å½’å­é—®é¢˜f(m + 1, end)</span></span><br><span class="line"> Â Â Â Â <span class="keyword">return</span>Â FindIndex(sortedArray,Â target,Â midÂ +Â <span class="number">1</span>,Â end);  </span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">else</span></span><br><span class="line">Â Â Â Â &#123;</span><br><span class="line"> Â Â Â Â <span class="comment">//é€’å½’å­é—®é¢˜f(start, m - 1)Â </span></span><br><span class="line"> Â Â Â Â <span class="keyword">return</span>Â FindIndex(sortedArray,Â target,Â start,Â midÂ -Â <span class="number">1</span>);  </span><br><span class="line">Â Â Â Â &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åŸºäºåˆ†æ²»çš„äºŒåˆ†æŸ¥æ‰¾&lt;/p&gt;</summary>
    
    
    
    <category term="ç®—æ³•" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/%E7%AE%97%E6%B3%95/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="ç®—æ³•" scheme="https://silencejql.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>CSharpè¡¥è¯¾ç¬”è®°TypeConverter</title>
    <link href="https://silencejql.github.io/CSharp%E8%A1%A5%E8%AF%BE%E7%AC%94%E8%AE%B0TypeConverter.html"/>
    <id>https://silencejql.github.io/CSharp%E8%A1%A5%E8%AF%BE%E7%AC%94%E8%AE%B0TypeConverter.html</id>
    <published>2025-05-03T08:13:14.000Z</published>
    <updated>2025-05-03T08:23:29.681Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°ä¸åŒç±»å‹ä¹‹é—´çš„è½¬æ¢, å¦‚åŠ¨æ€çš„å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡å®ä¾‹</p><span id="more"></span><h2 id="ç¤ºä¾‹">ç¤ºä¾‹</h2><h3 id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestTypeConvert</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    TypeConverter tc = TypeDescriptor.GetConverter(<span class="keyword">typeof</span>(ColorRGB));</span><br><span class="line"></span><br><span class="line">    ColorRGB colorRGB1 = (ColorRGB)tc.ConvertFromString(<span class="string">&quot;#FF8800&quot;</span>);</span><br><span class="line">    ColorRGB colorRGB2 = (ColorRGB)tc.ConvertFromString(<span class="string">&quot;255, 136, 0&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> colorString1 = tc.ConvertToString(colorRGB1);</span><br><span class="line">    <span class="built_in">string</span> colorString2 = tc.ConvertToString(colorRGB2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰ç±»å‹">è‡ªå®šä¹‰ç±»å‹</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†è½¬æ¢å™¨ä¸ç›®æ ‡ç±»å‹å…³è”</span></span><br><span class="line">[<span class="meta">TypeConverter(typeof(ColorRGBConverter))</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ColorRGB</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">byte</span> R; <span class="keyword">public</span> <span class="built_in">byte</span> G; <span class="keyword">public</span> <span class="built_in">byte</span> B;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColorRGB</span>(<span class="params"><span class="built_in">byte</span> r, <span class="built_in">byte</span> g, <span class="built_in">byte</span> b</span>)</span></span><br><span class="line">    &#123; R = r; G = g; B = b; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">&quot;#&#123;0:X2&#125;&#123;1:X2&#125;&#123;2:X2&#125;&quot;</span>, R, G, B);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰ç±»å‹è½¬æ¢å™¨">å®šä¹‰ç±»å‹è½¬æ¢å™¨</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">ColorRGBConverter</span> : <span class="title">TypeConverter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰å¯ä»¥ä»å“ªäº›ç±»å‹è½¬æ¢</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">CanConvertFrom</span>(<span class="params">ITypeDescriptorContext context, Type sourceType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> sourceType == <span class="keyword">typeof</span>(<span class="built_in">string</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">CanConvertTo</span>(<span class="params">ITypeDescriptorContext context, Type destinationType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.CanConvertTo(context, destinationType);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®ç°å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ConvertFrom</span>(<span class="params">ITypeDescriptorContext context, CultureInfo culture, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">value</span> <span class="keyword">is</span> <span class="built_in">string</span> strValue)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(strValue.StartsWith(<span class="string">&quot;#&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (strValue.Length == <span class="number">7</span>)</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">new</span> ColorRGB(<span class="built_in">byte</span>.Parse(strValue.Substring(<span class="number">1</span>,<span class="number">2</span>), NumberStyles.HexNumber),</span><br><span class="line">                                            <span class="built_in">byte</span>.Parse(strValue.Substring(<span class="number">3</span>,<span class="number">2</span>), NumberStyles.HexNumber),</span><br><span class="line">                                            <span class="built_in">byte</span>.Parse(strValue.Substring(<span class="number">5</span>,<span class="number">2</span>), NumberStyles.HexNumber));                        </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">string</span>[] parts = strValue.Split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> ColorRGB(<span class="built_in">byte</span>.Parse(parts[<span class="number">0</span>].Trim()),</span><br><span class="line">                                        <span class="built_in">byte</span>.Parse(parts[<span class="number">1</span>].Trim()),</span><br><span class="line">                                        <span class="built_in">byte</span>.Parse(parts[<span class="number">2</span>].Trim()));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> FormatException(<span class="string">&quot;æ ¼å¼ä¸æ­£ç¡®&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.ConvertFrom(context, culture, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ConvertTo</span>(<span class="params">ITypeDescriptorContext context, CultureInfo culture, <span class="built_in">object</span> <span class="keyword">value</span>, Type destinationType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">value</span> <span class="keyword">is</span> ColorRGB &amp;&amp; destinationType == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">value</span>.ToString();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.ConvertTo(context, culture, <span class="keyword">value</span>, destinationType);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•">æ‰©å±•</h2><p>CultureInfoä¸»è¦ç”¨äºç‰¹å®šåŒºåŸŸçš„æ•°å­—, æ—¥æœŸ, è´§å¸ç­‰æ ¼å¼åŒ–è®¾ç½®</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å®ç°ä¸åŒç±»å‹ä¹‹é—´çš„è½¬æ¢, å¦‚åŠ¨æ€çš„å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡å®ä¾‹&lt;/p&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="CSharp è¡¥è¯¾ç¬”è®°" scheme="https://silencejql.github.io/tags/CSharp-%E8%A1%A5%E8%AF%BE%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>BEPè½¯ä»¶é…ç½®å®ç°ä¸BBKé€šè®¯</title>
    <link href="https://silencejql.github.io/BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF.html"/>
    <id>https://silencejql.github.io/BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF.html</id>
    <published>2025-05-03T05:14:45.000Z</published>
    <updated>2025-07-21T05:28:42.932Z</updated>
    
    <content type="html"><![CDATA[<p>é…ç½®BEPå››è½®è½¯ä»¶å’Œæ³¨å†Œè¡¨å®ç°BBKä¸BEPé€šè®¯</p><span id="more"></span><h2 id="é€šè®¯ç®€ä»‹">é€šè®¯ç®€ä»‹</h2><p>BBKä¸BEPè½¯ä»¶ä¹‹é—´å¯é€‰æ‹©ä¸²å£(232)å’ŒTCPä¸¤ç§é€šè®¯æ–¹å¼, ç°åœºå¸¸ç”¨ä¸²å£é€šè®¯<br>è½¯ä»¶ä¹‹é—´äº¤äº’ä¸»è¦æœ‰ä¸¤ä¸ª, 1. BBKæ‰«ç åå°†è½¦å‹ä¿¡æ¯å‘é€ç»™BEP; 2. BEPå°†æµ‹è¯•ç»“æœå‘é€ç»™BBKè½¯ä»¶</p><h2 id="æ³¨å†Œè¡¨é…ç½®">æ³¨å†Œè¡¨é…ç½®</h2><h3 id="é€‰æ‹©é€šè®¯æ–¹å¼">é€‰æ‹©é€šè®¯æ–¹å¼</h3><h4 id="ä¸²å£">ä¸²å£</h4><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/RegSerial.PNG" alt="Reg"></p><p>å¦‚ä¸Šå›¾<code>Use Host</code>ç”¨äºé…ç½®è½¯ä»¶é—´çš„é€šè®¯æ–¹å¼, 1ä¸ºä¸²å£é€šè®¯, 2ä¸ºç½‘ç»œé€šè®¯<br>å½“é€‰æ‹©ä¸²å£é€šè®¯æ—¶éœ€è¦åœ¨è½¯ä»¶ä¸­é…ç½®ä¸²å£å·, BEPè½¯ä»¶å¯¹ä¸²å£å·çš„åˆ—ä¸¾æœ‰é™åˆ¶,è‹¥ä¸²å£ä½¿ç”¨æ‰©å±•è®¾å¤‡æ—¶ä¸²å£å·å¤§äºé™å€¼åˆ™ä¸ä¼šåœ¨è½¯ä»¶ä¸­æ˜¾ç¤º, è¿™æ—¶éœ€è¦å°†é™å€¼æ”¹å¤§åå†é€‰æ‹©å¯¹åº”ä¸²å£, å¯¹åº”æ›´æ”¹ä¸Šå›¾ä¸­çš„<code>Number of Serial Ports on Machine</code>.</p><h4 id="ç½‘å£">ç½‘å£</h4><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/RegTcpip.PNG" alt="Tcp"></p><p>è‹¥é€‰æ‹©ç½‘å£é€šè®¯åˆ™éœ€è¦é…ç½®ä¸Šå›¾æ‰€ç¤ºçš„IPåŠç«¯å£å·</p><h3 id="Hosté…ç½®">Hosté…ç½®</h3><p>BEPä¸BBKè½¯ä»¶é€šè®¯ä¸­æœ‰ç›¸åº”çš„åè®®è§„åˆ™, ä¸ºäº†æ›´æ–¹ä¾¿çš„ä½¿ç”¨éœ€è¦å±è”½ä¸€äº›è§„åˆ™</p><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/RegHost.PNG" alt="Host"></p><p>å…¶ä¸­æœ€ä¸»è¦çš„æ˜¯è¦å°†<code>Use Host Handshaking</code>æ¡æ‰‹çš„é…ç½®æ”¹ä¸º0å±è”½æ‰, å¦åˆ™æ— æ³•ç›´æ¥ä¸BEPè½¯ä»¶è¿›è¡Œæ•°æ®äº¤äº’<br>ä¹Ÿå¯å°†å›¾ä¸­æ‰€æœ‰<code>Use</code>å¼€å¤´å€¼ä¸º1çš„é…ç½®æ”¹ä¸º0</p><h3 id="BEPè½¯ä»¶é…ç½®">BEPè½¯ä»¶é…ç½®</h3><h4 id="ä¸²å£-v2">ä¸²å£</h4><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/BEPSerial.PNG" alt="Serial"></p><p>é…ç½®å®Œæ³¨å†Œè¡¨åéœ€è¦é…ç½®BEPè½¯ä»¶ä¸­çš„ä¸²å£å·<br>å…¶ä¸­BEPè½¯ä»¶é€šè¿‡HOSTä¸²å£å°†æµ‹è¯•æ•°æ®å‘é€ç»™BBK<br>é€šè¿‡SCANNERä¸²å£æ¥æ”¶BBKå‘é€çš„è½¦å‹ä¿¡æ¯<br>å…¶ä»–ä¸éœ€è¦çš„ä¸ç”¨ç®¡æˆ–è€…åœ¨æ³¨å†Œè¡¨ä¸­å±è”½</p><h4 id="ç½‘å£-v2">ç½‘å£</h4><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/BEPTcp.PNG" alt="TCP"></p><p>è‹¥é€‰æ‹©ç½‘å£é€šè®¯åˆ™éœ€è¦åœ¨ä¸Šå›¾ä¸­è¿›è¡Œé…ç½®</p><h4 id="è½¦å‹æ•°æ®è§„åˆ™é…ç½®">è½¦å‹æ•°æ®è§„åˆ™é…ç½®</h4><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/BEPVINConfig.PNG" alt="VIN"></p><p>BEPæ¥æ”¶BBKå‘é€è½¦å‹æ•°æ®å­—ç¬¦ä¸²åä¼šè§£æä¸ºVINå’ŒZTS, ç”±äºZTSå¯èƒ½å­˜åœ¨ä¸åŒé•¿åº¦æ‰€ä»¥éœ€è¦é…ç½®ä¸åŒçš„è§£æè§„åˆ™</p><p>å…·ä½“é…ç½®å‚è€ƒä¸Šå›¾, VINä¸º17ä½, ZTSä¸º2ä½</p><p>BBKå‘é€çš„è½¦å‹æ•°æ®ä¹Ÿæœ‰ä¸€å®šè§„åˆ™, åœ¨ä¸Šå›¾ç¬¬äºŒä¸ªæ ‡ç­¾ä¹Ÿä¸­è¿›è¡Œé…ç½®, é»˜è®¤ä¸º<code>0x02</code>STXå¼€å¤´, <code>0x03</code>ETXç»“å°¾</p><h4 id="æµ‹è¯•ç»“æœå‘é€é…ç½®">æµ‹è¯•ç»“æœå‘é€é…ç½®</h4><p><img src="BEP%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%AE%9E%E7%8E%B0%E4%B8%8EBBK%E9%80%9A%E8%AE%AF/BEPRsm.PNG" alt="rsm"></p><p>BEPé€šè¿‡å›¾ä¸­<code>rsm_hoststring.xml</code>ä¸­é…ç½®çš„è§„åˆ™ç”Ÿæˆæ•°æ®å­—ç¬¦ä¸²åå‘é€ç»™BBK, BBKæ¥æ”¶åé€šè¿‡åŒæ ·çš„è§„åˆ™è¿›è¡Œè§£æ, å› æ­¤éœ€è¦ä¿è¯BEPå’ŒBBKè°ƒç”¨è¯¥æ–‡ä»¶çš„ä¸€è‡´æ€§, ä¸Šå›¾ä¸ºBEPè½¯ä»¶è¯»å–è·¯å¾„, è¯¥è·¯å¾„åœ¨æ³¨å†Œè¡¨é…ç½®HOSTæ—¶å¯æ›´æ”¹; BBKæ–‡ä»¶è·¯å¾„åœ¨ç›¸åº”Configæ–‡ä»¶ä¸‹</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;é…ç½®BEPå››è½®è½¯ä»¶å’Œæ³¨å†Œè¡¨å®ç°BBKä¸BEPé€šè®¯&lt;/p&gt;</summary>
    
    
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
  </entry>
  
  <entry>
    <title>Docker-composerå¸¸ç”¨æŒ‡ä»¤</title>
    <link href="https://silencejql.github.io/Docker-composer%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4.html"/>
    <id>https://silencejql.github.io/Docker-composer%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4.html</id>
    <published>2025-04-01T07:21:20.000Z</published>
    <updated>2025-04-01T07:21:50.431Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id=""></h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‹‰å–å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡ä¾èµ–çš„é•œåƒ</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pull</span></span><br><span class="line"><span class="comment"># æ‹‰å–å·¥ç¨‹ä¸­ nginx æœåŠ¡ä¾èµ–çš„é•œåƒ</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pull</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰å°å¯åŠ¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">up</span></span><br><span class="line"><span class="comment"># åå°å¯åŠ¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">up</span> <span class="string">-d</span></span><br><span class="line"><span class="comment"># -f æŒ‡å®šä½¿ç”¨çš„ Compose æ¨¡æ¿æ–‡ä»¶ï¼Œé»˜è®¤ä¸º docker-compose.ymlï¼Œå¯ä»¥å¤šæ¬¡æŒ‡å®šï¼ŒæŒ‡å®šå¤šä¸ª yml</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">-f</span> <span class="string">docker-compose.yml</span> <span class="string">up</span> <span class="string">-d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæ—¥å¿—ï¼Œä¸åŒçš„æœåŠ¡è¾“å‡ºä½¿ç”¨ä¸åŒçš„é¢œè‰²æ¥åŒºåˆ†</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">logs</span></span><br><span class="line"><span class="comment"># è·Ÿè¸ªæ—¥å¿—è¾“å‡º</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">logs</span> <span class="string">-f</span></span><br><span class="line"><span class="comment"># å…³é—­é¢œè‰²</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">logs</span> <span class="string">--no-color</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">ps</span></span><br><span class="line"><span class="comment"># åˆ—å‡ºå·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">ps</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨ä¸Šæ‰§è¡Œ echo &quot;helloworld&quot;</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">run</span> <span class="string">nginx</span> <span class="string">echo</span> <span class="string">&quot;helloworld&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">exec</span> <span class="string">nginx</span> <span class="string">bash</span></span><br><span class="line"><span class="comment"># å½“ä¸€ä¸ªæœåŠ¡æ‹¥æœ‰å¤šä¸ªå®¹å™¨æ—¶ï¼Œå¯é€šè¿‡ --index å‚æ•°è¿›å…¥åˆ°è¯¥æœåŠ¡ä¸‹çš„ä»»ä½•å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">exec</span> <span class="string">--index=1</span> <span class="string">nginx</span> <span class="string">bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš‚åœå·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pause</span></span><br><span class="line"><span class="comment"># æš‚åœå·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">pause</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">unpause</span></span><br><span class="line"><span class="comment"># æ¢å¤å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">unpause</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">restart</span></span><br><span class="line"><span class="comment"># é‡å¯å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">restart</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">start</span></span><br><span class="line"><span class="comment"># å¯åŠ¨å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">start</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span></span><br><span class="line"><span class="comment"># åœæ­¢å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡å‘é€ SIGKILL ä¿¡å·åœæ­¢å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">kill</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰ï¼ˆåœæ­¢çŠ¶æ€ï¼‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span></span><br><span class="line"><span class="comment"># å…ˆåœæ­¢æ‰€æœ‰æœåŠ¡çš„å®¹å™¨ï¼Œå†åˆ é™¤æ‰€æœ‰æœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-s</span></span><br><span class="line"><span class="comment"># ä¸è¯¢é—®æ˜¯å¦åˆ é™¤ï¼Œç›´æ¥åˆ é™¤</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-f</span></span><br><span class="line"><span class="comment"># åˆ é™¤æœåŠ¡å®¹å™¨æŒ‚è½½çš„æ•°æ®å·</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-v</span></span><br><span class="line"><span class="comment"># åˆ é™¤å·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">rm</span> <span class="string">-sv</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢å¹¶åˆ é™¤å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨ã€ç½‘ç»œ</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span></span><br><span class="line"><span class="comment"># åœæ­¢å¹¶åˆ é™¤å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨ã€ç½‘ç»œã€é•œåƒ</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">down</span> <span class="string">--rmi</span> <span class="string">all</span></span><br><span class="line"><span class="comment"># åœæ­¢å¹¶åˆ é™¤å·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨ã€ç½‘ç»œã€æ•°æ®å·</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">down</span> <span class="string">-v</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æ‰€æœ‰æœåŠ¡çš„å®¹å™¨æ‰€å¯¹åº”çš„é•œåƒ</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">images</span></span><br><span class="line"><span class="comment"># æ‰“å°æŒ‡å®šæœåŠ¡çš„å®¹å™¨æ‰€å¯¹åº”çš„é•œåƒ</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">images</span> <span class="string">nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°æŒ‡å®šæœåŠ¡å®¹å™¨çš„æŸä¸ªç«¯å£æ‰€æ˜ å°„çš„å®¿ä¸»æœºç«¯å£</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">port</span> <span class="string">nginx</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå·¥ç¨‹ä¸­æ‰€æœ‰æœåŠ¡çš„å®¹å™¨æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">top</span></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå·¥ç¨‹ä¸­æŒ‡å®šæœåŠ¡çš„å®¹å™¨æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">top</span> <span class="string">nginx</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Docker-composerå¸¸ç”¨æŒ‡ä»¤</summary>
    
    
    
    
    <category term="Docker" scheme="https://silencejql.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Windowså®‰è£…é…ç½®Docker</title>
    <link href="https://silencejql.github.io/Windows%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEDocker.html"/>
    <id>https://silencejql.github.io/Windows%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEDocker.html</id>
    <published>2025-04-01T06:12:25.000Z</published>
    <updated>2025-04-01T06:29:48.838Z</updated>
    
    <content type="html"><![CDATA[<p>windowså®‰è£…docker, ç¤ºä¾‹éƒ¨ç½²gitlab</p><span id="more"></span><h2 id="å®‰è£…">å®‰è£…</h2><p>è‡ªè¡Œä¸‹è½½å®‰è£…Docker Desktop</p><p>å®‰è£…å®Œæˆåå‘½ä»¤è¡Œè¾“å…¥<code>docker -v</code>å¯æŸ¥çœ‹Dockerç‰ˆæœ¬ä¿¡æ¯</p><h2 id="é…ç½®">é…ç½®</h2><h3 id="é…ç½®é•œåƒæº">é…ç½®é•œåƒæº</h3><ol><li><p>åœ¨é…ç½®ä¸­æ·»åŠ registry mirrors</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;registry-mirrors&quot;:</span> [</span><br><span class="line"> <span class="string">&quot;https://docker.1ms.run&quot;</span>,</span><br><span class="line"> <span class="string">&quot;https://docker.xuanyuan.me&quot;</span></span><br><span class="line"> ]</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹docker/daemon.jsonæ–‡ä»¶è®¾ç½®registry mirrors</p></li></ol><h3 id="æ‹‰å»é•œåƒ">æ‹‰å»é•œåƒ</h3><p>å¦‚: æ‹‰å–gitlab<code>docker pull gitlab/gitlab-ee:latest</code></p><h4 id="Gitlabé…ç½®">Gitlabé…ç½®</h4><p>æ–°å»ºæ–‡ä»¶è·¯å¾„å­˜å‚¨Gitlabä¿¡æ¯å¦‚:</p><blockquote><p>gitlab</p><blockquote><p>config<br>data<br>logs<br>docker-compose.yml</p></blockquote></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">gitlab:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">&#x27;gitlab/gitlab-ee:latest&#x27;</span>  <span class="comment"># ä½¿ç”¨ GitLab ä¼ä¸šç‰ˆé•œåƒï¼Œæˆ–å°† &#x27;gitlab-ee&#x27; æ”¹ä¸º &#x27;gitlab-ce&#x27; ä½¿ç”¨ç¤¾åŒºç‰ˆ</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">&#x27;localhost&#x27;</span>  <span class="comment"># é…ç½® GitLab çš„ä¸»æœºåï¼Œå¯ä»¥æ”¹ä¸ºä½ è‡ªå·±çš„åŸŸåæˆ– IP åœ°å€</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">GITLAB_OMNIBUS_CONFIG:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        external_url &#x27;http://localhost&#x27;  # GitLab çš„å¤–éƒ¨ URLï¼Œå»ºè®®æ›¿æ¢ä¸ºä½ æœåŠ¡å™¨çš„åŸŸåæˆ– IP</span></span><br><span class="line"><span class="string"></span>    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;80:80&#x27;</span>    <span class="comment"># æ˜ å°„ HTTP ç«¯å£</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;443:443&#x27;</span>  <span class="comment"># æ˜ å°„ HTTPS ç«¯å£</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;22:22&#x27;</span>    <span class="comment"># æ˜ å°„ SSH ç«¯å£ï¼Œä¾› GitLab ä½¿ç”¨</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./gitlab/config:/etc/gitlab</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./gitlab/data:/var/opt/gitlab</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./gitlab/logs:/var/log/gitlab</span></span><br><span class="line">    <span class="attr">logging:</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">&#x27;json-file&#x27;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">max-size:</span> <span class="string">&#x27;2g&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨Gitlab">å¯åŠ¨Gitlab</h4><p>ä½¿ç”¨å‘½ä»¤<code>docker-compose up -d</code>å¯åŠ¨å®¹å™¨éœ€è¦ä¸€å®šæ—¶é—´, æœŸé—´å¯ä»¥ç”¨<code>docker ps</code>æŸ¥çœ‹çŠ¶æ€, ä»startingè½¬ä¸ºhealthyåˆ™å¯åŠ¨æˆåŠŸ<br>è®¿é—®<a href="http://xn--localhostgitlab-ym1zi4dy26g750f">http://localhostå³å¯ç™»å½•gitlab</a><br>é»˜è®¤ç”¨æˆ·ä¸ºï¼šroot å¯†ç åœ¨gitlabéƒ¨ç½²ç›®å½•ä¸‹gitlabä¸‹çš„gitlab/config/initial_root_passwordæ–‡ä»¶ä¸­</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;windowså®‰è£…docker, ç¤ºä¾‹éƒ¨ç½²gitlab&lt;/p&gt;</summary>
    
    
    
    
    <category term="Docker" scheme="https://silencejql.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>BBKæŸ¥è¯¢è½¯ä»¶æ–°å¢æŸ¥è¯¢é“¾æ¥</title>
    <link href="https://silencejql.github.io/BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5.html"/>
    <id>https://silencejql.github.io/BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5.html</id>
    <published>2025-03-24T05:49:18.000Z</published>
    <updated>2025-03-24T11:45:53.004Z</updated>
    
    <content type="html"><![CDATA[<p>BBKæŸ¥è¯¢è½¯ä»¶æ–°å¢æˆ–ä¿®æ”¹æ•°æ®åº“é“¾æ¥å­—ç¬¦ä¸²<br>å¯æ‰‹åŠ¨æ›´æ”¹é“¾æ¥å­—ç¬¦ä¸²æˆ–æ ¹æ®ä»¥ä¸‹æ­¥éª¤è‡ªåŠ¨ç”Ÿæˆ</p><span id="more"></span><h2 id="æ–°å¢æœ¬åœ°é“¾æ¥Local">æ–°å¢æœ¬åœ°é“¾æ¥Local</h2><ol><li>ç™»å½•ç®¡ç†å‘˜åå‹¾é€‰ç¼–è¾‘æ¨¡å¼</li><li>åŒå‡»è¦æ›´æ”¹çš„åç§°æˆ–ç‚¹å‡»æ·»åŠ è¿æ¥<br><img src="BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5%5C%E9%80%89%E6%8B%A9%E9%93%BE%E6%8E%A5.png" alt="é€‰æ‹©é“¾æ¥"></li><li>ç‚¹å‡»<strong>åˆ›å»ºé“¾æ¥å­—ç¬¦ä¸²</strong>é€‰æ‹©ç›¸åº”çš„æ•°æ®æº, æœ¬åœ°PostgreSqlé€‰æ‹©å¦‚ä¸‹<br><img src="BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5%5C%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E6%BA%90.png" alt="é€‰æ‹©æ•°æ®æº"></li><li>é…ç½®è¿æ¥å±æ€§å¦‚ä¸‹, å…¶ä¸­Hostå¯é…ç½®è¢«è®¿é—®æ•°æ®åº“çš„ip<br><img src="BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5%5C%E8%BF%9E%E6%8E%A5%E5%B1%9E%E6%80%A7.png" alt="è¿æ¥å±æ€§"></li><li>å•å‡»ç¡®å®šå³å¯</li></ol><h2 id="æ–°å¢æœåŠ¡å™¨é“¾æ¥Server">æ–°å¢æœåŠ¡å™¨é“¾æ¥Server</h2><ol><li>ç™»å½•ç®¡ç†å‘˜åå‹¾é€‰ç¼–è¾‘æ¨¡å¼</li><li>åŒå‡»è¦æ›´æ”¹çš„åç§°æˆ–ç‚¹å‡»æ·»åŠ è¿æ¥åç‚¹å‡»<strong>åˆ›å»ºé“¾æ¥å­—ç¬¦ä¸²</strong>é€‰æ‹©ç›¸åº”çš„æ•°æ®æº, æœåŠ¡å™¨SQLServeré€‰æ‹©å¦‚ä¸‹<br><img src="BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5%5C%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E6%BA%90Server.png" alt="é€‰æ‹©æ•°æ®æº"></li><li>é…ç½®é“¾æ¥å±æ€§å¦‚ä¸‹, å…¶ä¸­Server nameå¯é…ç½®è¢«è®¿é—®æ•°æ®åº“çš„ip<br><img src="BBK%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E6%96%B0%E5%A2%9E%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5%5C%E8%BF%9E%E6%8E%A5%E5%B1%9E%E6%80%A7Server.png" alt="è¿æ¥å±æ€§"></li><li>å•å‡»ç¡®å®šå³å¯</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;BBKæŸ¥è¯¢è½¯ä»¶æ–°å¢æˆ–ä¿®æ”¹æ•°æ®åº“é“¾æ¥å­—ç¬¦ä¸²&lt;br&gt;
å¯æ‰‹åŠ¨æ›´æ”¹é“¾æ¥å­—ç¬¦ä¸²æˆ–æ ¹æ®ä»¥ä¸‹æ­¥éª¤è‡ªåŠ¨ç”Ÿæˆ&lt;/p&gt;</summary>
    
    
    
    <category term="BBK" scheme="https://silencejql.github.io/categories/BBK/"/>
    
    
    <category term="BBK" scheme="https://silencejql.github.io/tags/BBK/"/>
    
  </entry>
  
  <entry>
    <title>Obsidain Dataviewä½¿ç”¨</title>
    <link href="https://silencejql.github.io/Obsidain-Dataview%E4%BD%BF%E7%94%A8.html"/>
    <id>https://silencejql.github.io/Obsidain-Dataview%E4%BD%BF%E7%94%A8.html</id>
    <published>2025-03-11T02:45:05.000Z</published>
    <updated>2025-03-11T02:45:05.425Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id=""></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;h2 id=&quot;&quot;&gt;&lt;/h2&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hexoéƒ¨ç½²åˆ°Gitlab</title>
    <link href="https://silencejql.github.io/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0Gitlab.html"/>
    <id>https://silencejql.github.io/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0Gitlab.html</id>
    <published>2025-03-08T09:24:38.000Z</published>
    <updated>2025-03-24T11:46:43.005Z</updated>
    
    <content type="html"><![CDATA[<p>åšå®¢éƒ¨ç½²åˆ°Gitlabä¸éƒ¨ç½²åˆ°Githubç­‰ç”Ÿæˆé™æ€é¡µé¢ä¸åŒ, Gitlabä¸­éœ€è¦å­˜å‚¨å®Œæ•´ä»£ç .</p><span id="more"></span><h2 id="å®Œæ•´æ­¥éª¤">å®Œæ•´æ­¥éª¤</h2><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <strong>Hexo</strong> éƒ¨ç½²åˆ° <strong>GitLab Pages</strong> åˆ›å»ºä¸ªäººåšå®¢çš„å®Œæ•´æŒ‡å—ï¼ŒåŒ…å«è¯¦ç»†æ­¥éª¤å’Œå¸¸è§é—®é¢˜æ’æŸ¥ï¼š</p><hr><h3 id="ä¸€ã€å‡†å¤‡å·¥ä½œ">ä¸€ã€å‡†å¤‡å·¥ä½œ</h3><ol><li><p><strong>å®‰è£… Node.js å’Œ npm</strong><br>Hexo åŸºäº Node.jsï¼Œéœ€å…ˆå®‰è£… <a href="https://nodejs.org/">Node.js</a>ï¼ˆå»ºè®®é€‰æ‹© LTS ç‰ˆæœ¬ï¼‰ã€‚</p></li><li><p><strong>å®‰è£… Git</strong><br>ä¸‹è½½å¹¶å®‰è£… <a href="https://git-scm.com/">Git</a>ï¼Œç”¨äºä»£ç ç®¡ç†ã€‚</p></li><li><p><strong>æ³¨å†Œ GitLab è´¦å·</strong><br>è®¿é—® <a href="https://gitlab.com/">GitLab</a> æ³¨å†Œè´¦å·ã€‚</p></li></ol><hr><h3 id="äºŒã€å®‰è£…-Hexo-å¹¶åˆå§‹åŒ–åšå®¢">äºŒã€å®‰è£… Hexo å¹¶åˆå§‹åŒ–åšå®¢</h3><ol><li><p><strong>å…¨å±€å®‰è£… Hexo å‘½ä»¤è¡Œå·¥å…·</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ›å»º Hexo é¡¹ç›®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init my-blog  <span class="comment"># åˆ›å»ºåä¸º my-blog çš„åšå®¢ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> my-blog         <span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line">npm install        <span class="comment"># å®‰è£…ä¾èµ–</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æœ¬åœ°é¢„è§ˆ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server        <span class="comment"># å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure><p>è®¿é—® <code>http://localhost:4000</code> æŸ¥çœ‹é»˜è®¤åšå®¢ã€‚</p></li></ol><hr><h3 id="ä¸‰ã€å…³è”-GitLab-ä»“åº“">ä¸‰ã€å…³è” GitLab ä»“åº“</h3><ol><li><p><strong>åœ¨ GitLab åˆ›å»ºæ–°é¡¹ç›®</strong></p><ul><li>ç™»å½• GitLab â†’ <strong>New project</strong> â†’ <strong>Create blank project</strong>ã€‚</li><li>å¡«å†™é¡¹ç›®åç§°ï¼ˆå¦‚ <code>my-blog</code>ï¼‰ï¼Œå¯è§æ€§é€‰æ‹© <code>Public</code>ã€‚</li><li><strong>é‡è¦</strong>ï¼šé¡¹ç›®åç§°éœ€ä¸ Hexo çš„ <code>_config.yml</code> ä¸­é…ç½®çš„è·¯å¾„ä¸€è‡´ï¼ˆé»˜è®¤æ— éœ€ä¿®æ”¹ï¼‰ã€‚</li></ul></li><li><p><strong>æœ¬åœ°å…³è” GitLab ä»“åº“</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add origin https://gitlab.com/ä½ çš„ç”¨æˆ·å/my-blog.git</span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="å››ã€é…ç½®-Hexo-éƒ¨ç½²åˆ°-GitLab">å››ã€é…ç½® Hexo éƒ¨ç½²åˆ° GitLab</h3><ol><li><p><strong>å®‰è£… Hexo Git éƒ¨ç½²æ’ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ Hexo é…ç½®æ–‡ä»¶</strong><br>æ‰“å¼€ <code>_config.yml</code>ï¼Œæ‰¾åˆ° <code>deploy</code> éƒ¨åˆ†ï¼Œä¿®æ”¹ä¸ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://gitlab.com/ä½ çš„ç”¨æˆ·å/my-blog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span>  <span class="comment"># GitLab é»˜è®¤åˆ†æ”¯æ˜¯ mainï¼Œä¸æ˜¯ masterï¼</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æµ‹è¯•éƒ¨ç½²</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --deploy</span><br></pre></td></tr></table></figure><ul><li>æ­¤å‘½ä»¤ä¼šå°†ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆåœ¨ <code>public</code> ç›®å½•ä¸‹ï¼‰æ¨é€åˆ° GitLab çš„ <code>main</code> åˆ†æ”¯ã€‚</li><li>ä½†ä¸ºäº†è‡ªåŠ¨åŒ–æ„å»ºï¼Œå»ºè®®ä½¿ç”¨ GitLab CI/CDï¼ˆè§ä¸‹ä¸€æ­¥ï¼‰ã€‚</li></ul></li></ol><hr><h3 id="äº”ã€é…ç½®-GitLab-CI-CD-è‡ªåŠ¨åŒ–éƒ¨ç½²">äº”ã€é…ç½® GitLab CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²</h3><ol><li><p><strong>åˆ›å»º <code>.gitlab-ci.yml</code> æ–‡ä»¶</strong><br>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">node:16</span>  <span class="comment"># ä½¿ç”¨ Node.js 16 ç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pages:</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">node_modules/</span>  <span class="comment"># ç¼“å­˜ä¾èµ–åŠ é€Ÿæ„å»º</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span>  <span class="comment"># å…¨å±€å®‰è£… Hexo</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span>  <span class="comment"># ç”Ÿæˆé™æ€æ–‡ä»¶åˆ° public ç›®å½•</span></span><br><span class="line">  <span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">public</span>  <span class="comment"># GitLab Pages é»˜è®¤ä» public ç›®å½•éƒ¨ç½²</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">main</span>  <span class="comment"># ä»… main åˆ†æ”¯è§¦å‘æ„å»º</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æ¨é€ä»£ç åˆ° GitLab</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;åˆå§‹åŒ– Hexo åšå®¢&quot;</span></span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li><li><p><strong>æŸ¥çœ‹æ„å»ºçŠ¶æ€</strong></p><ul><li>è¿›å…¥ GitLab é¡¹ç›® â†’ <strong>CI/CD â†’ Pipelines</strong>ï¼ŒæŸ¥çœ‹æµæ°´çº¿çŠ¶æ€ã€‚</li><li>æ„å»ºæˆåŠŸåï¼Œè¿›å…¥ <strong>Settings â†’ Pages</strong>ï¼Œç¡®è®¤ç½‘ç«™åœ°å€ã€‚</li></ul></li></ol><hr><h3 id="å…­ã€è®¿é—®åšå®¢">å…­ã€è®¿é—®åšå®¢</h3><ul><li><p><strong>é»˜è®¤åœ°å€</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://ä½ çš„ç”¨æˆ·å.gitlab.io/my-blog</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœé¡¹ç›®åç§°ä¸º <code>my-blog</code>ï¼Œè®¿é—®è·¯å¾„éœ€åŒ…å«é¡¹ç›®åã€‚</li><li>å¦‚æœå¸Œæœ›ç›´æ¥ä½¿ç”¨ <code>https://ä½ çš„ç”¨æˆ·å.gitlab.io</code>ï¼Œéœ€å°†é¡¹ç›®é‡å‘½åä¸º <code>ä½ çš„ç”¨æˆ·å.gitlab.io</code>ï¼ˆå¦‚ <code>john.gitlab.io</code>ï¼‰ã€‚</li></ul></li></ul><hr><h3 id="ä¸ƒã€è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰">ä¸ƒã€è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰</h3><ol><li><p><strong>è´­ä¹°åŸŸå</strong><br>åœ¨åŸŸåæœåŠ¡å•†ï¼ˆå¦‚ GoDaddyã€é˜¿é‡Œäº‘ï¼‰è´­ä¹°åŸŸåï¼ˆå¦‚ <code>example.com</code>ï¼‰ã€‚</p></li><li><p><strong>é…ç½® DNS è§£æ</strong></p><ul><li><p>æ·»åŠ  <code>CNAME</code> è®°å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸»æœºåï¼šblog  </span><br><span class="line">ç±»å‹ï¼šCNAME  </span><br><span class="line">å€¼ï¼šä½ çš„ç”¨æˆ·å.gitlab.io</span><br></pre></td></tr></table></figure></li><li><p>æˆ–æ·»åŠ  <code>A</code> è®°å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸»æœºåï¼š@  </span><br><span class="line">ç±»å‹ï¼šA  </span><br><span class="line">å€¼ï¼š35.185.44.232ï¼ˆGitLab Pages çš„ IPï¼‰</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>GitLab é…ç½®è‡ªå®šä¹‰åŸŸå</strong></p><ul><li><p>è¿›å…¥é¡¹ç›® â†’ <strong>Settings â†’ Pages</strong> â†’ <strong>New Domain</strong>ã€‚</p></li><li><p>è¾“å…¥åŸŸåï¼ˆå¦‚ <code>blog.example.com</code>ï¼‰ï¼Œç‚¹å‡» <strong>Save</strong>ã€‚</p></li><li><p>åœ¨ Hexo çš„ <code>source</code> ç›®å½•ä¸‹åˆ›å»º <code>CNAME</code> æ–‡ä»¶ï¼ˆæ— åç¼€ï¼‰ï¼Œå†…å®¹ä¸ºåŸŸåï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blog.example.com</span><br></pre></td></tr></table></figure></li><li><p>æ¨é€ä»£ç ä½¿é…ç½®ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add <span class="built_in">source</span>/CNAME</span><br><span class="line">git commit -m <span class="string">&quot;æ·»åŠ è‡ªå®šä¹‰åŸŸå&quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h3 id="å…«ã€æ›´æ–°åšå®¢å†…å®¹">å…«ã€æ›´æ–°åšå®¢å†…å®¹</h3><ol><li><p><strong>æ–°å»ºæ–‡ç« </strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« &quot;</span></span><br></pre></td></tr></table></figure><ul><li>ç¼–è¾‘æ–‡ä»¶ <code>source/_posts/æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« .md</code>ã€‚</li></ul></li><li><p><strong>æœ¬åœ°é¢„è§ˆ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo server</span><br></pre></td></tr></table></figure></li><li><p><strong>éƒ¨ç½²åˆ° GitLab</strong></p><ul><li><p><strong>æ–¹å¼ä¸€</strong>ï¼šæ‰‹åŠ¨ç”Ÿæˆå¹¶æ¨é€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --deploy</span><br></pre></td></tr></table></figure></li><li><p><strong>æ–¹å¼äºŒ</strong>ï¼šè§¦å‘ CI/CD è‡ªåŠ¨æ„å»ºï¼ˆæ¨èï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;æ·»åŠ æ–°æ–‡ç« &quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h3 id="ä¹ã€å¸¸è§é—®é¢˜è§£å†³">ä¹ã€å¸¸è§é—®é¢˜è§£å†³</h3><ol><li><p><strong>æ„å»ºå¤±è´¥</strong></p><ul><li><strong>é”™è¯¯æç¤º</strong>ï¼š<code>npm install</code> å¤±è´¥ã€‚<ul><li>æ£€æŸ¥ <code>.gitlab-ci.yml</code> ä¸­çš„ Node.js ç‰ˆæœ¬æ˜¯å¦ä¸æœ¬åœ°ä¸€è‡´ã€‚</li></ul></li><li><strong>é”™è¯¯æç¤º</strong>ï¼š<code>hexo generate</code> æŠ¥é”™ã€‚<ul><li>ç¡®ä¿ <code>_config.yml</code> ä¸­è¯­æ³•æ­£ç¡®ï¼ˆé¿å…ä½¿ç”¨ Tab ç¼©è¿›ï¼Œéœ€ç”¨ç©ºæ ¼ï¼‰ã€‚</li></ul></li></ul></li><li><p><strong>é¡µé¢ 404</strong></p><ul><li><strong>åŸå› </strong>ï¼šè®¿é—®è·¯å¾„é”™è¯¯ã€‚<ul><li>å¦‚æœé¡¹ç›®åä¸º <code>my-blog</code>ï¼Œè®¿é—®åœ°å€åº”ä¸º <code>https://ç”¨æˆ·å.gitlab.io/my-blog</code>ã€‚</li><li>è‹¥å¸Œæœ›æ ¹è·¯å¾„è®¿é—®ï¼Œéœ€å°†é¡¹ç›®é‡å‘½åä¸º <code>ç”¨æˆ·å.gitlab.io</code>ã€‚</li></ul></li></ul></li><li><p><strong>è‡ªå®šä¹‰åŸŸåä¸ç”Ÿæ•ˆ</strong></p><ul><li>æ£€æŸ¥ <code>CNAME</code> æ–‡ä»¶æ˜¯å¦æäº¤åˆ°ä»“åº“ã€‚</li><li>ç­‰å¾… DNS è§£æç”Ÿæ•ˆï¼ˆæœ€é•¿å¯èƒ½éœ€è¦ 48 å°æ—¶ï¼‰ã€‚</li></ul></li></ol><hr><p>æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥å°† Hexo åšå®¢æ— ç¼éƒ¨ç½²åˆ° GitLab Pagesï¼Œäº«å—å…è´¹ã€ç¨³å®šçš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼</p><h2 id="éƒ¨ç½²Githubæ–¹å¼éƒ¨ç½²åˆ°Gitlab">éƒ¨ç½²Githubæ–¹å¼éƒ¨ç½²åˆ°Gitlab</h2><ol><li><p>åœ¨<code>_config.yml</code>ä¸­å¢åŠ éƒ¨ç½²ä»“åº“é“¾æ¥</p></li><li><p>æ–°å»º<code>.gitlab-ci.yml</code>æ–‡ä»¶ç”¨äºè§¦å‘æµæ°´çº¿</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pages:</span></span><br><span class="line"><span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mkdir</span> <span class="string">.public</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">cp</span> <span class="string">-r</span> <span class="string">./*</span> <span class="string">.public</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rm</span> <span class="string">-rf</span> <span class="string">public</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mv</span> <span class="string">.public</span> <span class="string">public</span></span><br><span class="line"><span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">if:</span> <span class="string">$CI_COMMIT_BRANCH</span> <span class="string">==</span> <span class="string">$CI_DEFAULT_BRANCH</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>åœ¨æ‰§è¡Œå®Œ<code>hexo g</code>åå…ˆå°†<code>.gitlab-ci.yml</code>å¤åˆ¶åˆ°<code>.deploy_git</code>ä¸­å†æ‰§è¡Œ<code>hexo d</code></p></li></ol><h2 id="å®˜æ–¹æ–¹å¼">å®˜æ–¹æ–¹å¼</h2><ol><li><p>å¦‚æœä½ æ›´å¸Œæœ›ä½ çš„ç«™ç‚¹éƒ¨ç½²åœ¨ <code>&lt;ä½ çš„ GitLab ç”¨æˆ·å&gt;.gitlab.io</code> çš„å­ç›®å½•ä¸­ï¼Œä½ çš„ <code>repository</code> éœ€è¦ç›´æ¥å‘½åä¸ºå­ç›®å½•çš„åå­—ï¼Œè¿™æ ·ä½ çš„ç«™ç‚¹å¯ä»¥é€šè¿‡ <code>https://&lt;ä½ çš„ GitLab ç”¨æˆ·å&gt;.gitlab.io/&lt;repository çš„åå­—&gt;</code> è®¿é—®ã€‚ ä½ éœ€è¦æ£€æŸ¥ä½ çš„ Hexo é…ç½®æ–‡ä»¶ï¼Œå°† url çš„å€¼ä¿®æ”¹ä¸º <code>https://&lt;ä½ çš„ GitLab ç”¨æˆ·å&gt;.gitlab.io/&lt;repository çš„åå­—&gt;</code>ã€å°† root çš„å€¼ä¿®æ”¹ä¸º <code>/&lt;repository çš„åå­—&gt;/</code></p></li><li><p>é€šè¿‡ Settings &gt; CI/CD &gt; Runners &gt; Enable shared runners for this project å¯ç”¨å…±äº«è¿è¡Œç¨‹åºã€‚</p></li><li><p>å°†ä½ çš„ Hexo ç«™ç‚¹æ–‡ä»¶å¤¹æ¨é€åˆ° repository ä¸­ã€‚ é»˜è®¤æƒ…å†µä¸‹ public ç›®å½•å°†ä¸ä¼šï¼ˆå¹¶ä¸”ä¸åº”è¯¥ï¼‰è¢«æ¨é€åˆ° repository ä¸­ï¼Œå»ºè®®ä½ æ£€æŸ¥ .gitignore æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å« public ä¸€è¡Œï¼Œå¦‚æœæ²¡æœ‰è¯·åŠ ä¸Šã€‚ æ•´ä½“æ–‡ä»¶å¤¹ç»“æ„åº”è¯¥ä¸ ç¤ºä¾‹å‚¨å­˜åº“ å¤§è‡´ç›¸ä¼¼ã€‚</p></li><li><p>ä½¿ç”¨ <code>node --version</code> æŒ‡ä»¤æ£€æŸ¥ä½ ç”µè„‘ä¸Šçš„ Node.js ç‰ˆæœ¬ã€‚ è®°ä¸‹ä¸»è¦ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œv16.y.zï¼‰</p></li><li><p>å°† <code>.gitlab-ci.yml</code> æ–‡ä»¶æ·»åŠ åˆ°æ‚¨çš„ç‰ˆæœ¬åº“æ ¹ç›®å½•ï¼ˆä¸ _config.yml &amp; package.jsonå¹¶åˆ—ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼ˆå°†16æ›¿æ¢ä¸ºæ‚¨åœ¨ä¸Šä¸€æ­¥ä¸­æ³¨æ„åˆ°çš„ Node.js ä¸»ç‰ˆæœ¬ï¼‰</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">node:16-alpine</span></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line"><span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">node_modules/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_script:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pages:</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line"><span class="attr">artifacts:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">if:</span> <span class="string">$CI_COMMIT_BRANCH</span> <span class="string">==</span> <span class="string">$CI_DEFAULT_BRANCH</span></span><br></pre></td></tr></table></figure></li><li><p>GitLab CI åº”è¯¥ä¼šè‡ªåŠ¨å¼€å§‹è¿è¡Œï¼Œæ„å»ºæˆåŠŸä»¥åä½ åº”è¯¥å¯ä»¥åœ¨ <code>https://&lt;ä½ çš„ GitLab ç”¨æˆ·å&gt;.gitlab.io</code> æŸ¥çœ‹ä½ çš„ç½‘ç«™ã€‚</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšå®¢éƒ¨ç½²åˆ°Gitlabä¸éƒ¨ç½²åˆ°Githubç­‰ç”Ÿæˆé™æ€é¡µé¢ä¸åŒ, Gitlabä¸­éœ€è¦å­˜å‚¨å®Œæ•´ä»£ç .&lt;/p&gt;</summary>
    
    
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexoä¸­ä¿®æ”¹KaTeXç•Œå®šç¬¦</title>
    <link href="https://silencejql.github.io/Hexo%E4%B8%AD%E4%BF%AE%E6%94%B9KaTeX%E7%95%8C%E5%AE%9A%E7%AC%A6.html"/>
    <id>https://silencejql.github.io/Hexo%E4%B8%AD%E4%BF%AE%E6%94%B9KaTeX%E7%95%8C%E5%AE%9A%E7%AC%A6.html</id>
    <published>2025-03-07T05:51:28.000Z</published>
    <updated>2025-03-24T11:46:21.019Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Hexo ä¸­ä¿®æ”¹ KaTeX çš„ç•Œå®šç¬¦ï¼ˆå®šç•Œç¬¦ï¼‰</p><span id="more"></span><p>ä¸»è¦æ¶‰åŠ <strong>ä¸¤ä¸ªä½ç½®</strong>ï¼š<strong>ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶</strong>å’Œ <strong>KaTeX åˆå§‹åŒ–è„šæœ¬</strong>ã€‚<br>ä»¥ä¸‹æ˜¯è¯¦ç»†æ“ä½œæ­¥éª¤ï¼š</p><hr><h3 id="1-ä¿®æ”¹ä½ç½®ï¼šä¸»é¢˜çš„-footer-æ¨¡æ¿æ–‡ä»¶"><strong>1. ä¿®æ”¹ä½ç½®ï¼šä¸»é¢˜çš„ <code>footer</code> æ¨¡æ¿æ–‡ä»¶</strong></h3><p>KaTeX çš„ç•Œå®šç¬¦é…ç½®åœ¨åˆå§‹åŒ–è„šæœ¬ä¸­ï¼Œé€šå¸¸ä½äº Next ä¸»é¢˜çš„ <code>footer</code> æ¨¡æ¿æ–‡ä»¶ä¸­ã€‚<br>æ–‡ä»¶è·¯å¾„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">themes/next/layout/_partials/footer.njk</span><br><span class="line">æˆ–</span><br><span class="line">themes/next/layout/_partials/footer.swig</span><br></pre></td></tr></table></figure><h4 id="æ“ä½œæ­¥éª¤ï¼š"><strong>æ“ä½œæ­¥éª¤ï¼š</strong></h4><ol><li><p>æ‰“å¼€å¯¹åº”çš„ <code>footer</code> æ–‡ä»¶ï¼ˆæ ¹æ®ä½ çš„ä¸»é¢˜æ¨¡æ¿å¼•æ“ï¼Œå¯èƒ½æ˜¯ <code>.njk</code> æˆ– <code>.swig</code>ï¼‰ã€‚</p></li><li><p>æ‰¾åˆ°å¼•å…¥ <code>auto-render.min.js</code> çš„è„šæœ¬ï¼Œä¿®æ”¹ <code>delimiters</code> å‚æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">renderMathInElement</span>(<span class="variable language_">document</span>.<span class="property">body</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">delimiters</span>: [</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ä¿®æ”¹è¿™é‡Œçš„ left å’Œ right å€¼</span></span></span><br><span class="line"><span class="language-javascript">        &#123;<span class="attr">left</span>: <span class="string">&#x27;$$&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;$$&#x27;</span>, <span class="attr">display</span>: <span class="literal">true</span>&#125;,   <span class="comment">// å—çº§å…¬å¼</span></span></span><br><span class="line"><span class="language-javascript">        &#123;<span class="attr">left</span>: <span class="string">&#x27;$&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;$&#x27;</span>, <span class="attr">display</span>: <span class="literal">false</span>&#125;     <span class="comment">// è¡Œå†…å…¬å¼</span></span></span><br><span class="line"><span class="language-javascript">      ],</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">throwOnError</span>: <span class="literal">false</span>  <span class="comment">// å¿½ç•¥å…¬å¼é”™è¯¯</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å°† <code>left</code> å’Œ <code>right</code> çš„å€¼æ”¹ä¸ºä½ æƒ³è¦çš„ç•Œå®šç¬¦ã€‚ä¾‹å¦‚ï¼š</p><ul><li><p><strong>æ”¹ç”¨ <code>\(...\)</code> å’Œ <code>\[...\]</code></strong>ï¼ˆLaTeX æ ‡å‡†é£æ ¼ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">delimiters</span>: [</span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;\\[&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;\\]&#x27;</span>, <span class="attr">display</span>: <span class="literal">true</span>&#125;,  <span class="comment">// å—çº§å…¬å¼</span></span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;\\(&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;\\)&#x27;</span>, <span class="attr">display</span>: <span class="literal">false</span>&#125;   <span class="comment">// è¡Œå†…å…¬å¼</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p><strong>æ”¹ç”¨è‡ªå®šä¹‰ç¬¦å·</strong>ï¼ˆå¦‚ <code>@...@</code>ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">delimiters</span>: [</span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;@@&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;@@&#x27;</span>, <span class="attr">display</span>: <span class="literal">true</span>&#125;,  <span class="comment">// å—çº§å…¬å¼</span></span><br><span class="line">  &#123;<span class="attr">left</span>: <span class="string">&#x27;@&#x27;</span>, <span class="attr">right</span>: <span class="string">&#x27;@&#x27;</span>, <span class="attr">display</span>: <span class="literal">false</span>&#125;     <span class="comment">// è¡Œå†…å…¬å¼</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ul></li></ol><hr><h3 id="2-åŒæ­¥ä¿®æ”¹-Markdown-ä¸­çš„å…¬å¼å†™æ³•"><strong>2. åŒæ­¥ä¿®æ”¹ Markdown ä¸­çš„å…¬å¼å†™æ³•</strong></h3><p>ä¿®æ”¹ç•Œå®šç¬¦åï¼Œéœ€åœ¨æ–‡ç« çš„ Markdown ä¸­ä½¿ç”¨æ–°çš„å®šç•Œç¬¦ã€‚ä¾‹å¦‚ï¼š</p><ul><li><p><strong>åŸå†™æ³•</strong>ï¼š<code>$E = mc^2$</code> å’Œ <code>$$\sum_&#123;i=1&#125;^n i$$</code></p></li><li><p><strong>ä¿®æ”¹å</strong>ï¼ˆä½¿ç”¨ <code>\(...\)</code> å’Œ <code>\[...\]</code>ï¼‰ï¼š</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¡Œå†…å…¬å¼ï¼š<span class="keyword">\\</span>(E = mc<span class="built_in">^</span>2<span class="keyword">\\</span>)</span><br><span class="line"></span><br><span class="line">å—çº§å…¬å¼ï¼š</span><br><span class="line"><span class="keyword">\\</span>[</span><br><span class="line"><span class="keyword">\sum</span><span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>n i</span><br><span class="line"><span class="keyword">\\</span>]</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="3-å¤„ç†è½¬ä¹‰é—®é¢˜"><strong>3. å¤„ç†è½¬ä¹‰é—®é¢˜</strong></h3><p>å¦‚æœç•Œå®šç¬¦åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ <code>\</code> æˆ– <code>@</code>ï¼‰ï¼Œéœ€ç¡®ä¿ Markdown æ¸²æŸ“å™¨ä¸ä¼šè½¬ä¹‰å®ƒä»¬ï¼š</p><h4 id="1-åœ¨-Hexo-çš„-config-yml-ä¸­é…ç½®">(1) åœ¨ Hexo çš„ <code>_config.yml</code> ä¸­é…ç½®</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span>      <span class="comment"># å…è®¸ HTML æ ‡ç­¾</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span>   <span class="comment"># å…³é—­è‡ªåŠ¨æ¢è¡Œè½¬æ¢</span></span><br><span class="line">  <span class="attr">linkify:</span> <span class="literal">false</span>  <span class="comment"># å…³é—­è‡ªåŠ¨é“¾æ¥è¯†åˆ«ï¼ˆé¿å… @ è¢«è¯¯è¯†åˆ«ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="2-è½¬ä¹‰åæ–œæ ï¼ˆä»…é™-å’Œ-åœºæ™¯ï¼‰">(2) è½¬ä¹‰åæ–œæ ï¼ˆä»…é™ <code>\(</code> å’Œ <code>\[</code> åœºæ™¯ï¼‰</h4><p>åœ¨ Markdown ä¸­ï¼Œå¦‚æœä½¿ç”¨ <code>\(...\)</code> æˆ– <code>\[...\]</code>ï¼Œéœ€åœ¨å…¬å¼ä¸­å†™åŒåæ–œæ ï¼š</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\\</span>[</span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>a<span class="built_in">^</span>b f(x) dx</span><br><span class="line"><span class="keyword">\\</span>]</span><br></pre></td></tr></table></figure><hr><h3 id="4-æµ‹è¯•ä¿®æ”¹ç»“æœ"><strong>4. æµ‹è¯•ä¿®æ”¹ç»“æœ</strong></h3><ol><li><p>æ¸…ç†ç¼“å­˜å¹¶ç”Ÿæˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨é¢„è§ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥å…¬å¼æ˜¯å¦æŒ‰æ–°ç•Œå®šç¬¦æ¸²æŸ“ï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼š</p><ul><li>ç¡®ä¿æ—  JS æŠ¥é”™ã€‚</li><li>æ£€æŸ¥å…¬å¼æ˜¯å¦è¢«æ­£ç¡®åŒ…è£¹ï¼ˆå¦‚ <code>&lt;span class=&quot;katex&quot;&gt;</code>ï¼‰ã€‚</li></ul></li></ol><hr><h3 id="5-å¸¸è§é—®é¢˜"><strong>5. å¸¸è§é—®é¢˜</strong></h3><h4 id="é—®é¢˜1ï¼šä¿®æ”¹åå…¬å¼æœªæ¸²æŸ“"><strong>é—®é¢˜1ï¼šä¿®æ”¹åå…¬å¼æœªæ¸²æŸ“</strong></h4><ul><li><strong>åŸå› </strong>ï¼šç•Œå®šç¬¦ä¿®æ”¹æœªåŒæ­¥åˆ°æ‰€æœ‰ä½ç½®ï¼ˆå¦‚æ–‡ç« ä¸­çš„å…¬å¼æœªæ”¹ç”¨æ–°ç¬¦å·ï¼‰ã€‚</li><li><strong>è§£å†³</strong>ï¼šå…¨å±€æœç´¢æ—§ç•Œå®šç¬¦ï¼ˆå¦‚ <code>$</code>ï¼‰ï¼Œæ›¿æ¢ä¸ºæ–°çš„ã€‚</li></ul><h4 id="é—®é¢˜2ï¼š-è¢«è½¬ä¹‰ä¸º"><strong>é—®é¢˜2ï¼š<code>\</code> è¢«è½¬ä¹‰ä¸º <code>\\</code></strong></h4><ul><li><p><strong>åŸå› </strong>ï¼šMarkdown æ¸²æŸ“å™¨è‡ªåŠ¨è½¬ä¹‰äº†åæ–œæ ã€‚</p></li><li><p><strong>è§£å†³</strong>ï¼šåœ¨ Hexo é…ç½®ä¸­å…³é—­è½¬ä¹‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">typographer:</span> <span class="literal">false</span>  <span class="comment"># å…³é—­æ™ºèƒ½ç¬¦å·è½¬æ¢</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="é—®é¢˜3ï¼šä¸ä»£ç é«˜äº®å†²çª"><strong>é—®é¢˜3ï¼šä¸ä»£ç é«˜äº®å†²çª</strong></h4><ul><li><strong>ç°è±¡</strong>ï¼š<code>@</code> æˆ– <code>\</code> è¢«ä»£ç è¯­æ³•é«˜äº®å¹²æ‰°ã€‚</li><li><strong>è§£å†³</strong>ï¼šé¿å…ä½¿ç”¨ä¸ä»£ç è¯­æ³•å†²çªçš„ç•Œå®šç¬¦ï¼ˆå¦‚ <code>`</code> æˆ– <code>*</code>ï¼‰ã€‚</li></ul><hr><h3 id="ç¤ºä¾‹é…ç½®"><strong>ç¤ºä¾‹é…ç½®</strong></h3><h4 id="ç›®æ ‡ç•Œå®šç¬¦">ç›®æ ‡ç•Œå®šç¬¦</h4><ul><li>è¡Œå†…å…¬å¼ï¼š<code>\\(...\\)</code></li><li>å—çº§å…¬å¼ï¼š<code>\\[...\\]</code></li></ul><h4 id="ä¿®æ”¹åçš„-footer-æ¨¡æ¿è„šæœ¬">ä¿®æ”¹åçš„ <code>footer</code> æ¨¡æ¿è„šæœ¬</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js&quot;</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">onload</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">    document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">      renderMathInElement(document.body, &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">        delimiters: [</span></span></span><br><span class="line"><span class="string"><span class="tag">          &#123;left: &#x27;\\[&#x27;, right: &#x27;\\]&#x27;, display: true&#125;,</span></span></span><br><span class="line"><span class="string"><span class="tag">          &#123;left: &#x27;\\(&#x27;, right: &#x27;\\)&#x27;, display: false&#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">        ],</span></span></span><br><span class="line"><span class="string"><span class="tag">        throwOnError: false</span></span></span><br><span class="line"><span class="string"><span class="tag">      &#125;);</span></span></span><br><span class="line"><span class="string"><span class="tag">    &#125;);</span></span></span><br><span class="line"><span class="string"><span class="tag">  &quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¯¹åº”çš„-Markdown-å…¬å¼å†™æ³•">å¯¹åº”çš„ Markdown å…¬å¼å†™æ³•</h4><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¡Œå†…å…¬å¼ï¼š<span class="keyword">\\</span>( <span class="keyword">\sqrt</span>&#123;2&#125; <span class="keyword">\approx</span> 1.414 <span class="keyword">\\</span>)</span><br><span class="line"></span><br><span class="line">å—çº§å…¬å¼ï¼š</span><br><span class="line"><span class="keyword">\\</span>[</span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>&#123;-<span class="keyword">\infty</span>&#125;<span class="built_in">^</span><span class="keyword">\infty</span> e<span class="built_in">^</span>&#123;-x<span class="built_in">^</span>2&#125; dx = <span class="keyword">\sqrt</span>&#123;<span class="keyword">\pi</span>&#125;</span><br><span class="line"><span class="keyword">\\</span>]</span><br></pre></td></tr></table></figure><hr><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå³å¯è‡ªå®šä¹‰ KaTeX çš„ç•Œå®šç¬¦ï¼Œè§£å†³ä¸å…¶ä»–è¯­æ³•ï¼ˆå¦‚ Markdown è¡¨æ ¼ã€ä»£ç å—ï¼‰çš„å†²çªé—®é¢˜ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨ Hexo ä¸­ä¿®æ”¹ KaTeX çš„ç•Œå®šç¬¦ï¼ˆå®šç•Œç¬¦ï¼‰&lt;/p&gt;</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ·»åŠ KaTeXæ’ä»¶-é—®é¢˜å¤„ç†</title>
    <link href="https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6-%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86.html"/>
    <id>https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6-%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86.html</id>
    <published>2025-03-07T05:49:29.000Z</published>
    <updated>2025-03-24T11:46:24.876Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚æœæŒ‰ç…§ Hexoæ·»åŠ KaTeXæ’ä»¶ ä»æœªç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯æŸäº›ç¯èŠ‚é…ç½®é”™è¯¯æˆ–å†²çªå¯¼è‡´</p><span id="more"></span><hr><h3 id="1-æ£€æŸ¥å…³é”®ä¾èµ–å®‰è£…"><strong>1. æ£€æŸ¥å…³é”®ä¾èµ–å®‰è£…</strong></h3><p>ç¡®ä¿ä»¥ä¸‹ä¾èµ–å·²æ­£ç¡®å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¡®ä¿æ¸²æŸ“å™¨å’Œæ’ä»¶å­˜åœ¨</span></span><br><span class="line">npm list hexo-renderer-markdown-it</span><br><span class="line">npm list @traptitech/markdown-it-katex</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœæœªå®‰è£…ï¼Œé‡æ–°æ‰§è¡Œï¼š</span></span><br><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it @traptitech/markdown-it-katex --save</span><br></pre></td></tr></table></figure><hr><h3 id="2-ç¡®è®¤-Hexo-å…¨å±€é…ç½®"><strong>2. ç¡®è®¤ Hexo å…¨å±€é…ç½®</strong></h3><p>åœ¨ Hexo æ ¹ç›®å½•çš„ <code>_config.yml</code> ä¸­ï¼Œæ£€æŸ¥ <code>markdown-it</code> çš„é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span>  <span class="comment"># å¿…é¡»å¼€å¯ï¼Œå¦åˆ™å…¬å¼ä¸­çš„ HTML æ ‡ç­¾ä¼šè¢«è½¬ä¹‰</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;@traptitech/markdown-it-katex&quot;</span>  <span class="comment"># ç¡®ä¿æ’ä»¶åç§°æ­£ç¡®</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">&#x27;v&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="3-æ£€æŸ¥-Next-ä¸»é¢˜é…ç½®"><strong>3. æ£€æŸ¥ Next ä¸»é¢˜é…ç½®</strong></h3><p>åœ¨ <code>themes/next/_config.yml</code> ä¸­ï¼Œç¡®ä¿ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­ MathJax å’Œé»˜è®¤çš„æ•°å­¦å…¬å¼æ¸²æŸ“</span></span><br><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">katex:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># å¯ç”¨ KaTeX</span></span><br><span class="line">    <span class="attr">copy_tex:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># å¦‚æœ vendor_css è®¾ä¸º trueï¼Œéœ€æ‰‹åŠ¨æ·»åŠ  CSSï¼ˆä¸å»ºè®®æ–°æ‰‹å¼€å¯ï¼‰</span></span><br><span class="line">    <span class="attr">vendor_css:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><hr><h3 id="4-éªŒè¯èµ„æºåŠ è½½è·¯å¾„"><strong>4. éªŒè¯èµ„æºåŠ è½½è·¯å¾„</strong></h3><h4 id="1-æ£€æŸ¥-CSS-å’Œ-JS-æ˜¯å¦å¼•å…¥">(1) æ£€æŸ¥ CSS å’Œ JS æ˜¯å¦å¼•å…¥</h4><ul><li><p><strong>CSS ä½ç½®</strong>ï¼š<br>æ‰“å¼€ç”Ÿæˆçš„ç½‘é¡µï¼ŒæŒ‰ <code>F12</code> è¿›å…¥å¼€å‘è€…å·¥å…· â†’ <code>Network</code> æ ‡ç­¾ â†’ åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ <code>katex.min.css</code> çš„è¯·æ±‚ã€‚è‹¥æœªåŠ è½½ï¼Œè¯´æ˜ä¸»é¢˜æ¨¡æ¿æœªæ­£ç¡®æ’å…¥ CSSã€‚</p></li><li><p><strong>JS ä½ç½®</strong>ï¼š<br>åŒæ ·æ£€æŸ¥ <code>katex.min.js</code> å’Œ <code>auto-render.min.js</code> æ˜¯å¦åŠ è½½ã€‚å¦‚æœæœªåŠ è½½ï¼Œæ£€æŸ¥ä¸»é¢˜æ¨¡æ¿æ–‡ä»¶çš„ä¿®æ”¹æ˜¯å¦æ­£ç¡®ã€‚</p></li></ul><h4 id="2-ä¿®å¤èµ„æºè·¯å¾„">(2) ä¿®å¤èµ„æºè·¯å¾„</h4><ul><li><p>å¦‚æœä½¿ç”¨çš„æ˜¯æ—§ç‰ˆ Next ä¸»é¢˜ï¼Œæ¨¡æ¿æ–‡ä»¶è·¯å¾„å¯èƒ½æ˜¯ <code>.swig</code> æˆ– <code>.njk</code>ï¼Œç¡®ä¿ä¿®æ”¹äº†æ­£ç¡®çš„æ–‡ä»¶ï¼š</p><ul><li><strong>CSS</strong>ï¼š<code>themes/next/layout/_partials/head/head.njk</code>ï¼ˆæˆ– <code>.swig</code>ï¼‰</li><li><strong>JS</strong>ï¼š<code>themes/next/layout/_partials/footer.njk</code>ï¼ˆæˆ– <code>.swig</code>ï¼‰</li></ul></li><li><p>æ‰‹åŠ¨æŒ‡å®šæœ€æ–°ç‰ˆæœ¬ CDNï¼ˆé¿å…ç¼“å­˜é—®é¢˜ï¼‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- CSS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- JS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-XjKyOOzGykjIg/xn6ACkxIRv6gm2t6/E2lbLU5ZqH7sBE4k1pL5qfhMcJcH4dZnF&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCkM5qKq6gYVvokzNvAQu3fT8KX4l&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">onload</span>=<span class="string">&quot;renderMathInElement(document.body, &#123; delimiters: [&#123;left: &#x27;$$&#x27;, right: &#x27;$$&#x27;, display: true&#125;, &#123;left: &#x27;$&#x27;, right: &#x27;$&#x27;, display: false&#125;] &#125;);&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="5-æ£€æŸ¥æ–‡ç« -Front-matter"><strong>5. æ£€æŸ¥æ–‡ç«  Front-matter</strong></h3><p>åœ¨éœ€è¦æ¸²æŸ“å…¬å¼çš„æ–‡ç« å¤´éƒ¨ï¼Œç¡®ä¿å·²æ·»åŠ  <code>katex: true</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">æµ‹è¯•æ–‡ç« </span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-01-01</span></span><br><span class="line"><span class="attr">katex:</span> <span class="literal">true</span>  <span class="comment"># å¿…é¡»å¼€å¯</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><hr><h3 id="6-å¤„ç†ç‰¹æ®Šç¬¦å·è½¬ä¹‰"><strong>6. å¤„ç†ç‰¹æ®Šç¬¦å·è½¬ä¹‰</strong></h3><p>å¦‚æœå…¬å¼ä¸­çš„ <code>_</code> æˆ– <code>*</code> è¢«é”™è¯¯è½¬ä¹‰ï¼Œéœ€è°ƒæ•´æ¸²æŸ“å™¨é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo æ ¹ç›®å½•çš„ _config.yml</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">quotes:</span> <span class="string">&#x27;â€œâ€â€˜â€™&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="7-æ¸…ç†ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆ"><strong>7. æ¸…ç†ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆ</strong></h3><p>Hexo çš„ç¼“å­˜å¯èƒ½å¯¼è‡´ä¿®æ”¹æœªç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --debug</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆåï¼Œæ£€æŸ¥ <code>public</code> ç›®å½•ä¸‹å¯¹åº”æ–‡ç« çš„ HTML æ–‡ä»¶ï¼š</p><ul><li>æœç´¢ <code>katex.min.css</code> å’Œ <code>katex.min.js</code>ï¼Œç¡®è®¤èµ„æºå·²æ’å…¥ã€‚</li><li>æ£€æŸ¥å…¬å¼æ˜¯å¦è¢«åŒ…è£¹åœ¨ <code>&lt;span class=&quot;katex&quot;&gt;...&lt;/span&gt;</code> ä¸­ã€‚</li></ul><hr><h3 id="8-å¸¸è§é—®é¢˜æ’æŸ¥"><strong>8. å¸¸è§é—®é¢˜æ’æŸ¥</strong></h3><h4 id="1-å…¬å¼è¢«æ¸²æŸ“ä¸ºçº¯æ–‡æœ¬">(1) å…¬å¼è¢«æ¸²æŸ“ä¸ºçº¯æ–‡æœ¬</h4><ul><li><strong>åŸå› </strong>ï¼šKaTeX èµ„æºæœªåŠ è½½æˆ–åˆå§‹åŒ–å¤±è´¥ã€‚</li><li><strong>è§£å†³</strong>ï¼šæŒ‰ <code>F12</code> æ‰“å¼€æ§åˆ¶å°ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ <code>ReferenceError</code> æˆ–èµ„æºåŠ è½½é”™è¯¯ã€‚å¦‚æœå‘ç° <code>renderMathInElement is not defined</code>ï¼Œè¯´æ˜ <code>auto-render.min.js</code> æœªæ­£ç¡®åŠ è½½ã€‚</li></ul><h4 id="2-å…¬å¼æ˜¾ç¤ºé”™ä¹±">(2) å…¬å¼æ˜¾ç¤ºé”™ä¹±</h4><ul><li><p><strong>åŸå› </strong>ï¼š<code>$</code> æˆ– <code>$$</code> å®šç•Œç¬¦è¢«å…¶ä»–æ’ä»¶å¹²æ‰°ã€‚</p></li><li><p><strong>è§£å†³</strong>ï¼šåœ¨ <code>markdown-it</code> é…ç½®ä¸­å¼ºåˆ¶æŒ‡å®šå®šç•Œç¬¦ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo çš„ _config.yml</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;@traptitech/markdown-it-katex&quot;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">delimiters:</span> </span><br><span class="line">          <span class="attr">left:</span> <span class="string">&#x27;$&#x27;</span><span class="string">,</span> <span class="attr">right:</span> <span class="string">&#x27;$&#x27;</span><span class="string">,</span> <span class="attr">display:</span> <span class="literal">false</span></span><br><span class="line">          <span class="attr">left:</span> <span class="string">&#x27;$$&#x27;</span><span class="string">,</span> <span class="attr">right:</span> <span class="string">&#x27;$$&#x27;</span><span class="string">,</span> <span class="attr">display:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="3-ä¸ä»£ç é«˜äº®å†²çª">(3) ä¸ä»£ç é«˜äº®å†²çª</h4><ul><li><strong>åŸå› </strong>ï¼šæŸäº›ä»£ç å—è¯­æ³•ä¸ KaTeX å†²çªã€‚</li><li><strong>è§£å†³</strong>ï¼šåœ¨å…¬å¼å‰åæ·»åŠ ç©ºè¡Œï¼Œé¿å…ä¸å…¶ä»–å†…å®¹ç²˜è¿ã€‚</li></ul><hr><h3 id="9-ç»ˆææµ‹è¯•"><strong>9. ç»ˆææµ‹è¯•</strong></h3><p>åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„æµ‹è¯•æ–‡ç« ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: KaTeX æµ‹è¯•</span><br><span class="line">date: 2023-01-01</span><br><span class="line"><span class="section">katex: true</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">è¡Œå†…å…¬å¼ï¼š$E = mc^2$</span><br><span class="line"></span><br><span class="line">å—çº§å…¬å¼ï¼š</span><br><span class="line">$$ \sum<span class="emphasis">_&#123;i=1&#125;^n i = \frac&#123;n(n+1)&#125;&#123;2&#125; $$</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä»ä¸ç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯ä¸»é¢˜å…¼å®¹æ€§é—®é¢˜ã€‚å°è¯•ï¼š</p><ol><li>æ›´æ–° Next ä¸»é¢˜åˆ°æœ€æ–°ç‰ˆã€‚</li><li>æ¢ç”¨å…¶ä»– KaTeX é›†æˆæ–¹æ¡ˆï¼ˆå¦‚ <a href="https://github.com/next-theme/hexo-filter-mathjax">hexo-filter-mathjax</a>ï¼‰ã€‚</li></ol><hr><p>æŒ‰ä»¥ä¸Šæ­¥éª¤é€ä¸€æ’æŸ¥ï¼Œå¯è§£å†³ 99% çš„ KaTeX æœªç”Ÿæ•ˆé—®é¢˜ã€‚å¦‚æœé—®é¢˜ä¾æ—§ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ol><li>æµè§ˆå™¨æ§åˆ¶å°æˆªå›¾ï¼ˆNetwork å’Œ Console æ ‡ç­¾ï¼‰ã€‚</li><li>æµ‹è¯•æ–‡ç« çš„ç”Ÿæˆåçš„ HTML ç‰‡æ®µã€‚</li><li>Hexo å’Œ Next ä¸»é¢˜çš„ç‰ˆæœ¬å·ã€‚</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¦‚æœæŒ‰ç…§ Hexoæ·»åŠ KaTeXæ’ä»¶ ä»æœªç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯æŸäº›ç¯èŠ‚é…ç½®é”™è¯¯æˆ–å†²çªå¯¼è‡´&lt;/p&gt;</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ·»åŠ KaTeXæ’ä»¶</title>
    <link href="https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6.html"/>
    <id>https://silencejql.github.io/Hexo%E6%B7%BB%E5%8A%A0KaTeX%E6%8F%92%E4%BB%B6.html</id>
    <published>2025-03-07T05:46:30.000Z</published>
    <updated>2025-03-24T11:46:33.780Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Hexo çš„ Next ä¸»é¢˜ä¸­é›†æˆ KaTeX æ•°å­¦å…¬å¼æ¸²æŸ“</p><span id="more"></span><hr><h3 id="1-æ›´æ¢-Markdown-æ¸²æŸ“å™¨">1. <strong>æ›´æ¢ Markdown æ¸²æŸ“å™¨</strong></h3><p>Hexo é»˜è®¤çš„æ¸²æŸ“å™¨å¯èƒ½ä¸æ”¯æŒ KaTeXï¼Œéœ€æ›´æ¢ä¸ºå…¼å®¹çš„æ¸²æŸ“å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save  <span class="comment"># å¸è½½é»˜è®¤æ¸²æŸ“å™¨</span></span><br><span class="line">npm i hexo-renderer-markdown-it --save  <span class="comment"># å®‰è£… markdown-it æ¸²æŸ“å™¨</span></span><br><span class="line">npm install @traptitech/markdown-it-katex --save  <span class="comment"># å®‰è£… KaTeX æ’ä»¶</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-é…ç½®-markdown-it">2. <strong>é…ç½® <code>markdown-it</code></strong></h3><p>åœ¨ Hexo æ ¹ç›®å½•çš„ <code>_config.yml</code> ä¸­æ·»åŠ é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;@traptitech/markdown-it-katex&quot;</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">&#x27;v&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="3-ä¿®æ”¹-Next-ä¸»é¢˜é…ç½®">3. <strong>ä¿®æ”¹ Next ä¸»é¢˜é…ç½®</strong></h3><p>åœ¨ Next ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ (<code>themes/next/_config.yml</code>) ä¸­ï¼š</p><ul><li><p><strong>å…³é—­ MathJax</strong>ï¼ˆé¿å…å†²çªï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p><strong>å¯ç”¨ KaTeX</strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copy_tex:</span> <span class="literal">true</span>  <span class="comment"># å…è®¸å¤åˆ¶å…¬å¼ä»£ç </span></span><br><span class="line">  <span class="attr">vendor_css:</span> <span class="literal">false</span>  <span class="comment"># å¦‚æœæ‰‹åŠ¨åŠ è½½ CSS å¯è®¾ä¸º true</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="4-å¼•å…¥-KaTeX-èµ„æº">4. <strong>å¼•å…¥ KaTeX èµ„æº</strong></h3><p>åœ¨ä¸»é¢˜å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ  KaTeX çš„ CSS å’Œ JSï¼š</p><ul><li><p>ç¼–è¾‘ <code>themes/next/layout/_partials/head/head.swig</code>ï¼Œåœ¨ <code>&lt;head&gt;</code> å†…æ·»åŠ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.katex.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css&quot;</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç¼–è¾‘ <code>themes/next/layout/_partials/footer.njk</code>ï¼ˆæˆ–ç±»ä¼¼æ–‡ä»¶ï¼‰ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.katex.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">onload</span>=<span class="string">&quot;renderMathInElement(document.body, &#123; delimiters: [&#123;left: &#x27;$$&#x27;, right: &#x27;$$&#x27;, display: true&#125;, &#123;left: &#x27;$&#x27;, right: &#x27;$&#x27;, display: false&#125;] &#125;);&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="5-æ–‡ç« å¯ç”¨-KaTeX">5. <strong>æ–‡ç« å¯ç”¨ KaTeX</strong></h3><p>åœ¨æ–‡ç« çš„ Front-matter ä¸­æ·»åŠ  <code>katex: true</code>ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æµ‹è¯•æ–‡ç« </span><br><span class="line">date: 2023-01-01</span><br><span class="line"><span class="section">katex: true</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">è¡Œå†…å…¬å¼ï¼š$E = mc^2$</span><br><span class="line"></span><br><span class="line">å—çº§å…¬å¼ï¼š</span><br><span class="line">$$ \sum<span class="emphasis">_&#123;i=1&#125;^n i = \frac&#123;n(n+1)&#125;&#123;2&#125; $$</span></span><br></pre></td></tr></table></figure><hr><h3 id="6-å¤„ç†ç‰¹æ®Šç¬¦å·è½¬ä¹‰">6. <strong>å¤„ç†ç‰¹æ®Šç¬¦å·è½¬ä¹‰</strong></h3><p>è‹¥å…¬å¼ä¸­çš„ <code>_</code> è¢«è½¬ä¹‰ï¼Œéœ€è°ƒæ•´æ¸²æŸ“å™¨é…ç½®ã€‚åœ¨ Hexo çš„ <code>_config.yml</code> ä¸­ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">html:</span> <span class="literal">true</span>  <span class="comment"># å…è®¸ HTML æ ‡ç­¾</span></span><br><span class="line">  <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">quotes:</span> <span class="string">&#x27;â€œâ€â€˜â€™&#x27;</span></span><br></pre></td></tr></table></figure><hr><h3 id="7-æµ‹è¯•ä¸æ¸…ç†ç¼“å­˜">7. <strong>æµ‹è¯•ä¸æ¸…ç†ç¼“å­˜</strong></h3><p>ç”Ÿæˆå¹¶é¢„è§ˆæ•ˆæœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate --debug &amp;&amp; hexo server</span><br></pre></td></tr></table></figure><p>è®¿é—® <code>http://localhost:4000</code> æŸ¥çœ‹å…¬å¼æ˜¯å¦æ­£ç¡®æ¸²æŸ“ã€‚</p><hr><h3 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h3><ul><li><strong>å…¬å¼æœªæ¸²æŸ“</strong>ï¼šæ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰èµ„æºåŠ è½½é”™è¯¯ï¼Œç¡®è®¤ CDN é“¾æ¥æœ‰æ•ˆã€‚</li><li><strong>ç¬¦å·é”™ä½</strong>ï¼šç¡®ä¿æ²¡æœ‰å¤šä½™çš„è½¬ä¹‰å­—ç¬¦ï¼Œä½¿ç”¨ <code>\\</code> ä»£æ›¿ <code>\</code>ã€‚</li><li><strong>ä¸»é¢˜ç‰ˆæœ¬å·®å¼‚</strong>ï¼šä¸åŒ Next ç‰ˆæœ¬é…ç½®é¡¹å¯èƒ½ä¸åŒï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£è°ƒæ•´ã€‚</li></ul><p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œå³å¯åœ¨ Hexo åšå®¢ä¸­ä½¿ç”¨ KaTeX æ¸²æŸ“æ•°å­¦å…¬å¼ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨ Hexo çš„ Next ä¸»é¢˜ä¸­é›†æˆ KaTeX æ•°å­¦å…¬å¼æ¸²æŸ“&lt;/p&gt;</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="Hexo" scheme="https://silencejql.github.io/tags/Hexo/"/>
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>Katex Test</title>
    <link href="https://silencejql.github.io/Katex-Test.html"/>
    <id>https://silencejql.github.io/Katex-Test.html</id>
    <published>2025-03-07T03:34:34.000Z</published>
    <updated>2025-03-07T12:09:12.108Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><p>è¡Œå†…å…¬å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>E</mi><mo>=</mo><mi>m</mi><msup><mi>c</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(E = mc^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>å—çº§å…¬å¼ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>i</mi><mo>=</mo><mfrac><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\sum_{i=1}^n i = \frac{n(n+1)}{2} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>K</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>f</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>c</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>f</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>c</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">K = \begin{bmatrix}f_x &amp; 0 &amp; c_x \\0 &amp; f_y &amp; c_y \\0 &amp; 0 &amp; 1\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>]]></content>
    
    
    <summary type="html">æµ‹è¯•Hexo Nextä¸­æ·»åŠ KaTeXæ’ä»¶æ•ˆæœ</summary>
    
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/categories/KaTeX/"/>
    
    
    <category term="KaTeX" scheme="https://silencejql.github.io/tags/KaTeX/"/>
    
  </entry>
  
  <entry>
    <title>ç‰¹æ€§ä½¿ç”¨ç¤ºä¾‹-1</title>
    <link href="https://silencejql.github.io/%E7%89%B9%E6%80%A7%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-1.html"/>
    <id>https://silencejql.github.io/%E7%89%B9%E6%80%A7%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-1.html</id>
    <published>2025-03-06T02:19:29.000Z</published>
    <updated>2025-03-24T11:47:21.956Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°iniæ–‡ä»¶çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</p><span id="more"></span><h2 id="ååºåˆ—åŒ–">ååºåˆ—åŒ–</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> KeyName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniAttribute</span>(<span class="params"><span class="built_in">string</span> keyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        KeyName = keyName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Result</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Ini(<span class="string">&quot;é•¿(mm)&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> length;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Ini(<span class="string">&quot;å®½(mm)&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> width;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Ini(<span class="string">&quot;é«˜(mm)&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IniFile iniFile = <span class="keyword">new</span> IniFile(<span class="string">&quot;D:\\Test.ini&quot;</span>);</span><br><span class="line"><span class="comment">//è¯»å–iniæ–‡ä»¶é”®å€¼å¯¹</span></span><br><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; resultDic = iniFile.ReadKeyValues(<span class="string">&quot;Test&quot;</span>);</span><br><span class="line">Result result = <span class="keyword">new</span> Result();</span><br><span class="line"><span class="comment">//è·å–æ‰€æœ‰å­—æ®µ</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> result.GetType().GetFields())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//è·å–å­—æ®µçš„ç‰¹æ€§</span></span><br><span class="line">    <span class="keyword">var</span> att = field.GetCustomAttributes(<span class="keyword">typeof</span>(IniAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniAttribute;</span><br><span class="line">    <span class="keyword">if</span>(att != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ç‰¹æ€§KeyNameä¸iniä¸­keyåŒ¹é…åˆ™ç»™å¯¹åº”å­—æ®µèµ‹å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(resultDic.ContainsKey(att.KeyName))</span><br><span class="line">        &#123;</span><br><span class="line">            Type type = field.FieldType;</span><br><span class="line">            <span class="keyword">if</span>(type == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">                field.SetValue(result, resultDic[att.KeyName]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                field.SetValue(result, Convert.ChangeType(resultDic[att.KeyName], type));</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è·å–æ‰€æœ‰å±æ€§</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> result.GetType().GetProperties())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> att = prop.GetCustomAttributes(<span class="keyword">typeof</span>(IniAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniAttribute;</span><br><span class="line">    <span class="keyword">if</span>(att != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (resultDic.ContainsKey(att.KeyName))</span><br><span class="line">            prop.SetValue(result, resultDic[att.KeyName], <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿›é˜¶">è¿›é˜¶</h3><p>è§£æå¤šä¸ªSession</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">IniFile iniFile = <span class="keyword">new</span> IniFile(<span class="string">&quot;D:\\Test.ini&quot;</span>);</span><br><span class="line">Dictionary&lt;<span class="built_in">string</span>, Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&gt; iniResultDic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&gt;();</span><br><span class="line">TestResult testResult = <span class="keyword">new</span> TestResult();</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> fieldClass <span class="keyword">in</span> testResult.GetType().GetFields())</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è·å–ç‰¹æ€§ä½œä¸ºSession</span></span><br><span class="line">    <span class="keyword">var</span> attClass = fieldClass.GetCustomAttributes(<span class="keyword">typeof</span>(IniSessionAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniSessionAttribute;</span><br><span class="line">    <span class="keyword">if</span>(attClass != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å­˜å‚¨è¯¥Sessionä¸‹çš„Key Value</span></span><br><span class="line">        Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; resultDic = iniFile.ReadKeyValues(attClass.SessionName);</span><br><span class="line">        <span class="keyword">var</span> obj = fieldClass.GetValue(testResult);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> fieldClass.FieldType.GetFields())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è·å–åŒ…å«IniKeyç‰¹æ€§çš„å­—æ®µ</span></span><br><span class="line">            <span class="keyword">var</span> att = field.GetCustomAttributes(<span class="keyword">typeof</span>(IniKeyAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniKeyAttribute;</span><br><span class="line">            <span class="keyword">if</span> (att != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (resultDic.ContainsKey(att.KeyName))</span><br><span class="line">                &#123;</span><br><span class="line">                    Type type = field.FieldType;</span><br><span class="line">                    <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">                        field.SetValue(obj, resultDic[att.KeyName]);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        field.SetValue(obj, Convert.ChangeType(resultDic[att.KeyName], type));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        iniResultDic.Add(attClass.SessionName, resultDic);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestResult</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">IniSession(<span class="string">&quot;Result&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> Result result = <span class="keyword">new</span> Result();</span><br><span class="line">    [<span class="meta">IniSession(<span class="string">&quot;Info&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> Info info = <span class="keyword">new</span> Info();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Result</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;é•¿(mm)&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> length;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;å®½(mm)&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> width;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;é«˜(mm)&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> height;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Info</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;ID&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> ID;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;ç»“æœ&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniKeyAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> KeyName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniKeyAttribute</span>(<span class="params"><span class="built_in">string</span> keyName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        KeyName = keyName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniSessionAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> SessionName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniSessionAttribute</span>(<span class="params"><span class="built_in">string</span> sessionName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        SessionName = sessionName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å°è£…">å°è£…</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">Deserialize</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    IniFile iniFile = <span class="keyword">new</span> IniFile(path);</span><br><span class="line">    T testResult = (T)Activator.CreateInstance(<span class="keyword">typeof</span>(T));</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> fieldClass <span class="keyword">in</span> testResult.GetType().GetFields())</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–ç‰¹æ€§ä½œä¸ºSession</span></span><br><span class="line">        <span class="keyword">var</span> attClass = fieldClass.GetCustomAttributes(<span class="keyword">typeof</span>(IniSessionAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniSessionAttribute;</span><br><span class="line">        <span class="keyword">if</span> (attClass != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å­˜å‚¨è¯¥Sessionä¸‹çš„Key Value</span></span><br><span class="line">            Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; resultDic = iniFile.ReadKeyValues(attClass.SessionName);</span><br><span class="line">            <span class="keyword">var</span> obj = fieldClass.GetValue(testResult);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> fieldClass.FieldType.GetFields())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//è·å–åŒ…å«IniKeyç‰¹æ€§çš„å­—æ®µ</span></span><br><span class="line">                <span class="keyword">var</span> att = field.GetCustomAttributes(<span class="keyword">typeof</span>(IniKeyAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniKeyAttribute;</span><br><span class="line">                <span class="keyword">if</span> (att != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (resultDic.ContainsKey(att.KeyName))</span><br><span class="line">                    &#123;</span><br><span class="line">                        Type type = field.FieldType;</span><br><span class="line">                        <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">                            field.SetValue(obj, resultDic[att.KeyName]);</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            field.SetValue(obj, Convert.ChangeType(resultDic[att.KeyName], type));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> testResult;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åºåˆ—åŒ–">åºåˆ—åŒ–</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">IniFile iniFile = <span class="keyword">new</span> IniFile(<span class="string">&quot;D:\\Test1.ini&quot;</span>);</span><br><span class="line">Result result = <span class="keyword">new</span> Result();</span><br><span class="line">result.width = <span class="number">235</span>;</span><br><span class="line">StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">sb.AppendLine(<span class="string">&quot;[SessionName]&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> result.GetType().GetFields())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> att = field.GetCustomAttributes(<span class="keyword">typeof</span>(IniAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniAttribute;</span><br><span class="line">    <span class="keyword">if</span> (att != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span> o = field.GetValue(result);</span><br><span class="line">        <span class="keyword">if</span> (o != <span class="literal">null</span>) &#123;</span><br><span class="line">            sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125;=&#123;1&#125;&quot;</span>, att.KeyName, o.ToString())); &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125;=&#123;1&#125;&quot;</span>, att.KeyName, <span class="string">&quot;&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">File.WriteAllText(<span class="string">&quot;D:\\Test1.ini&quot;</span>, sb.ToString());</span><br></pre></td></tr></table></figure><h3 id="è¿›é˜¶-v2">è¿›é˜¶</h3><p>åºåˆ—åŒ–å¤šä¸ªSession</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">TestResult testResult = <span class="keyword">new</span> TestResult();</span><br><span class="line">testResult.info.ID = <span class="number">235</span>;</span><br><span class="line">testResult.info.result = <span class="string">&quot;ä¸åˆæ ¼&quot;</span>;</span><br><span class="line">testResult.result.length = <span class="number">0</span>;</span><br><span class="line">testResult.result.width = <span class="number">1</span>;</span><br><span class="line">testResult.result.height = <span class="string">&quot;&quot;</span>;</span><br><span class="line">StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> fieldClass <span class="keyword">in</span> testResult.GetType().GetFields())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//è·å–ç‰¹æ€§ä½œä¸ºSession</span></span><br><span class="line">    <span class="keyword">var</span> attClass = fieldClass.GetCustomAttributes(<span class="keyword">typeof</span>(IniSessionAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniSessionAttribute;</span><br><span class="line">    <span class="keyword">if</span> (fieldClass != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;[&#123;0&#125;]&quot;</span>, attClass.SessionName));</span><br><span class="line">        <span class="keyword">var</span> obj = fieldClass.GetValue(testResult);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> fieldClass.FieldType.GetFields())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è·å–åŒ…å«IniKeyç‰¹æ€§çš„å­—æ®µ</span></span><br><span class="line">            <span class="keyword">var</span> att = field.GetCustomAttributes(<span class="keyword">typeof</span>(IniKeyAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniKeyAttribute;</span><br><span class="line">            <span class="keyword">if</span> (att != <span class="literal">null</span>)</span><br><span class="line">                sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125;=&#123;1&#125;&quot;</span>, att.KeyName, field.GetValue(obj)));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125;=&#123;1&#125;&quot;</span>, att.KeyName, <span class="string">&quot;&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">File.WriteAllText(<span class="string">&quot;D:\\Test1.ini&quot;</span>, sb.ToString());</span><br></pre></td></tr></table></figure><h3 id="å°è£…-v2">å°è£…</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Serialize</span>&lt;<span class="title">T</span>&gt;(<span class="params">T testResult</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> fieldClass <span class="keyword">in</span> testResult.GetType().GetFields())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è·å–ç‰¹æ€§ä½œä¸ºSession</span></span><br><span class="line">        <span class="keyword">var</span> attClass = fieldClass.GetCustomAttributes(<span class="keyword">typeof</span>(IniSessionAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniSessionAttribute;</span><br><span class="line">        <span class="keyword">if</span> (fieldClass != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;[&#123;0&#125;]&quot;</span>, attClass.SessionName));</span><br><span class="line">            <span class="keyword">var</span> obj = fieldClass.GetValue(testResult);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> fieldClass.FieldType.GetFields())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//è·å–åŒ…å«IniKeyç‰¹æ€§çš„å­—æ®µ</span></span><br><span class="line">                <span class="keyword">var</span> att = field.GetCustomAttributes(<span class="keyword">typeof</span>(IniKeyAttribute), <span class="literal">true</span>)[<span class="number">0</span>] <span class="keyword">as</span> IniKeyAttribute;</span><br><span class="line">                <span class="keyword">if</span> (att != <span class="literal">null</span>)</span><br><span class="line">                    sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125;=&#123;1&#125;&quot;</span>, att.KeyName, field.GetValue(obj)));</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    sb.AppendLine(<span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125;=&#123;1&#125;&quot;</span>, att.KeyName, <span class="string">&quot;&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">å®ç°iniæ–‡ä»¶çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="ç‰¹æ€§" scheme="https://silencejql.github.io/tags/%E7%89%B9%E6%80%A7/"/>
    
    <category term="åå°„" scheme="https://silencejql.github.io/tags/%E5%8F%8D%E5%B0%84/"/>
    
  </entry>
  
  <entry>
    <title>CSharpè¯»å†™Iniæ–‡ä»¶</title>
    <link href="https://silencejql.github.io/CSharp%E8%AF%BB%E5%86%99Ini%E6%96%87%E4%BB%B6.html"/>
    <id>https://silencejql.github.io/CSharp%E8%AF%BB%E5%86%99Ini%E6%96%87%E4%BB%B6.html</id>
    <published>2025-03-06T02:16:12.000Z</published>
    <updated>2025-03-25T03:26:27.113Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ªç”¨</p><span id="more"></span><h2 id="ä»£ç ">ä»£ç </h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniFile</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">System.Runtime.InteropServices.DllImport(<span class="string">&quot;kernel32&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">long</span> <span class="title">WritePrivateProfileString</span>(<span class="params"><span class="built_in">byte</span>[] section, <span class="built_in">byte</span>[] key, <span class="built_in">byte</span>[] val, <span class="built_in">string</span> filePath</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">System.Runtime.InteropServices.DllImport(<span class="string">&quot;kernel32&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">int</span> <span class="title">GetPrivateProfileString</span>(<span class="params"><span class="built_in">byte</span>[] section, <span class="built_in">byte</span>[] key, <span class="built_in">byte</span>[] def, System.Text.StringBuilder retVal, <span class="built_in">int</span> size, <span class="built_in">string</span> filePath</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">System.Runtime.InteropServices.DllImport(<span class="string">&quot;kernel32&quot;</span>, EntryPoint = <span class="string">&quot;GetPrivateProfileString&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">uint</span> <span class="title">GetPrivateProfileString2</span>(<span class="params"><span class="built_in">byte</span>[] section, <span class="built_in">byte</span>[] key, <span class="built_in">byte</span>[] def, <span class="built_in">byte</span>[] retVal, <span class="built_in">int</span> size, <span class="built_in">string</span> filePath</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> sPath = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniFile</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.sPath = path;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// section=é…ç½®èŠ‚ï¼Œkey=é”®åï¼Œvalue=é”®å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">WriteIni</span>(<span class="params"><span class="built_in">string</span> section, <span class="built_in">string</span> key, <span class="built_in">string</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        WritePrivateProfileString(GetBytes(section), GetBytes(key), GetBytes(<span class="keyword">value</span>), sPath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">WriteIni</span>(<span class="params"><span class="built_in">string</span> section, <span class="built_in">string</span> key, <span class="built_in">string</span> <span class="keyword">value</span>, <span class="built_in">string</span> sPath</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        WritePrivateProfileString(GetBytes(section), GetBytes(key), GetBytes(<span class="keyword">value</span>), sPath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// section=é…ç½®èŠ‚ï¼Œkey=é”®å</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">ReadIni</span>(<span class="params"><span class="built_in">string</span> section, <span class="built_in">string</span> key, <span class="built_in">string</span> sPath</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.Text.StringBuilder temp = <span class="keyword">new</span> System.Text.StringBuilder(<span class="number">255</span>);</span><br><span class="line">        GetPrivateProfileString(GetBytes(section), GetBytes(key), GetBytes(<span class="string">&quot;&quot;</span>), temp, <span class="number">255</span>, sPath);</span><br><span class="line">        <span class="comment">//return temp.ToString();</span></span><br><span class="line">        <span class="keyword">return</span> Encoding.UTF8.GetString(Encoding.Default.GetBytes(temp.ToString()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">ReadIni</span>(<span class="params"><span class="built_in">string</span> section, <span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.Text.StringBuilder temp = <span class="keyword">new</span> System.Text.StringBuilder(<span class="number">255</span>);</span><br><span class="line">        GetPrivateProfileString(GetBytes(section), GetBytes(key), GetBytes(<span class="string">&quot;&quot;</span>), temp, <span class="number">255</span>, sPath);</span><br><span class="line">        <span class="comment">//return temp.ToString();</span></span><br><span class="line">        <span class="keyword">return</span> Encoding.UTF8.GetString(Encoding.Default.GetBytes(temp.ToString()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GreatIni</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!File.Exists(path))</span><br><span class="line">        &#123;</span><br><span class="line">            FileStream FS = <span class="keyword">new</span> FileStream(path, FileMode.CreateNew);</span><br><span class="line">            FS.Close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">byte</span>[] <span class="title">GetBytes</span>(<span class="params"><span class="built_in">string</span> str, <span class="built_in">string</span> encodingName = <span class="string">&quot;utf-8&quot;</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> str == <span class="literal">null</span> ? <span class="literal">null</span> : Encoding.GetEncoding(encodingName).GetBytes(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt; <span class="title">ReadSections</span>(<span class="params"><span class="built_in">string</span> iniFilename</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        List&lt;<span class="built_in">string</span>&gt; result = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">        Byte[] buf = <span class="keyword">new</span> Byte[<span class="number">65536</span>];</span><br><span class="line">        <span class="built_in">uint</span> len = GetPrivateProfileString2(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, buf, buf.Length, iniFilename);</span><br><span class="line">        <span class="built_in">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">            <span class="keyword">if</span> (buf[i] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                result.Add(Encoding.UTF8.GetString(buf, j, i - j));</span><br><span class="line">                j = i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt; <span class="title">ReadKeys</span>(<span class="params"><span class="built_in">string</span> SectionName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        List&lt;<span class="built_in">string</span>&gt; result = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">        Byte[] buf = <span class="keyword">new</span> Byte[<span class="number">65536</span>];</span><br><span class="line">        <span class="built_in">uint</span> len = GetPrivateProfileString2(GetBytes(SectionName), <span class="literal">null</span>, <span class="literal">null</span>, buf, buf.Length, sPath);</span><br><span class="line">        <span class="built_in">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">            <span class="keyword">if</span> (buf[i] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                result.Add(Encoding.UTF8.GetString(buf, j, i - j));</span><br><span class="line">                j = i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; <span class="title">ReadKeyValues</span>(<span class="params"><span class="built_in">string</span> SectionName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; keyValues = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line">        List&lt;<span class="built_in">string</span>&gt; keys = ReadKeys(SectionName);</span><br><span class="line">        keys.ForEach((key) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            keyValues.Add(key, ReadIni(SectionName, key));</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> keyValues;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;è‡ªç”¨&lt;/p&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="Ini" scheme="https://silencejql.github.io/tags/Ini/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨åå°„ç»™å­—æ®µèµ‹å€¼</title>
    <link href="https://silencejql.github.io/%E5%88%A9%E7%94%A8%E5%8F%8D%E5%B0%84%E7%BB%99%E5%AD%97%E6%AE%B5%E8%B5%8B%E5%80%BC.html"/>
    <id>https://silencejql.github.io/%E5%88%A9%E7%94%A8%E5%8F%8D%E5%B0%84%E7%BB%99%E5%AD%97%E6%AE%B5%E8%B5%8B%E5%80%BC.html</id>
    <published>2025-03-05T10:41:27.000Z</published>
    <updated>2025-03-24T11:47:02.074Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ C# ä¸­é€šè¿‡åå°„ç»™å­—æ®µèµ‹å€¼æ˜¯ä¸€ç§åŠ¨æ€æ“ä½œå¯¹è±¡æˆå‘˜çš„å¸¸ç”¨æ–¹æ³•ï¼Œå°¤å…¶é€‚ç”¨äºéœ€è¦ç»•è¿‡ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥çš„åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®ç°æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼š</p><span id="more"></span><hr><h3 id="åå°„èµ‹å€¼çš„æ ¸å¿ƒæ­¥éª¤"><strong>åå°„èµ‹å€¼çš„æ ¸å¿ƒæ­¥éª¤</strong></h3><ol><li><strong>è·å–ç±»å‹ä¿¡æ¯</strong>ï¼šé€šè¿‡ <code>Type</code> ç±»è·å–ç›®æ ‡å¯¹è±¡çš„ç±»å‹å…ƒæ•°æ®ã€‚</li><li><strong>è·å–å­—æ®µä¿¡æ¯</strong>ï¼šé€šè¿‡ <code>GetField</code> æˆ– <code>GetFields</code> æ–¹æ³•è·å–ç›®æ ‡å­—æ®µã€‚</li><li><strong>è®¾ç½®å­—æ®µå€¼</strong>ï¼šä½¿ç”¨ <code>FieldInfo.SetValue</code> æ–¹æ³•ä¸ºå­—æ®µèµ‹å€¼ã€‚</li><li><strong>å¤„ç†ç±»å‹è½¬æ¢</strong>ï¼šç¡®ä¿è¾“å…¥å€¼ä¸å­—æ®µç±»å‹å…¼å®¹ï¼ˆå¯èƒ½éœ€è¦ç±»å‹è½¬æ¢ï¼‰ã€‚</li></ol><hr><h3 id="å®Œæ•´ä»£ç å®ç°"><strong>å®Œæ•´ä»£ç å®ç°</strong></h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> Age;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> Country = <span class="string">&quot;China&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ReflectionDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 1. åˆ›å»ºå¯¹è±¡å®ä¾‹</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è·å–ç±»å‹ä¿¡æ¯</span></span><br><span class="line">        Type type = <span class="keyword">typeof</span>(Person);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. è®¾ç½®å…¬å…±å­—æ®µ</span></span><br><span class="line">        FieldInfo nameField = type.GetField(<span class="string">&quot;Name&quot;</span>);</span><br><span class="line">        nameField.SetValue(person, <span class="string">&quot;Alice&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Name: <span class="subst">&#123;person.Name&#125;</span>&quot;</span>); <span class="comment">// è¾“å‡º: Alice</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. è®¾ç½®ç§æœ‰å­—æ®µï¼ˆéœ€è¦ BindingFlagsï¼‰</span></span><br><span class="line">        FieldInfo ageField = type.GetField(<span class="string">&quot;Age&quot;</span>, BindingFlags.NonPublic | BindingFlags.Instance);</span><br><span class="line">        ageField.SetValue(person, <span class="number">30</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Age: <span class="subst">&#123;ageField.GetValue(person)&#125;</span>&quot;</span>); <span class="comment">// è¾“å‡º: 30</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. è®¾ç½®é™æ€å­—æ®µ</span></span><br><span class="line">        FieldInfo countryField = type.GetField(<span class="string">&quot;Country&quot;</span>, BindingFlags.Public | BindingFlags.Static);</span><br><span class="line">        countryField.SetValue(<span class="literal">null</span>, <span class="string">&quot;USA&quot;</span>); <span class="comment">// é™æ€å­—æ®µå®ä¾‹å‚æ•°ä¼  null</span></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Country: <span class="subst">&#123;Person.Country&#125;</span>&quot;</span>); <span class="comment">// è¾“å‡º: USA</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. åŠ¨æ€ç±»å‹è½¬æ¢ç¤ºä¾‹</span></span><br><span class="line">        <span class="built_in">string</span> inputValue = <span class="string">&quot;42&quot;</span>;</span><br><span class="line">        FieldInfo dynamicField = type.GetField(<span class="string">&quot;Age&quot;</span>, BindingFlags.NonPublic | BindingFlags.Instance);</span><br><span class="line">        dynamicField.SetValue(person, Convert.ChangeType(inputValue, <span class="keyword">typeof</span>(<span class="built_in">int</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å…³é”®æ³¨æ„äº‹é¡¹"><strong>å…³é”®æ³¨æ„äº‹é¡¹</strong></h3><ol><li><p><strong>å­—æ®µå¯è§æ€§</strong>ï¼š</p><ul><li><p>å…¬å…±å­—æ®µç›´æ¥ä½¿ç”¨ <code>GetField(&quot;Name&quot;)</code>ã€‚</p></li><li><p>ç§æœ‰å­—æ®µéœ€è¦æŒ‡å®š <code>BindingFlags</code>ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BindingFlags.NonPublic | BindingFlags.Instance</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>é™æ€å­—æ®µ</strong>ï¼š</p><ul><li><p>è®¾ç½®é™æ€å­—æ®µæ—¶ï¼Œ<code>SetValue</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼  <code>null</code>ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">countryField.SetValue(<span class="literal">null</span>, <span class="string">&quot;USA&quot;</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>ç±»å‹è½¬æ¢</strong>ï¼š</p><ul><li><p>å¦‚æœå­—æ®µç±»å‹ä¸è¾“å…¥å€¼ç±»å‹ä¸åŒ¹é…ï¼Œéœ€æ‰‹åŠ¨è½¬æ¢ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Convert.ChangeType(<span class="keyword">value</span>, targetType);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p><ul><li><p>åå°„æ“ä½œè¾ƒæ…¢ï¼Œé¢‘ç¹è°ƒç”¨æ—¶å¯ç¼“å­˜ <code>FieldInfo</code> å¯¹è±¡ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> FieldInfo _cachedAgeField = <span class="keyword">typeof</span>(Person).GetField(...);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>å®‰å…¨æ€§</strong>ï¼š</p><ul><li>ä¿®æ”¹ç§æœ‰å­—æ®µå¯èƒ½ç ´åå°è£…æ€§ï¼Œéœ€è°¨æ…ä½¿ç”¨ã€‚</li><li>å¯é€šè¿‡ <code>fieldInfo.IsInitOnly</code> æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºåªè¯»ã€‚</li></ul></li></ol><hr><h3 id="é«˜çº§ç”¨æ³•ï¼šæ³›å‹æ‰©å±•æ–¹æ³•"><strong>é«˜çº§ç”¨æ³•ï¼šæ³›å‹æ‰©å±•æ–¹æ³•</strong></h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ReflectionExtensions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetFieldValue</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="keyword">this</span> T obj, <span class="built_in">string</span> fieldName, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        FieldInfo field = <span class="keyword">typeof</span>(T).GetField(</span><br><span class="line">            fieldName,</span><br><span class="line">            BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (field != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            field.SetValue(obj, <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">$&quot;Field <span class="subst">&#123;fieldName&#125;</span> not found&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line">Person person = <span class="keyword">new</span> Person();</span><br><span class="line">person.SetFieldValue(<span class="string">&quot;Age&quot;</span>, <span class="number">25</span>); <span class="comment">// ç›´æ¥é€šè¿‡æ‰©å±•æ–¹æ³•èµ‹å€¼</span></span><br></pre></td></tr></table></figure><hr><h3 id="é€‚ç”¨åœºæ™¯"><strong>é€‚ç”¨åœºæ™¯</strong></h3><ol><li>åŠ¨æ€é…ç½®åŠ è½½ï¼ˆå¦‚å°† JSON/XML æ•°æ®æ˜ å°„åˆ°å¯¹è±¡ï¼‰ã€‚</li><li>å®ç°é€šç”¨åºåˆ—åŒ–/ååºåˆ—åŒ–å·¥å…·ã€‚</li><li>ç¼–å†™æµ‹è¯•æ¡†æ¶æ—¶åŠ¨æ€ä¿®æ”¹å¯¹è±¡çŠ¶æ€ã€‚</li><li>ä¾èµ–æ³¨å…¥å®¹å™¨ç­‰åº•å±‚æ¡†æ¶å¼€å‘ã€‚</li></ol><hr><h3 id="æ›¿ä»£æ–¹æ¡ˆ"><strong>æ›¿ä»£æ–¹æ¡ˆ</strong></h3><ul><li><p><strong>è¡¨è¾¾å¼æ ‘ï¼ˆExpression Treesï¼‰</strong>ï¼š<br>é€šè¿‡ç¼–è¯‘åçš„è¡¨è¾¾å¼æ ‘æ“ä½œå­—æ®µï¼Œæ€§èƒ½æ¥è¿‘ç›´æ¥èµ‹å€¼ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = Expression.Parameter(<span class="keyword">typeof</span>(Person));</span><br><span class="line"><span class="keyword">var</span> field = Expression.Field(param, <span class="string">&quot;Name&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> setter = Expression.Lambda&lt;Action&lt;Person, <span class="built_in">string</span>&gt;&gt;(</span><br><span class="line">    Expression.Assign(field, Expression.Convert(paramValue, <span class="keyword">typeof</span>(<span class="built_in">string</span>))),</span><br><span class="line">    param, paramValue</span><br><span class="line">).Compile();</span><br><span class="line"></span><br><span class="line">setter(person, <span class="string">&quot;Bob&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>dynamic å…³é”®å­—</strong>ï¼š<br>ç®€å•åœºæ™¯ä¸‹å¿«é€Ÿè®¿é—®å…¬å…±å­—æ®µï¼ˆä½†æ— æ³•è®¿é—®ç§æœ‰æˆå‘˜ï¼‰ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dynamic</span> dynPerson = person;</span><br><span class="line">dynPerson.Name = <span class="string">&quot;Charlie&quot;</span>;</span><br></pre></td></tr></table></figure></li></ul><hr><p>é€šè¿‡åå°„èµ‹å€¼æä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œä½†éœ€æƒè¡¡æ€§èƒ½ä¸ä»£ç å¯ç»´æŠ¤æ€§ã€‚åœ¨éœ€è¦é«˜æ€§èƒ½çš„åœºæ™¯ï¼Œæ¨èä½¿ç”¨é¢„ç¼–è¯‘çš„è¡¨è¾¾å¼æ ‘æˆ–ä»£ç ç”ŸæˆæŠ€æœ¯ï¼ˆå¦‚ Source Generatorsï¼‰ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨ C# ä¸­é€šè¿‡åå°„ç»™å­—æ®µèµ‹å€¼æ˜¯ä¸€ç§åŠ¨æ€æ“ä½œå¯¹è±¡æˆå‘˜çš„å¸¸ç”¨æ–¹æ³•ï¼Œå°¤å…¶é€‚ç”¨äºéœ€è¦ç»•è¿‡ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥çš„åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®ç°æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="ç‰¹æ€§" scheme="https://silencejql.github.io/tags/%E7%89%B9%E6%80%A7/"/>
    
    <category term="åå°„" scheme="https://silencejql.github.io/tags/%E5%8F%8D%E5%B0%84/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨ç‰¹æ€§å°†æ•°æ®æ˜ å°„åˆ°å­—æ®µ</title>
    <link href="https://silencejql.github.io/%E5%88%A9%E7%94%A8%E7%89%B9%E6%80%A7%E5%B0%86%E6%95%B0%E6%8D%AE%E6%98%A0%E5%B0%84%E5%88%B0%E5%AD%97%E6%AE%B5.html"/>
    <id>https://silencejql.github.io/%E5%88%A9%E7%94%A8%E7%89%B9%E6%80%A7%E5%B0%86%E6%95%B0%E6%8D%AE%E6%98%A0%E5%B0%84%E5%88%B0%E5%AD%97%E6%AE%B5.html</id>
    <published>2025-03-05T10:40:16.000Z</published>
    <updated>2025-03-24T11:47:13.124Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥ä¸‹æ˜¯åˆ©ç”¨ C# <strong>ç‰¹æ€§ï¼ˆAttributesï¼‰</strong> å°†å¤–éƒ¨æ•°æ®ï¼ˆå¦‚ JSONã€æ•°æ®åº“è®°å½•ï¼‰åŠ¨æ€æ˜ å°„åˆ°å¯¹è±¡å­—æ®µçš„å®Œæ•´å®ç°æ–¹æ³•ï¼Œç»“åˆåå°„å’Œè‡ªå®šä¹‰ç‰¹æ€§å®ç°è‡ªåŠ¨åŒ–æ˜ å°„</p><span id="more"></span><hr><h3 id="å®ç°æ­¥éª¤">å®ç°æ­¥éª¤</h3><ol><li><strong>å®šä¹‰è‡ªå®šä¹‰ç‰¹æ€§</strong>ï¼šåˆ›å»ºç‰¹æ€§ç±»æ ‡è®°å­—æ®µä¸æ•°æ®æºçš„æ˜ å°„å…³ç³»ã€‚</li><li><strong>æ ‡è®°ç›®æ ‡å­—æ®µ</strong>ï¼šåœ¨ç±»ä¸­ä½¿ç”¨è‡ªå®šä¹‰ç‰¹æ€§æ ‡æ³¨éœ€è¦æ˜ å°„çš„å­—æ®µã€‚</li><li><strong>ç¼–å†™æ˜ å°„é€»è¾‘</strong>ï¼šé€šè¿‡åå°„è§£æç‰¹æ€§å¹¶åŠ¨æ€èµ‹å€¼ã€‚</li></ol><hr><h3 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h3><h4 id="1-å®šä¹‰æ˜ å°„ç‰¹æ€§">1. å®šä¹‰æ˜ å°„ç‰¹æ€§</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰ç‰¹æ€§ï¼šæ ‡è®°å­—æ®µå¯¹åº”çš„æ•°æ®æºé”®å</span></span><br><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Field | AttributeTargets.Property)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MapToAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Key &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MapToAttribute</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Key = key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-æ ‡è®°ç›®æ ‡ç±»å­—æ®µ">2. æ ‡è®°ç›®æ ‡ç±»å­—æ®µ</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MapTo(<span class="string">&quot;user_name&quot;</span>)</span>]  <span class="comment">// æ˜ å°„æ•°æ®æºä¸­çš„ &quot;user_name&quot; é”®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">MapTo(<span class="string">&quot;age&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> Age;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">MapTo(<span class="string">&quot;registration_date&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> DateTime RegisterDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-æ•°æ®æ˜ å°„å·¥å…·ç±»">3. æ•°æ®æ˜ å°„å·¥å…·ç±»</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">DataMapper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å°†å­—å…¸æ•°æ®æ˜ å°„åˆ°å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">MapToObject</span>&lt;<span class="title">T</span>&gt;(<span class="params">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; data</span>) <span class="keyword">where</span> T : <span class="keyword">new</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        T obj = <span class="keyword">new</span> T();</span><br><span class="line">        Type type = <span class="keyword">typeof</span>(T);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> type.GetFields(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> attribute = field.GetCustomAttribute&lt;MapToAttribute&gt;();</span><br><span class="line">            <span class="keyword">if</span> (attribute != <span class="literal">null</span> &amp;&amp; data.TryGetValue(attribute.Key, <span class="keyword">out</span> <span class="built_in">object</span> <span class="keyword">value</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// ç±»å‹è½¬æ¢å¤„ç†</span></span><br><span class="line">                <span class="built_in">object</span> convertedValue = Convert.ChangeType(<span class="keyword">value</span>, field.FieldType);</span><br><span class="line">                field.SetValue(obj, convertedValue);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†å±æ€§ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> type.GetProperties(BindingFlags.Public | BindingFlags.Instance))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> attribute = prop.GetCustomAttribute&lt;MapToAttribute&gt;();</span><br><span class="line">            <span class="keyword">if</span> (attribute != <span class="literal">null</span> &amp;&amp; data.TryGetValue(attribute.Key, <span class="keyword">out</span> <span class="built_in">object</span> <span class="keyword">value</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                prop.SetValue(obj, Convert.ChangeType(<span class="keyword">value</span>, prop.PropertyType));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¨¡æ‹Ÿä»æ•°æ®åº“/JSONè·å–çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">var</span> data = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    &#123; <span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;Alice&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="string">&quot;age&quot;</span>, <span class="number">30</span> &#125;,</span><br><span class="line">    &#123; <span class="string">&quot;registration_date&quot;</span>, <span class="string">&quot;2023-10-01&quot;</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªåŠ¨æ˜ å°„æ•°æ®åˆ°å¯¹è±¡</span></span><br><span class="line">User user = DataMapper.MapToObject&lt;User&gt;(data);</span><br><span class="line"></span><br><span class="line">Console.WriteLine(user.Name);           <span class="comment">// è¾“å‡º: Alice</span></span><br><span class="line">Console.WriteLine(user.RegisterDate);   <span class="comment">// è¾“å‡º: 2023/10/01</span></span><br></pre></td></tr></table></figure><hr><h3 id="é«˜çº§ä¼˜åŒ–">é«˜çº§ä¼˜åŒ–</h3><h4 id="1-æ”¯æŒåµŒå¥—å¯¹è±¡">1. æ”¯æŒåµŒå¥—å¯¹è±¡</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Address</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MapTo(<span class="string">&quot;city&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> City &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MapTo(<span class="string">&quot;address_info&quot;</span>)</span>]  <span class="comment">// å‡è®¾æ•°æ®æºä¸­ address_info æ˜¯åµŒå¥—å­—å…¸</span></span><br><span class="line">    <span class="keyword">public</span> Address Address;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ˜ å°„é€»è¾‘ï¼Œé€’å½’å¤„ç†åµŒå¥—ç±»å‹</span></span><br><span class="line"><span class="keyword">if</span> (field.FieldType.IsClass &amp;&amp; field.FieldType != <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">object</span> nestedObj = MapToObject(field.FieldType, data[attribute.Key] <span class="keyword">as</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;);</span><br><span class="line">    field.SetValue(obj, nestedObj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-ç±»å‹è½¬æ¢å¢å¼º">2. ç±»å‹è½¬æ¢å¢å¼º</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">object</span> <span class="title">SafeConvert</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span>, Type targetType</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (targetType == <span class="keyword">typeof</span>(DateTime))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> DateTime.Parse(<span class="keyword">value</span>.ToString());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Convert.ChangeType(<span class="keyword">value</span>, targetType);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢ä»£ç ä¸­çš„ Convert.ChangeType ä¸º SafeConvert</span></span><br></pre></td></tr></table></figure><h4 id="3-ç¼“å­˜åå°„ä¿¡æ¯">3. ç¼“å­˜åå°„ä¿¡æ¯</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ MemoryCache ç¼“å­˜ FieldInfo å’Œç‰¹æ€§</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> MemoryCache _cache = <span class="keyword">new</span> MemoryCache(<span class="keyword">new</span> MemoryCacheOptions());</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">MapToObjectOptimized</span>&lt;<span class="title">T</span>&gt;(<span class="params">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; data</span>) <span class="keyword">where</span> T : <span class="keyword">new</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Type type = <span class="keyword">typeof</span>(T);</span><br><span class="line">    <span class="keyword">var</span> fields = _cache.GetOrCreate(type.FullName, entry =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> type.GetFields()</span><br><span class="line">            .Select(f =&gt; <span class="keyword">new</span></span><br><span class="line">            &#123;</span><br><span class="line">                Field = f,</span><br><span class="line">                Attribute = f.GetCustomAttribute&lt;MapToAttribute&gt;()</span><br><span class="line">            &#125;)</span><br><span class="line">            .Where(x =&gt; x.Attribute != <span class="literal">null</span>)</span><br><span class="line">            .ToList();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... ä½¿ç”¨ç¼“å­˜çš„ fields è¿›è¡Œèµ‹å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å…³é”®æ³¨æ„äº‹é¡¹">å…³é”®æ³¨æ„äº‹é¡¹</h3><ol><li><p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p><ul><li>åå°„æ“ä½œè¾ƒæ…¢ï¼Œå»ºè®®ç¼“å­˜ <code>FieldInfo</code> å’Œç‰¹æ€§ä¿¡æ¯</li><li>å¯¹äºé«˜é¢‘è°ƒç”¨åœºæ™¯ï¼Œå¯ä½¿ç”¨è¡¨è¾¾å¼æ ‘æˆ– Source Generators é¢„ç¼–è¯‘æ˜ å°„é€»è¾‘</li></ul></li><li><p><strong>é”™è¯¯å¤„ç†</strong>ï¼š</p><ul><li>å¤„ç† <code>Convert.ChangeType</code> çš„ç±»å‹è½¬æ¢å¼‚å¸¸</li><li>æ£€æŸ¥æ•°æ®æºé”®æ˜¯å¦å­˜åœ¨</li></ul></li><li><p><strong>ç‰¹æ€§æ‰©å±•</strong>ï¼š</p><ul><li>å¯å¢åŠ æ›´å¤šå±æ€§æ§åˆ¶æ˜ å°„è¡Œä¸ºï¼ˆå¦‚æ˜¯å¦å¿…å¡«ã€é»˜è®¤å€¼ï¼‰</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MapToAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Key &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> Required &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> DefaultValue &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>å…¼å®¹æ€§</strong>ï¼š</p><ul><li>åŒæ—¶æ”¯æŒå­—æ®µ (Field) å’Œå±æ€§ (Property)</li><li>å¤„ç†ç§æœ‰å­—æ®µéœ€æŒ‡å®š <code>BindingFlags.NonPublic</code></li></ul></li></ol><hr><h3 id="æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”">æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>åå°„+ç‰¹æ€§</strong></td><td>çµæ´»ï¼Œæ— éœ€é¢„ç¼–è¯‘ä»£ç </td><td>æ€§èƒ½è¾ƒä½</td></tr><tr><td><strong>è¡¨è¾¾å¼æ ‘</strong></td><td>æ€§èƒ½æ¥è¿‘åŸç”Ÿä»£ç </td><td>å®ç°å¤æ‚åº¦é«˜</td></tr><tr><td><strong>Source Generators</strong></td><td>é›¶è¿è¡Œæ—¶å¼€é”€ï¼Œé«˜æ€§èƒ½</td><td>éœ€è¦å­¦ä¹  Roslyn API</td></tr><tr><td><strong>ç¬¬ä¸‰æ–¹åº“</strong></td><td>åŠŸèƒ½å®Œå–„ï¼ˆå¦‚ AutoMapperï¼‰</td><td>å¼•å…¥å¤–éƒ¨ä¾èµ–</td></tr></tbody></table><hr><p>é€šè¿‡è‡ªå®šä¹‰ç‰¹æ€§ç»“åˆåå°„ï¼Œå¯ä»¥å®ç°çµæ´»çš„æ•°æ®åˆ°å¯¹è±¡çš„æ˜ å°„é€»è¾‘ï¼Œé€‚ç”¨äºé…ç½®æ–‡ä»¶è§£æã€ORM æ¡†æ¶ã€API å“åº”ååºåˆ—åŒ–ç­‰åœºæ™¯ã€‚å¯¹äºæ€§èƒ½æ•æ„Ÿé¡¹ç›®ï¼Œå»ºè®®ä½¿ç”¨ç¼“å­˜æˆ–ç¼–è¯‘æ—¶ç”Ÿæˆæ–¹æ¡ˆã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»¥ä¸‹æ˜¯åˆ©ç”¨ C# &lt;strong&gt;ç‰¹æ€§ï¼ˆAttributesï¼‰&lt;/strong&gt; å°†å¤–éƒ¨æ•°æ®ï¼ˆå¦‚ JSONã€æ•°æ®åº“è®°å½•ï¼‰åŠ¨æ€æ˜ å°„åˆ°å¯¹è±¡å­—æ®µçš„å®Œæ•´å®ç°æ–¹æ³•ï¼Œç»“åˆåå°„å’Œè‡ªå®šä¹‰ç‰¹æ€§å®ç°è‡ªåŠ¨åŒ–æ˜ å°„&lt;/p&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="ç‰¹æ€§" scheme="https://silencejql.github.io/tags/%E7%89%B9%E6%80%A7/"/>
    
    <category term="åå°„" scheme="https://silencejql.github.io/tags/%E5%8F%8D%E5%B0%84/"/>
    
  </entry>
  
  <entry>
    <title>iniæ–‡ä»¶åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
    <link href="https://silencejql.github.io/ini%E6%96%87%E4%BB%B6%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96.html"/>
    <id>https://silencejql.github.io/ini%E6%96%87%E4%BB%B6%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96.html</id>
    <published>2025-03-05T10:37:24.000Z</published>
    <updated>2025-03-25T03:26:34.068Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥ä¸‹æ˜¯åˆ©ç”¨ C# å®ç° <strong>INI æ–‡ä»¶åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</strong> çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œç»“åˆåå°„å’Œè‡ªå®šä¹‰ç‰¹æ€§ï¼Œå®ç°å¯¹è±¡ä¸ INI æ–‡ä»¶çš„åŒå‘è½¬æ¢</p><span id="more"></span><hr><h3 id="å®ç°æ–¹æ¡ˆ">å®ç°æ–¹æ¡ˆ</h3><ol><li><strong>å®šä¹‰ç‰¹æ€§</strong>ï¼šæ ‡è®°ç±»å’Œå­—æ®µå¯¹åº”çš„ INI æ–‡ä»¶åŒºåŸŸï¼ˆSectionï¼‰å’Œé”®ï¼ˆKeyï¼‰ã€‚</li><li><strong>æ ¸å¿ƒåºåˆ—åŒ–ç±»</strong>ï¼šé€šè¿‡åå°„è§£æç‰¹æ€§ï¼ŒåŠ¨æ€è¯»å†™ INI æ–‡ä»¶ã€‚</li><li><strong>æ”¯æŒç±»å‹è½¬æ¢</strong>ï¼šè‡ªåŠ¨å¤„ç†åŸºæœ¬ç±»å‹ã€æ—¥æœŸã€æšä¸¾ç­‰å¸¸è§æ•°æ®ç±»å‹ã€‚</li></ol><hr><h3 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h3><h4 id="1-å®šä¹‰ç‰¹æ€§ç±»">1. å®šä¹‰ç‰¹æ€§ç±»</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ‡è®°ç±»å¯¹åº”çš„ INI æ–‡ä»¶åŒºåŸŸï¼ˆSectionï¼‰</span></span><br><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Class)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniSectionAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> SectionName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniSectionAttribute</span>(<span class="params"><span class="built_in">string</span> sectionName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        SectionName = sectionName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ‡è®°å­—æ®µ/å±æ€§å¯¹åº”çš„ INI é”®ï¼ˆKeyï¼‰</span></span><br><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Field | AttributeTargets.Property)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniKeyAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> KeyName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniKeyAttribute</span>(<span class="params"><span class="built_in">string</span> keyName = <span class="literal">null</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        KeyName = keyName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-åºåˆ—åŒ–å·¥å…·ç±»">2. åºåˆ—åŒ–å·¥å…·ç±»</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">IniSerializer</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åºåˆ—åŒ–å¯¹è±¡åˆ° INI æ–‡ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Serialize</span>&lt;<span class="title">T</span>&gt;(<span class="params">T obj, <span class="built_in">string</span> filePath</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> type = <span class="keyword">typeof</span>(T);</span><br><span class="line">        <span class="keyword">var</span> sectionAttr = type.GetCustomAttribute&lt;IniSectionAttribute&gt;();</span><br><span class="line">        <span class="built_in">string</span> section = sectionAttr?.SectionName ?? type.Name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> type.GetFields(BindingFlags.Public | BindingFlags.Instance))</span><br><span class="line">        &#123;</span><br><span class="line">            ProcessMember(sb, section, field, field.GetValue(obj));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> type.GetProperties(BindingFlags.Public | BindingFlags.Instance))</span><br><span class="line">        &#123;</span><br><span class="line">            ProcessMember(sb, section, prop, prop.GetValue(obj));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        File.WriteAllText(filePath, sb.ToString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ååºåˆ—åŒ– INI æ–‡ä»¶åˆ°å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Deserialize</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> filePath</span>) <span class="keyword">where</span> T : <span class="keyword">new</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> obj = <span class="keyword">new</span> T();</span><br><span class="line">        <span class="keyword">var</span> type = <span class="keyword">typeof</span>(T);</span><br><span class="line">        <span class="keyword">var</span> sectionAttr = type.GetCustomAttribute&lt;IniSectionAttribute&gt;();</span><br><span class="line">        <span class="built_in">string</span> section = sectionAttr?.SectionName ?? type.Name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> lines = File.ReadAllLines(filePath);</span><br><span class="line">        <span class="keyword">var</span> data = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> line <span class="keyword">in</span> lines)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (line.StartsWith(<span class="string">&quot;[&quot;</span>) &amp;&amp; line.EndsWith(<span class="string">&quot;]&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// å¤„ç†å¤š Sectionï¼ˆæ­¤å¤„ç¤ºä¾‹ä»…å¤„ç†å•ä¸ª Sectionï¼‰</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (line.Contains(<span class="string">&quot;=&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">var</span> parts = line.Split(<span class="keyword">new</span>[] &#123; <span class="string">&#x27;=&#x27;</span> &#125;, <span class="number">2</span>);</span><br><span class="line">                data[parts[<span class="number">0</span>].Trim()] = parts[<span class="number">1</span>].Trim();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> field <span class="keyword">in</span> type.GetFields(BindingFlags.Public | BindingFlags.Instance))</span><br><span class="line">        &#123;</span><br><span class="line">            SetMemberValue(obj, field, data);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> type.GetProperties(BindingFlags.Public | BindingFlags.Instance))</span><br><span class="line">        &#123;</span><br><span class="line">            SetMemberValue(obj, prop, data);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ProcessMember</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> section, MemberInfo member, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> keyAttr = member.GetCustomAttribute&lt;IniKeyAttribute&gt;();</span><br><span class="line">        <span class="built_in">string</span> keyName = keyAttr?.KeyName ?? member.Name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sb.AppendLine(<span class="string">$&quot;<span class="subst">&#123;keyName&#125;</span>=<span class="subst">&#123;ConvertToString(<span class="keyword">value</span>)&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SetMemberValue</span>&lt;<span class="title">T</span>&gt;(<span class="params">T obj, MemberInfo member, Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; data</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> keyAttr = member.GetCustomAttribute&lt;IniKeyAttribute&gt;();</span><br><span class="line">        <span class="built_in">string</span> keyName = keyAttr?.KeyName ?? member.Name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (data.TryGetValue(keyName, <span class="keyword">out</span> <span class="built_in">string</span> strValue))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">object</span> <span class="keyword">value</span> = ConvertFromString(strValue, GetMemberType(member));</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (member <span class="keyword">is</span> FieldInfo field)</span><br><span class="line">                field.SetValue(obj, <span class="keyword">value</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (member <span class="keyword">is</span> PropertyInfo prop &amp;&amp; prop.CanWrite)</span><br><span class="line">                prop.SetValue(obj, <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Type <span class="title">GetMemberType</span>(<span class="params">MemberInfo member</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> member.MemberType <span class="keyword">switch</span></span><br><span class="line">        &#123;</span><br><span class="line">            MemberTypes.Field =&gt; ((FieldInfo)member).FieldType,</span><br><span class="line">            MemberTypes.Property =&gt; ((PropertyInfo)member).PropertyType,</span><br><span class="line">            _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> NotSupportedException()</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç±»å‹è½¬æ¢æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">ConvertToString</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> <span class="keyword">switch</span></span><br><span class="line">        &#123;</span><br><span class="line">            DateTime dt =&gt; dt.ToString(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>),</span><br><span class="line">            Enum e =&gt; e.ToString(),</span><br><span class="line">            _ =&gt; <span class="keyword">value</span>.ToString()</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">object</span> <span class="title">ConvertFromString</span>(<span class="params"><span class="built_in">string</span> <span class="keyword">value</span>, Type targetType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (targetType == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (targetType.IsEnum)</span><br><span class="line">            <span class="keyword">return</span> Enum.Parse(targetType, <span class="keyword">value</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Convert.ChangeType(<span class="keyword">value</span>, targetType);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</h3><h4 id="1-å®šä¹‰æ•°æ®ç±»">1. å®šä¹‰æ•°æ®ç±»</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">IniSection(<span class="string">&quot;UserSettings&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserConfig</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;username&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;age&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Age;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;last_login&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> DateTime LastLogin;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniKey(<span class="string">&quot;theme&quot;</span>)</span>]  <span class="comment">// ä½¿ç”¨é»˜è®¤é”®å &quot;theme&quot;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> InterfaceTheme = <span class="string">&quot;default&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-åºåˆ—åŒ–å¯¹è±¡åˆ°-INI">2. åºåˆ—åŒ–å¯¹è±¡åˆ° INI</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> config = <span class="keyword">new</span> UserConfig</span><br><span class="line">&#123;</span><br><span class="line">    Name = <span class="string">&quot;Alice&quot;</span>,</span><br><span class="line">    Age = <span class="number">30</span>,</span><br><span class="line">    LastLogin = DateTime.Now,</span><br><span class="line">    InterfaceTheme = <span class="string">&quot;dark&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">IniSerializer.Serialize(config, <span class="string">&quot;user_config.ini&quot;</span>);</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆæ–‡ä»¶å†…å®¹ (<code>user_config.ini</code>)ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">username</span>=Alice</span><br><span class="line"><span class="attr">age</span>=<span class="number">30</span></span><br><span class="line"><span class="attr">last_login</span>=<span class="number">2023</span>-<span class="number">10</span>-<span class="number">05</span> <span class="number">14</span>:<span class="number">30</span>:<span class="number">00</span></span><br><span class="line"><span class="attr">theme</span>=dark</span><br></pre></td></tr></table></figure><h4 id="3-ååºåˆ—åŒ–-INI-åˆ°å¯¹è±¡">3. ååºåˆ—åŒ– INI åˆ°å¯¹è±¡</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loadedConfig = IniSerializer.Deserialize&lt;UserConfig&gt;(<span class="string">&quot;user_config.ini&quot;</span>);</span><br><span class="line">Console.WriteLine(loadedConfig.Name);        <span class="comment">// è¾“å‡º: Alice</span></span><br><span class="line">Console.WriteLine(loadedConfig.Age);         <span class="comment">// è¾“å‡º: 30</span></span><br><span class="line">Console.WriteLine(loadedConfig.LastLogin);   <span class="comment">// è¾“å‡º: 2023/10/5 14:30:00</span></span><br></pre></td></tr></table></figure><hr><h3 id="é«˜çº§åŠŸèƒ½æ‰©å±•">é«˜çº§åŠŸèƒ½æ‰©å±•</h3><h4 id="1-æ”¯æŒå¤š-Section">1. æ”¯æŒå¤š Section</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AppConfig</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">IniSection(<span class="string">&quot;User&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> UserConfig User &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">IniSection(<span class="string">&quot;System&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> SystemConfig System &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹åºåˆ—åŒ–é€»è¾‘ï¼Œé€’å½’å¤„ç†åµŒå¥—å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ProcessMember</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> parentSection, MemberInfo member, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> sectionAttr = member.DeclaringType.GetCustomAttribute&lt;IniSectionAttribute&gt;();</span><br><span class="line">    <span class="built_in">string</span> currentSection = sectionAttr?.SectionName ?? parentSection;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">value</span>.GetType().IsClass &amp;&amp; <span class="keyword">value</span>.GetType() != <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> subMember <span class="keyword">in</span> <span class="keyword">value</span>.GetType().GetMembers())</span><br><span class="line">        &#123;</span><br><span class="line">            ProcessMember(sb, currentSection, subMember, subMember.GetValue(<span class="keyword">value</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åŸæœ‰å¤„ç†é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨">2. è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IIniTypeConverter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">ConvertToString</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span></span>)</span>;</span><br><span class="line">    <span class="function"><span class="built_in">object</span> <span class="title">ConvertFromString</span>(<span class="params"><span class="built_in">string</span> <span class="keyword">value</span>, Type targetType</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œè‡ªå®šä¹‰è½¬æ¢å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">IniConverters</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Dictionary&lt;Type, IIniTypeConverter&gt; Converters = <span class="keyword">new</span> Dictionary&lt;Type, IIniTypeConverter&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        &#123; <span class="keyword">typeof</span>(Version), <span class="keyword">new</span> VersionConverter() &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VersionConverter</span> : <span class="title">IIniTypeConverter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">ConvertToString</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span></span>)</span> =&gt; ((Version)<span class="keyword">value</span>).ToString();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">object</span> <span class="title">ConvertFromString</span>(<span class="params"><span class="built_in">string</span> <span class="keyword">value</span>, Type targetType</span>)</span> =&gt; Version.Parse(<span class="keyword">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-å¤„ç†æ³¨é‡Šï¼ˆæ‰©å±•ç‰¹æ€§ï¼‰">3. å¤„ç†æ³¨é‡Šï¼ˆæ‰©å±•ç‰¹æ€§ï¼‰</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Class | AttributeTargets.Field | AttributeTargets.Property)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IniCommentAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Comment &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IniCommentAttribute</span>(<span class="params"><span class="built_in">string</span> comment</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Comment = comment;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨åºåˆ—åŒ–æ—¶æ·»åŠ æ³¨é‡Š</span></span><br><span class="line"><span class="keyword">if</span> (member.GetCustomAttribute&lt;IniCommentAttribute&gt;() <span class="keyword">is</span> &#123; &#125; commentAttr)</span><br><span class="line">&#123;</span><br><span class="line">    sb.AppendLine(<span class="string">$&quot;; <span class="subst">&#123;commentAttr.Comment&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å…³é”®æ³¨æ„äº‹é¡¹">å…³é”®æ³¨æ„äº‹é¡¹</h3><ol><li><p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p><ul><li>å¯¹é¢‘ç¹è°ƒç”¨çš„ç±»å‹ç¼“å­˜ <code>MemberInfo</code> å’Œç‰¹æ€§ä¿¡æ¯</li><li>ä½¿ç”¨ <code>StringBuilder</code> æ›¿ä»£å­—ç¬¦ä¸²æ‹¼æ¥</li></ul></li><li><p><strong>é”™è¯¯å¤„ç†</strong>ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> Convert.ChangeType(<span class="keyword">value</span>, targetType);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception ex)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> IniSerializationException(<span class="string">$&quot;Type conversion failed: <span class="subst">&#123;<span class="keyword">value</span>&#125;</span> -&gt; <span class="subst">&#123;targetType.Name&#125;</span>&quot;</span>, ex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–ç å¤„ç†</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>Encoding.UTF8</code> è¯»å†™æ–‡ä»¶ï¼š</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File.WriteAllText(filePath, sb.ToString(), Encoding.UTF8);</span><br></pre></td></tr></table></figure></li><li><p><strong>å®‰å…¨é™åˆ¶</strong>ï¼š</p><ul><li>å¤„ç†ç§æœ‰æˆå‘˜éœ€æ·»åŠ  <code>BindingFlags.NonPublic</code></li><li>å¯¹ä¸å¯å†™å±æ€§è·³è¿‡èµ‹å€¼</li></ul></li></ol><hr><h3 id="æ–¹æ¡ˆå¯¹æ¯”">æ–¹æ¡ˆå¯¹æ¯”</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>æ‰‹åŠ¨è¯»å†™</strong></td><td>å®Œå…¨æ§åˆ¶é€»è¾‘</td><td>ä»£ç å†—ä½™ï¼Œç»´æŠ¤æˆæœ¬é«˜</td></tr><tr><td><strong>åå°„+ç‰¹æ€§</strong></td><td>è‡ªåŠ¨åŒ–ï¼Œä»£ç ç®€æ´</td><td>æ€§èƒ½è¾ƒä½</td></tr><tr><td><strong>ç¬¬ä¸‰æ–¹åº“</strong></td><td>åŠŸèƒ½å®Œå–„ï¼ˆå¦‚ <code>IniParser</code>ï¼‰</td><td>éœ€è¦å¼•å…¥å¤–éƒ¨ä¾èµ–</td></tr><tr><td><strong>Source Generators</strong></td><td>é›¶è¿è¡Œæ—¶å¼€é”€ï¼Œé«˜æ€§èƒ½</td><td>å®ç°å¤æ‚åº¦é«˜</td></tr></tbody></table><hr><p>æœ¬æ–¹æ¡ˆé€šè¿‡åå°„å’Œç‰¹æ€§å®ç°äº† INI æ–‡ä»¶ä¸å¯¹è±¡çš„åŒå‘è½¬æ¢ï¼Œé€‚ç”¨äºé…ç½®ç®¡ç†ã€æ¸¸æˆå­˜æ¡£ç­‰åœºæ™¯ã€‚å¯¹äºé«˜æ€§èƒ½éœ€æ±‚ï¼Œå»ºè®®ç»“åˆç¼“å­˜æœºåˆ¶æˆ–ä½¿ç”¨é¢„ç¼–è¯‘æŠ€æœ¯ä¼˜åŒ–ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»¥ä¸‹æ˜¯åˆ©ç”¨ C# å®ç° &lt;strong&gt;INI æ–‡ä»¶åºåˆ—åŒ–ä¸ååºåˆ—åŒ–&lt;/strong&gt; çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œç»“åˆåå°„å’Œè‡ªå®šä¹‰ç‰¹æ€§ï¼Œå®ç°å¯¹è±¡ä¸ INI æ–‡ä»¶çš„åŒå‘è½¬æ¢&lt;/p&gt;</summary>
    
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/categories/CSharp/"/>
    
    
    <category term="CSharp" scheme="https://silencejql.github.io/tags/CSharp/"/>
    
    <category term="Ini" scheme="https://silencejql.github.io/tags/Ini/"/>
    
    <category term="ç‰¹æ€§" scheme="https://silencejql.github.io/tags/%E7%89%B9%E6%80%A7/"/>
    
    <category term="åå°„" scheme="https://silencejql.github.io/tags/%E5%8F%8D%E5%B0%84/"/>
    
  </entry>
  
</feed>
